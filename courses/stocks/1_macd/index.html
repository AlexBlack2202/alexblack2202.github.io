<!doctype html><html lang="en" data-palette="blue"
   data-mode="dark">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Chỉ số dự báo MACD - Phạm Duy Tùng Machine Learning Blog</title>
    <meta name="a.validate.02" content="1QZXZ8oi7g57H-GxBrBPkTYBydwii-Ic9iJu" /><link rel="apple-touch-icon" href="/images/icons/icon-180x180.png" sizes="180x180">
<link rel="icon" href="/images/icons/icon-32x32.png" sizes="32x32" type="image/png">
<link rel="icon" href="/images/icons/icon-16x16.png" sizes="16x16" type="image/png">
<link rel="icon" href="/images/icons/favicon.ico">
<link rel="manifest" href="/manifest.json">
<meta name="keywords" content="" />
<meta name="description" content="


Chỉ số MACD, là tên gọi tắt của moving average convergence/divergence, là một chỉ số giao dịch được sử dụng trong phân tích kỹ thuật trên giá cổ phiếu. Chỉ số được phát triển bởi Gerald Appel vào những năm cuối thập niên 70 của thế kỷ 20.
Chỉ số MACD giúp chúng ta xác định sự thay đổi của sức mạnh, hướng, động lượng ( momentum), và khoảng thời gian của xu hướng giá cổ phiếu. Để làm được điều này, MACD sử dụng 3 chuỗi thời gian EMA khác nhau, theo sách vở kinh điển là EMA12, EMA26 và EMA9. Chỉ số MACD dùng 3 chuỗi EMA trên, được ký hiệu là MACD(12,26,9). Do chỉ sử dụng lịch sử giá của quá khứ, nên chỉ số MACD được xếp vào nhóm chỉ số dự báo muộn." /><meta name="robots" content="index, follow" />
  <meta itemprop="name" content="Chỉ số dự báo MACD">
  <meta itemprop="description" content="Chỉ số MACD, là tên gọi tắt của moving average convergence/divergence, là một chỉ số giao dịch được sử dụng trong phân tích kỹ thuật trên giá cổ phiếu. Chỉ số được phát triển bởi Gerald Appel vào những năm cuối thập niên 70 của thế kỷ 20.
Chỉ số MACD giúp chúng ta xác định sự thay đổi của sức mạnh, hướng, động lượng ( momentum), và khoảng thời gian của xu hướng giá cổ phiếu. Để làm được điều này, MACD sử dụng 3 chuỗi thời gian EMA khác nhau, theo sách vở kinh điển là EMA12, EMA26 và EMA9. Chỉ số MACD dùng 3 chuỗi EMA trên, được ký hiệu là MACD(12,26,9). Do chỉ sử dụng lịch sử giá của quá khứ, nên chỉ số MACD được xếp vào nhóm chỉ số dự báo muộn.">
  <meta itemprop="datePublished" content="2022-04-11T00:19:00+03:00">
  <meta itemprop="dateModified" content="2022-04-11T00:19:00+03:00">
  <meta itemprop="wordCount" content="1029">
  <meta itemprop="keywords" content="Stock"><meta property="og:url" content="/courses/stocks/1_macd/">
  <meta property="og:site_name" content="Phạm Duy Tùng Machine Learning Blog">
  <meta property="og:title" content="Chỉ số dự báo MACD">
  <meta property="og:description" content="Chỉ số MACD, là tên gọi tắt của moving average convergence/divergence, là một chỉ số giao dịch được sử dụng trong phân tích kỹ thuật trên giá cổ phiếu. Chỉ số được phát triển bởi Gerald Appel vào những năm cuối thập niên 70 của thế kỷ 20.
Chỉ số MACD giúp chúng ta xác định sự thay đổi của sức mạnh, hướng, động lượng ( momentum), và khoảng thời gian của xu hướng giá cổ phiếu. Để làm được điều này, MACD sử dụng 3 chuỗi thời gian EMA khác nhau, theo sách vở kinh điển là EMA12, EMA26 và EMA9. Chỉ số MACD dùng 3 chuỗi EMA trên, được ký hiệu là MACD(12,26,9). Do chỉ sử dụng lịch sử giá của quá khứ, nên chỉ số MACD được xếp vào nhóm chỉ số dự báo muộn.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="courses">
    <meta property="article:published_time" content="2022-04-11T00:19:00+03:00">
    <meta property="article:modified_time" content="2022-04-11T00:19:00+03:00">
    <meta property="article:tag" content="Stock">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Chỉ số dự báo MACD">
  <meta name="twitter:description" content="Chỉ số MACD, là tên gọi tắt của moving average convergence/divergence, là một chỉ số giao dịch được sử dụng trong phân tích kỹ thuật trên giá cổ phiếu. Chỉ số được phát triển bởi Gerald Appel vào những năm cuối thập niên 70 của thế kỷ 20.
Chỉ số MACD giúp chúng ta xác định sự thay đổi của sức mạnh, hướng, động lượng ( momentum), và khoảng thời gian của xu hướng giá cổ phiếu. Để làm được điều này, MACD sử dụng 3 chuỗi thời gian EMA khác nhau, theo sách vở kinh điển là EMA12, EMA26 và EMA9. Chỉ số MACD dùng 3 chuỗi EMA trên, được ký hiệu là MACD(12,26,9). Do chỉ sử dụng lịch sử giá của quá khứ, nên chỉ số MACD được xếp vào nhóm chỉ số dự báo muộn.">
<meta property="og:image" content="/images/logo.png"/>
  <meta name="twitter:image" content="/images/logo.png"/><link rel="stylesheet" href="/css/main.min.c06cf34535ee1f60ba08893b4d57e76b2bbd5e11c17ab12ef976f02983a51b54.css" integrity="sha256-wGzzRTXuH2C6CIk7TVfnayu9XhHBerEu&#43;XbwKYOlG1Q=" crossorigin="anonymous"><link rel="stylesheet" href="/css/katex.min.d080a89e03e1eb850f547d835c186b4273f69879aa497eb8b0e88c1578bf1f0b.css" integrity="sha256-0ICongPh64UPVH2DXBhrQnP2mHmqSX64sOiMFXi/Hws=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/viewer.min.3d228794bcedbbfa0412beb8fbc1ec6973202945e42af7004f742a4d7bd620ab.css" integrity="sha256-PSKHlLztu/oEEr64&#43;8HsaXMgKUXkKvcAT3QqTXvWIKs=" crossorigin="anonymous"><style>
    .bgcover {
        display: block;
        overflow: hidden;
        height: 450px;
        background: no-repeat center center;
        -webkit-background-size: cover;
        -moz-background-size: cover;
        -o-background-size: cover;
        background-size: cover;
        position: relative;
        margin-bottom: -65px;
    }
    .bgcover {
        margin-bottom: 0 !important;
    }

    .bgcover .bgtrans {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        display: block;
        overflow: hidden;
        height: inherit;
        background: rgba(0,0,0,.8);
        background: -webkit-gradient(linear,0% 0%,0% 100%,from(rgba(0,0,0,.8)),to (rgba(0,0,0,.6)),to(rgba(255,255,255,0)));
        background: -webkit-linear-gradient(top,rgba(255,255,255,0),rgba(0,0,0,.6),rgba(0,0,0,.8));
        background: -moz-linear-gradient(top,rgba(255,255,255,0),rgba(0,0,0,.6),rgba(0,0,0,.8));
        background: -ms-linear-gradient(top,rgba(255,255,255,0),rgba(0,0,0,.6),rgba(0,0,0,.8));
        background: -o-linear-gradient(top,rgba(255,255,255,0),rgba(0,0,0,.6),rgba(0,0,0,.8));
    }

    .bgcover .bgtrans h1 {
        display: block;
        overflow: hidden;
        font-size: 45px;
        line-height: 55px;
        color: #fff;
        width: 800px;
        margin: auto;
        position: absolute;
        left: 0;
        right: 0;
        bottom: 50px;
        font-family: 'Roboto Condensed',sans-serif;
        font-weight: 600;
    }
</style></head>
  <body><script>const items=["mode","palette"];items.forEach(function(e){const t=localStorage.getItem("hbs-"+e);t&&document.body.parentElement.setAttribute("data-"+e,t)})</script><header><nav class="navbar top-app-bar top-app-bar-expand-lg fixed-top">
  <div class="container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <i class="fas fa-bars"></i>
    </button><a class="navbar-brand flex-grow-1 flex-lg-grow-0 text-center text-lg-start mx-auto me-lg-3" href="/"><img class="logo" alt="Logo" src="/images/logo.webp" loading="lazy"  title="Logo"
   width="32" height="32"
   />
HOME
    </a>
    <div class="offcanvas offcanvas-bottom surface" tabindex="-1" id="offcanvasSocialShare" aria-labelledby="offcanvasSocialShare">
  <div class="offcanvas-header">
    <h3 class="offcanvas-title">Share</h3>
    <button type="button" class="btn btn-sm btn-outline-primary" data-bs-dismiss="offcanvas" aria-label="Close">
      <i class="fas fa-times"></i>
    </button>
  </div>
  <div class="offcanvas-body">
    <a class="btn btn-sm btn-outline-primary social-share-button" rel="noopener noreferrer" aria-label="Twitter Share Button"
      target="_blank" href="https://twitter.com/intent/tweet?title=Ch%e1%bb%89%20s%e1%bb%91%20d%e1%bb%b1%20b%c3%a1o%20MACD&url=%2fcourses%2fstocks%2f1_macd%2f">
      <i class="fab fa-fw fa-twitter"></i> Twitter
    </a>
    <a class="btn btn-sm btn-outline-primary social-share-button" rel="noopener noreferrer" aria-label="Facebook Share Button"
      target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=%2fcourses%2fstocks%2f1_macd%2f">
      <i class="fab fa-fw fa-facebook-f"></i> Facebook
    </a>
  </div>
</div>
    <button class="navbar-settings" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasSettings"
  aria-controls="offcanvasSettings" aria-label="Toggle settings">
  <i class="fas fa-ellipsis-v"></i>
</button>

<div class="offcanvas offcanvas-end surface h-100" tabindex="-1" id="offcanvasSettings" aria-labelledby="offcanvasSettings">
  <div class="offcanvas-header">
    <h3 class="offcanvas-title">Settings</h3>
    <button type="button" class="btn btn-sm btn-outline-primary" data-bs-dismiss="offcanvas" aria-label="Close">
      <i class="fas fa-times"></i>
    </button>
  </div>
  <div class="offcanvas-body d-flex flex-column">



<section class="setting">
  <form class="font-size-switcher-form row">
    <div class="col-auto">
      <label for="fontSize" class="form-label"><i class="fas fa-fw fa-font"></i> Font Size</label>
    </div>
    <div class="col-auto ms-auto">
      <input type="range" class="form-range" min="-2" max="2" id="fontSize">
    </div>
  </form>
</section>


<section class="setting palettes">
  <form class="row">
    <div class="col-auto">
      <label><i class="fas fa-fw fa-palette"></i> Palette</label>
    </div>
    <div class="col-auto ms-auto">
      <a id="btnPalette" class="btn btn-sm btn-outline-primary" role="button" aria-label="palettePicker">
        <i class="fas fa-eye-dropper"></i>
      </a>
    </div>
  </form>
  <div class="mt-2 d-flex justify-content-between visually-hidden" id="palettePicker"><button type="button" id="palette-blue" aria-label="Blue"
        class="btn btn-sm w-100 palette" data-palette="blue">
      </button><button type="button" id="palette-blue-gray" aria-label="Blue Gray"
        class="btn btn-sm w-100 palette" data-palette="blue-gray">
      </button><button type="button" id="palette-brown" aria-label="Brown"
        class="btn btn-sm w-100 palette" data-palette="brown">
      </button><button type="button" id="palette-cyan" aria-label="Cyan"
        class="btn btn-sm w-100 palette" data-palette="cyan">
      </button><button type="button" id="palette-green" aria-label="Green"
        class="btn btn-sm w-100 palette" data-palette="green">
      </button><button type="button" id="palette-indigo" aria-label="Indigo"
        class="btn btn-sm w-100 palette" data-palette="indigo">
      </button><button type="button" id="palette-orange" aria-label="Orange"
        class="btn btn-sm w-100 palette" data-palette="orange">
      </button><button type="button" id="palette-pink" aria-label="Pink"
        class="btn btn-sm w-100 palette" data-palette="pink">
      </button><button type="button" id="palette-purple" aria-label="Purple"
        class="btn btn-sm w-100 palette" data-palette="purple">
      </button><button type="button" id="palette-red" aria-label="Red"
        class="btn btn-sm w-100 palette" data-palette="red">
      </button><button type="button" id="palette-teal" aria-label="Teal"
        class="btn btn-sm w-100 palette" data-palette="teal">
      </button><button type="button" id="palette-yellow" aria-label="Yellow"
        class="btn btn-sm w-100 palette" data-palette="yellow">
      </button></div>
</section>
<section class="setting actions d-flex justify-content-around mt-auto overflow-auto">
  <a role="button" class="action action-go-back" href="javascript: window.history.back();">
    <span class="action-icon"><i class="fas fa-2x fa-arrow-left"></i></span> Go back
  </a>
  <a role="button" class="action action-reload-page">
    <span class="action-icon"><i class="fas fa-2x fa-redo-alt"></i></span> Reload
  </a>
  <a role="button" class="action action-copy-url">
    <span class="action-icon"><i class="fas fa-2x fa-link"></i></span> Copy URL
  </a><a class="action action-social-share" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasSocialShare"
    aria-controls="offcanvasSocialShare" aria-label="Toggle social share">
    <span class="action-icon"><i class="fas fa-2x fa-share-alt"></i></span> Share
  </a></section>

</div>
</div>

    <div class="collapse navbar-collapse" tabindex="-1" id="navbarSupportedContent" aria-labelledby="navbarSupportedContent">
      <form class="search-bar my-1" action="/search">
  <div class="input-group input-group-sm">
    <span class="btn btn-search disabled position-absolute left-0"><i class="fas fa-fw fa-search"></i></span>
    <input class="form-control rounded-pill" name="q" type="search" aria-label="Search">
  </div>
</form>
      <ul class="navbar-nav ms-auto"><li class="nav-item">
          <a class="nav-link" href="/series/">
            <i class="fas fa-fw fa-columns"></i>Courses
          </a>
        </li><li class="nav-item">
          <a class="nav-link" href="/tools/">
            <i class="fas fa-fw fa-folder"></i>Tools
          </a>
        </li><li class="nav-item">
          <a class="nav-link" href="/categories/">
            <i class="fas fa-fw fa-folder"></i>Categories
          </a>
        </li><li class="nav-item">
          <a class="nav-link" href="/archives/">
            <i class="fas fa-fw fa-file-archive"></i>Archives
          </a>
        </li><li class="nav-item">
          <a class="nav-link" href="/tags/">
            <i class="fas fa-fw fa-tags"></i>Tags
          </a>
        </li><li class="nav-item dropdown">
          <a class="nav-link" id="navbarDropdownSupport" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="fas fa-fw fa-chevron-circle-down"></i>Support
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdownSupport"><li>
              <a class="dropdown-item"
                href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer">
                Repository
              </a>
            </li><li>
              <a class="dropdown-item"
                href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer">
                Discussions
              </a>
            </li><li>
              <a class="dropdown-item"
                href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer">
                Features Request
              </a>
            </li><li><hr class="dropdown-divider"></li><li>
              <a class="dropdown-item"
                href="/faq/">
                FAQs
              </a>
            </li></ul>
        </li></ul>
    </div>
  </div>
</nav>
</header>
<main role="main" class="container" style="line-height:1.7em">
      <div class="row content">
<div class="col-lg-9 col-md-8">
  <div class="container"><nav class="row card component" aria-label="breadcrumb">
  <div class="card-body">
    <ol class="breadcrumb "><li class="breadcrumb-item"><a href="/">Home</a></li><li class="breadcrumb-item"><a href="/courses/">Courses</a></li><li class="breadcrumb-item active">Chỉ Số Dự Báo MACD</li></ol>
  </div>
</nav>
<div class="post-panel-wrapper">
  <div class="d-flex flex-column component rounded post-panel">
    
    <a class="action action-panel-toggler" role="button" title="Panel toggler">
      <i class="fas fa-fw fa-chevron-circle-down"></i>
    </a>
    <a id="sidebarToggler" class="action d-none d-lg-block" role="button" title="Sidebar toggler">
  <i class="fas fa-fw fa-expand-alt" data-fa-transform="rotate-45"></i>
</a>

    

    
    
    <a class="action" href="#post-comments" role="button" aria-label="Comments" title="Comments">
  <i class="fas fa-fw fa-comments"></i>
</a>
    <a class="action" href="#postTOC" aria-controls="Table of contents" role="button" title="Table of contents">
  <i class="fas fa-fw fa-list-alt"></i>
</a>
    
  </div>
</div>
<article class="row card component mb-4 post">
  <div class="card-header ">
    <div class="bgcover" style="background-image:url(https://unsplash.it/1920/1080)" alt="Chỉ số dự báo MACD">
      <div class="bgtrans">
          <h1>Chỉ Số Dự Báo MACD
</h1>
      </div>
  </div>
</div>
  <div class="card-body"><div class="post-meta">
  <span class="post-date" title="created on 2022-04-11 04:19:00 &#43;0700 &#43;07.">
    Apr 11, 2022
  </span><span class="post-reading-time">
    5 min read
  </span><span class="post-taxonomies"><a href="/series/ch%E1%BB%A9ng-kho%C3%A1n-c%C4%83n-b%E1%BA%A3n/" class="badge post-taxonomy">Chứng khoán căn bản</a><a href="/tags/stock/" class="badge post-taxonomy">stock</a></span>
</div>
<div class="post-content mb-3"><p><img class="img-fluid" alt="Hình 1: MACD giá cổ phiếu MWG trong năm 2021" src="/courses/stocks/1_macd/mwg_macd.png" loading="lazy"  title="Hình 1: MACD giá cổ phiếu MWG trong năm 2021"
  
   />

</p>
<p>Chỉ số MACD, là tên gọi tắt của moving average convergence/divergence, là một chỉ số giao dịch được sử dụng trong phân tích kỹ thuật trên giá cổ phiếu. Chỉ số được phát triển bởi Gerald Appel vào những năm cuối thập niên 70 của thế kỷ 20.</p>
<p>Chỉ số MACD giúp chúng ta xác định sự thay đổi của sức mạnh, hướng, động lượng ( momentum), và khoảng thời gian của xu hướng giá cổ phiếu. Để làm được điều này, MACD sử dụng 3 chuỗi thời gian EMA khác nhau, theo sách vở kinh điển là EMA12, EMA26 và EMA9. Chỉ số MACD dùng 3 chuỗi EMA trên, được ký hiệu là MACD(12,26,9). Do chỉ sử dụng lịch sử giá của quá khứ, nên chỉ số MACD được xếp vào nhóm chỉ số dự báo muộn.</p>
<h2 id="mô-hình--macd">Mô hình  MACD<a class="anchor ms-1" href="#mô-hình--macd"><i class="fas fa-link"></i></a></h2>
<p>Đường MACD
$$
MACD = EMA_{12} - EMA_{26}
$$</p>
<p>MACD được cấu tạo bằng cách lấy chu kỳ ngắn hạn trừ chu kỳ dài hạn (EMA12 - EMA26). Thị trường tăng giá là tại thời điểm MACD chuyển trạng thái giá trị từ âm sang dương. Ngược lại, thị trường giảm giá là tại thời điểm MACD chuyển trạng thái từ dương sang âm</p>
<p>$$
signal = EMA_9
$$</p>
<p>Đường tín hiệu đi song song với đường MACD, và xảy ra các trường hợp sau</p>
<ul>
<li>
<p>Xu hướng tăng giá: Đường MACD cắt đường tín hiệu, MACD đi từ dưới lên</p>
</li>
<li>
<p>Xu hướng giảm giá: Đường MACD cắt đường tín hiệu, MADC đi từ trên xuống</p>
</li>
</ul>
<p>$$
histogram = MACD - signal
$$</p>
<p>Đường histogram: đo khoảng cách chên lệch giữa MACD và signal. Như hình 1 phía trên, giá trị của histotram được biểu diễn là các đường trụ hình vuông, có giá trị dài ngắn khác nhau. Giá trị histogram phản ánh giá trị động lượng (momemtum) về giá. Nếu MACD lớn hơn đường tín hiệu thì chúng ta sẽ có vùng đồi dương.</p>
<p>Nếu để ý kỹ, chúng ta có thể thấy rằng, nếu lực mua vẫn dương, đồi vẫn dương, nhưng giá trị histogram ngắn lại, gần 0, đó có thể là tín hiệu của việc giá có thể giảm.</p>
<h2 id="viết-bot-mua-chứng-khoán-mã-mwg-tự-động-dựa-trên-macd-kiểm-thử-lợi-nhuận">Viết bot mua chứng khoán mã MWG, tự động, dựa trên MACD, kiểm thử lợi nhuận<a class="anchor ms-1" href="#viết-bot-mua-chứng-khoán-mã-mwg-tự-động-dựa-trên-macd-kiểm-thử-lợi-nhuận"><i class="fas fa-link"></i></a></h2>
<p>Dưới tư cách là lập trình viên, mình sẽ coding một con bot nhỏ, chỉ sử dụng MACD, và xem thử lợi nhuận như thế nào.</p>
<p>Bài toán giả định:</p>
<ul>
<li>
<p>Cho dư 100 triệu VND trong tay</p>
</li>
<li>
<p>Đầu tư cổ phiếu của tập đoàn thế giới Di động, mã cổ phiếu MWG</p>
</li>
<li>
<p>Thời gian: Từ ngày 1/1/2021 đến 31/12/2021</p>
</li>
<li>
<p>Đầu tư toàn bộ trong một lần, không DCA, không xét yếu tố T+3, giá mua và giá chốt lời là giá tại thời điểm close.</p>
</li>
</ul>
<p>Lấy dữ liệu: Mình sử dụng thư viện vnquant của anh Phạm Khánh Đình. Mã nguồn của thư viện ở địa chỉ <a href="https://github.com/phamdinhkhanh/vnquant" target="_blank" rel="noopener noreferrer">https://github.com/phamdinhkhanh/vnquant</a>. DataSource được dùng là của vndirect. Thư viện của anh Khánh tại thời điểm mình sử dụng bị lỗi khi load data  vndirect, mình có rewrite lại.</p>
<p>Để tính EMA, mình xài hàm ewm có sẵn của pandas.</p>
<p>Kết quả: Như hình 1 mình đã show phía trên, hi hi.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="ln">1</span><span class="cl"><span class="n">Profit</span> <span class="n">gained</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">MACD</span> <span class="n">strategy</span> <span class="n">by</span> <span class="n">investing</span> <span class="err">$</span><span class="mi">100</span><span class="n">M</span> <span class="ow">in</span> <span class="n">MWG</span> <span class="p">:</span> <span class="mf">15619726.64</span>
</span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="n">Profit</span> <span class="n">percentage</span> <span class="n">of</span> <span class="n">the</span> <span class="n">MACD</span> <span class="n">strategy</span> <span class="p">:</span> <span class="mi">15</span><span class="o">%</span>
</span></span></code></pre></div><p>Nếu mình đầu tư 100 triệu ở đầu năm 2021, sử dụng MACD với các tham số (12, 26, 9), đến cuối năm mình thu được thêm 15 triệu 6 trăm 19 ngàn 7 trăm 26 đồng. Lợi nhận hơn 15%, cao hơn tiền lời gửi ngân hàng.</p>
<p>Tham số 12,16,9 theo sách vở, mình không ưng lắm, thế là mình đã cho chạy grid search tìm tham số tốt nhất, kết quả ở hình 2. Cuối cùng  mình đã tìm được vài tổ hợp như (9,25,6) hoặc (10,26,5) cho ra lợi nhuận đạt 40%.</p>
<p><img class="img-fluid" alt="Hình 2: MWG grid search" src="/courses/stocks/1_macd/mwg_grid_search.png" loading="lazy"  title="Hình 2: MWG grid search"
  
   />


<em><strong>Hình 2: MWG grid search</strong></em></p>
<p>Cho dù các tổ hợp ở trên khá cao, nhưng mình quyết định chọn cặp tổ hợp (11,31,5) cho các bài toán trong tương lai. Lý do là lợi nhuận của tập tổ hợp cũng khá cao, đạt 39%, thứ hai là tập tổ hợp trên chứa toàn số nguyên tố.</p>
<h2 id="bot-mua-chứng-khoán-rỗ-vn30">BOT mua chứng khoán, rỗ VN30<a class="anchor ms-1" href="#bot-mua-chứng-khoán-rỗ-vn30"><i class="fas fa-link"></i></a></h2>
<p>Tương tự như mua cổ phiếu MWG. Mình sẽ thực hiện test mua cổ phiếu trong rỗ VN30, gồm các mã cổ phiếu VPB, HPG, MBB, POW, STB, TCB, SSI, CTG, VRE, TCH, VHM, NVL, PDR, BID, FPT, HDB, TPB, SBT, MWG, VIC, BVH, VNM, PLX, MSN, PNJ, VCB, VJC, KDH, REE, GAS như sau:</p>
<ul>
<li>
<p>Mỗi loại cổ phiếu được cấp vốn 100 triệu, tổng cộng 30 mã cổ phiếu, có 3 tỷ</p>
</li>
<li>
<p>Sử dụng tổ hợp MACD(11,31,5)</p>
</li>
<li>
<p>Thống kê lợi nhuận cuối năm</p>
</li>
</ul>
<p>Kết quả</p>
<table>
  <thead>
      <tr>
          <th style="text-align: center">Stock code</th>
          <th style="text-align: center">Profit</th>
          <th style="text-align: center">Profit Percent</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center">VPB</td>
          <td style="text-align: center">59531568.83</td>
          <td style="text-align: center">59</td>
      </tr>
      <tr>
          <td style="text-align: center">HPG</td>
          <td style="text-align: center">47797426.41</td>
          <td style="text-align: center">47</td>
      </tr>
      <tr>
          <td style="text-align: center">MBB</td>
          <td style="text-align: center">43655931.7</td>
          <td style="text-align: center">43</td>
      </tr>
      <tr>
          <td style="text-align: center">POW</td>
          <td style="text-align: center">11334630.9</td>
          <td style="text-align: center">11</td>
      </tr>
      <tr>
          <td style="text-align: center">STB</td>
          <td style="text-align: center">68945860.5</td>
          <td style="text-align: center">68</td>
      </tr>
      <tr>
          <td style="text-align: center">TCB</td>
          <td style="text-align: center">30909090.6</td>
          <td style="text-align: center">30</td>
      </tr>
      <tr>
          <td style="text-align: center">SSI</td>
          <td style="text-align: center">88181694.47</td>
          <td style="text-align: center">88</td>
      </tr>
      <tr>
          <td style="text-align: center">CTG</td>
          <td style="text-align: center">16023538.94</td>
          <td style="text-align: center">16</td>
      </tr>
      <tr>
          <td style="text-align: center">VRE</td>
          <td style="text-align: center">13112161.55</td>
          <td style="text-align: center">13</td>
      </tr>
      <tr>
          <td style="text-align: center">TCH</td>
          <td style="text-align: center">61063208.12</td>
          <td style="text-align: center">61</td>
      </tr>
      <tr>
          <td style="text-align: center">VHM</td>
          <td style="text-align: center">5633657.62</td>
          <td style="text-align: center">5</td>
      </tr>
      <tr>
          <td style="text-align: center">NVL</td>
          <td style="text-align: center">83612690.71</td>
          <td style="text-align: center">83</td>
      </tr>
      <tr>
          <td style="text-align: center">PDR</td>
          <td style="text-align: center">73030645.91</td>
          <td style="text-align: center">73</td>
      </tr>
      <tr>
          <td style="text-align: center">BID</td>
          <td style="text-align: center">-10671169.9</td>
          <td style="text-align: center">-11</td>
      </tr>
      <tr>
          <td style="text-align: center">FPT</td>
          <td style="text-align: center">16548330.46</td>
          <td style="text-align: center">16</td>
      </tr>
      <tr>
          <td style="text-align: center">HDB</td>
          <td style="text-align: center">42686713.83</td>
          <td style="text-align: center">42</td>
      </tr>
      <tr>
          <td style="text-align: center">TPB</td>
          <td style="text-align: center">30960123.75</td>
          <td style="text-align: center">30</td>
      </tr>
      <tr>
          <td style="text-align: center">SBT</td>
          <td style="text-align: center">25536989.15</td>
          <td style="text-align: center">25</td>
      </tr>
      <tr>
          <td style="text-align: center">MWG</td>
          <td style="text-align: center">39039335.94</td>
          <td style="text-align: center">39</td>
      </tr>
      <tr>
          <td style="text-align: center">VIC</td>
          <td style="text-align: center">30392688.88</td>
          <td style="text-align: center">30</td>
      </tr>
      <tr>
          <td style="text-align: center">BVH</td>
          <td style="text-align: center">-3770737.5</td>
          <td style="text-align: center">-4</td>
      </tr>
      <tr>
          <td style="text-align: center">VNM</td>
          <td style="text-align: center">-13891787.01</td>
          <td style="text-align: center">-14</td>
      </tr>
      <tr>
          <td style="text-align: center">PLX</td>
          <td style="text-align: center">5485716.75</td>
          <td style="text-align: center">5</td>
      </tr>
      <tr>
          <td style="text-align: center">MSN</td>
          <td style="text-align: center">8503902.24</td>
          <td style="text-align: center">8</td>
      </tr>
      <tr>
          <td style="text-align: center">PNJ</td>
          <td style="text-align: center">-6325266.73</td>
          <td style="text-align: center">-7</td>
      </tr>
      <tr>
          <td style="text-align: center">VCB</td>
          <td style="text-align: center">-7289353.31</td>
          <td style="text-align: center">-8</td>
      </tr>
      <tr>
          <td style="text-align: center">VJC</td>
          <td style="text-align: center">-2464227.2</td>
          <td style="text-align: center">-3</td>
      </tr>
      <tr>
          <td style="text-align: center">KDH</td>
          <td style="text-align: center">44801727.18</td>
          <td style="text-align: center">44</td>
      </tr>
      <tr>
          <td style="text-align: center">REE</td>
          <td style="text-align: center">26242537.2</td>
          <td style="text-align: center">26</td>
      </tr>
      <tr>
          <td style="text-align: center">GAS</td>
          <td style="text-align: center">41354753.12</td>
          <td style="text-align: center">41</td>
      </tr>
  </tbody>
</table>
<p>Có ông lời, có ông lỗ. Tổng lời là 869.972.383 triệu, trên tỷ lệ đầu tư là 3 tỷ. Đạt tỷ lệ lợi nhuận 28%.</p>
<p>Ở trên, mình chỉ sử dụng đường xu hướng để quyết định mua / bán, chưa hề sử dụng giá trị động lượng của histogram để xét việc chốt lời hiệu quả. Nên hiệu quả đầu tư vẫn còn nhỏ.</p>
<p>Mình điều chỉnh lại một chút, nếu giá trị histogram giảm bé hơn 10% so với thời điểm cao nhất ở thời điểm đồi dương, mình sẽ chốt lời ngay. Ngoài ra, chúng ta sẽ kết hợp với mây Ichimoku để lọc lại các thời điểm mua cho hợp lý hơn.</p>
<p>Cảm ơn các bạn đã theo dõi bài viết, hẹn gặp lại ở bài tiếp theo.</p>
</div></div>
  <div class="card-footer"><div class="post-navs d-flex justify-content-evenly"><div class="post-nav post-prev">
    <i class="fas fa-fw fa-chevron-left"></i>
    <a href="/courses/ml_dataset/web_face/">Dataset Nhận Dạng Khuông Mặt
</a>
  </div><div class="post-nav post-next">
    <a href="/courses/python/2_python_basic/">Bài 1: Căn Bản Về Python
</a>
    <i class="fas fa-fw fa-chevron-right"></i>
  </div></div></div>
</article><div class="card component row post-comments" id="post-comments">
  <div class="card-header">
    <h2 class="card-title">Comments</h2>
  </div>
  <div class="card-body"><script src="https://utteranc.es/client.js"
  repo="AlexBlack2202/utterances"
  issue-term="pathname"
  label="comment"
  theme="github-dark"
  crossorigin="anonymous"
  async>
</script></div>
</div></div>
</div><aside class="col-lg-3 col-md-4 sidebar d-flex">
  <div class="container d-flex flex-column">
    
    <a href="https://www.buymeacoffee.com/alexblack28"><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&emoji=🍎&slug=alexblack28&button_colour=FFDD00&font_colour=000000&font_family=Cookie&outline_colour=000000&coffee_colour=ffffff" /></a><div class="post-toc row mb-4 card component" id="postTOC">
  <div class="card-header">
    <h2 class="card-title">Contents</h2>
  </div>
  <div class="card-body">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#mô-hình--macd">Mô hình  MACD</a></li>
        <li><a href="#viết-bot-mua-chứng-khoán-mã-mwg-tự-động-dựa-trên-macd-kiểm-thử-lợi-nhuận">Viết bot mua chứng khoán mã MWG, tự động, dựa trên MACD, kiểm thử lợi nhuận</a></li>
        <li><a href="#bot-mua-chứng-khoán-rỗ-vn30">BOT mua chứng khoán, rỗ VN30</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div><section class="recent-posts row card component">
  <div class="card-header">
    <h2 class="card-title">Recent Posts</h2>
  </div>
  <div class="card-body">
    <ul class="post-list"><li>
        <a href="/blog/2025-04-29-etting-off-work-at-6-pm-is-already-quite-late/">Tan Làm Lúc 6 Giờ Tối Đã Là Khá Muộn Rồi - Quản Lý Thời Gian – Sống Trọn Vẹn – Quyền Được Nghỉ Ngơi Của Người Trẻ
</a>
      </li><li>
        <a href="/blog/2025-04-28-structured-prompt-outputs/">Machine Learning - Sử Dụng Structured Prompt Outputs Để Tối Ưu Hóa Kết Quả Từ LLMs
</a>
      </li><li>
        <a href="/blog/2025-04-26-phishing-email/">Machine Learning - Train Mô Hình Nhận Dạng Email Lừa Đảo
</a>
      </li><li>
        <a href="/blog/2025-04-26-how-brands-grow/">Khám Phá Bí Mật Đằng Sau Sự Thành Công Của Các Thương Hiệu
</a>
      </li><li>
        <a href="/blog/2025-04-20-ai-viet-truyen-tuyet-giac-truc-lam/">Tuyết Giác Trúc Lâm - Truyện AI
</a>
      </li></ul>
  </div>
</section><section class="series-taxonomies row card component">
      <div class="card-header">
        <h2 class="card-title">
          <a href="/series">series</a>
        </h2>
      </div>
      <div class="card-body">
        <div class="py-2"><a href="/series/kh%C3%B3a-h%E1%BB%8Dc-python-c%C4%83n-b%E1%BA%A3n/" class="badge rounded post-taxonomy" title="Khóa Học Python Căn Bản">
            Khóa Học Python Căn Bản<span class="badge badge-sm text-white bg-accent ms-1">5</span></a><a href="/series/kh%C3%B3a-h%E1%BB%8Dc-c&#43;&#43;-c%C4%83n-b%E1%BA%A3n/" class="badge rounded post-taxonomy" title="Khóa Học C&#43;&#43; Căn Bản">
            Khóa Học C&#43;&#43; Căn Bản<span class="badge badge-sm text-white bg-accent ms-1">3</span></a><a href="/series/machine-learning-dataset/" class="badge rounded post-taxonomy" title="Machine Learning Dataset">
            Machine Learning Dataset<span class="badge badge-sm text-white bg-accent ms-1">2</span></a><a href="/series/ch%E1%BB%A9ng-kho%C3%A1n-c%C4%83n-b%E1%BA%A3n/" class="badge rounded post-taxonomy" title="Chứng Khoán Căn Bản">
            Chứng Khoán Căn Bản<span class="badge badge-sm text-white bg-accent ms-1">1</span></a></div>
      </div>
    </section><section class="tools-taxonomies row card component">
      <div class="card-header">
        <h2 class="card-title">
          <a href="/tools">tools</a>
        </h2>
      </div>
      <div class="card-body">
        <div class="py-2"><a href="/tools/tool-random/" class="badge rounded post-taxonomy" title="Tool Random">
            Tool Random<span class="badge badge-sm text-white bg-accent ms-1">2</span></a></div>
      </div>
    </section><section class="categories-taxonomies row card component">
      <div class="card-header">
        <h2 class="card-title">
          <a href="/categories">categories</a>
        </h2>
      </div>
      <div class="card-body">
        <div class="py-2"><a href="/categories/python/" class="badge rounded post-taxonomy" title="Python">
            Python<span class="badge badge-sm text-white bg-accent ms-1">5</span></a><a href="/categories/c&#43;&#43;/" class="badge rounded post-taxonomy" title="C&#43;&#43;">
            C&#43;&#43;<span class="badge badge-sm text-white bg-accent ms-1">3</span></a><a href="/categories/dataset/" class="badge rounded post-taxonomy" title="Dataset">
            Dataset<span class="badge badge-sm text-white bg-accent ms-1">2</span></a></div>
      </div>
    </section><section class="tags-taxonomies row card component">
      <div class="card-header">
        <h2 class="card-title">
          <a href="/tags">tags</a>
        </h2>
      </div>
      <div class="card-body">
        <div class="py-2"><a href="/tags/machine-learning/" class="badge rounded post-taxonomy" title="Machine Learning">
            Machine Learning<span class="badge badge-sm text-white bg-accent ms-1">45</span></a><a href="/tags/deep-learning/" class="badge rounded post-taxonomy" title="Deep Learning">
            Deep Learning<span class="badge badge-sm text-white bg-accent ms-1">21</span></a><a href="/tags/deeplearning/" class="badge rounded post-taxonomy" title="DeepLearning">
            DeepLearning<span class="badge badge-sm text-white bg-accent ms-1">21</span></a><a href="/tags/python/" class="badge rounded post-taxonomy" title="Python">
            Python<span class="badge badge-sm text-white bg-accent ms-1">11</span></a><a href="/tags/opencv/" class="badge rounded post-taxonomy" title="Opencv">
            Opencv<span class="badge badge-sm text-white bg-accent ms-1">5</span></a><a href="/tags/c&#43;&#43;/" class="badge rounded post-taxonomy" title="C&#43;&#43;">
            C&#43;&#43;<span class="badge badge-sm text-white bg-accent ms-1">4</span></a><a href="/tags/marketing/" class="badge rounded post-taxonomy" title="Marketing">
            Marketing<span class="badge badge-sm text-white bg-accent ms-1">4</span></a><a href="/tags/normalization/" class="badge rounded post-taxonomy" title="Normalization">
            Normalization<span class="badge badge-sm text-white bg-accent ms-1">4</span></a><a href="/tags/object-detector/" class="badge rounded post-taxonomy" title="Object Detector">
            Object Detector<span class="badge badge-sm text-white bg-accent ms-1">4</span></a><a href="/tags/recommendation/" class="badge rounded post-taxonomy" title="Recommendation">
            Recommendation<span class="badge badge-sm text-white bg-accent ms-1">4</span></a></div>
      </div>
    </section>
    
  </div>
</aside>
</div>
    </main><footer class="footer mt-auto py-3 text-center container"><ul class="nav justify-content-between footer-memu mb-3"><li class="nav-item"><ul class="nav flex-column align-items-start">
      <li class="nav-item">
        <a class="nav-link fw-bold" target="_blank" rel="noopener noreferrer">Support
</a>
      </li><li class="nav-item">
            <a class="nav-link" href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer"><i class="fab fa-fw fa-github"></i>Repository
</a>
        </li><li class="nav-item">
            <a class="nav-link" href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer"><i class="fas fa-fw fa-comments"></i>Discussions
</a>
        </li><li class="nav-item">
            <a class="nav-link" href="/contact/"><i class="fas fa-fw fa-info-circle"></i>Contact Us
</a>
        </li><li class="nav-item">
            <a class="nav-link" href="/faq/"><i class="fas fa-fw fa-question-circle"></i>FAQs
</a>
        </li></ul></li><li class="nav-item"><ul class="nav flex-column align-items-start">
      <li class="nav-item">
        <a class="nav-link fw-bold" target="_blank" rel="noopener noreferrer">Docs
</a>
      </li><li class="nav-item">
            <a class="nav-link" href="/team_of_services" target="_blank" rel="noopener noreferrer"><i class="fas fa-fw fa-users"></i>Điều khoản sử dụng
</a>
        </li><li class="nav-item">
            <a class="nav-link" href="/privacy" target="_blank" rel="noopener noreferrer"><i class="fas fa-fw fa-lock"></i>Chính sách bảo mật
</a>
        </li></ul></li><li class="nav-item"><ul class="nav flex-column align-items-start">
      <li class="nav-item">
        <a class="nav-link fw-bold" target="_blank" rel="noopener noreferrer">Features
</a>
      </li><li class="nav-item">
            <a class="nav-link" href="https://www.phamduytung.com/utils/gen_paswords/" target="_blank" rel="noopener noreferrer"><i class="fas fa-fw fa-paw"></i>Tạo password ngẫu nhiên
</a>
        </li></ul></li><li class="nav-item"><ul class="nav flex-column align-items-start">
      <li class="nav-item">
        <a class="nav-link fw-bold" target="_blank" rel="noopener noreferrer">Liên kết khác
</a>
      </li><li class="nav-item">
            <a class="nav-link" href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer">Netlify
</a>
        </li><li class="nav-item">
            <a class="nav-link" href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer">facebook
</a>
        </li></ul></li></ul>
<div class="copyright mb-2">
  Copyright © 2016-2025 Phạm Duy Tùng. All Rights Reserved.
</div>
<div class="powered-by mb-2">
  Website chia sẻ kiến thức của Phạm Duy Tùng và Đặng Thị Hằng. Vui lòng liên hệ email alexblack2202@gmail.com nếu bạn có thông tin cần trao đổi.
</div></footer>
<script src="/js/main.ed2053ad82a243b263761567b5c1aaf974487aa84adacb89ae3ddf803ecc248a.js" integrity="sha256-7SBTrYKiQ7JjdhVntcGq&#43;XRIeqhK2suJrj3fgD7MJIo=" crossorigin="anonymous" defer></script><script src="/js/icons.min.8ff200851002b8138e6b35314683092e02edc155465d9dbfb7d115460f8f1fbe.js" integrity="sha256-j/IAhRACuBOOazUxRoMJLgLtwVVGXZ2/t9EVRg&#43;PH74=" crossorigin="anonymous" defer></script>
<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('\/service-worker.js').then(function(reg) {
      console.log('Successfully registered service worker', reg);
    }).catch(function(err) {
      console.warn('Error whilst registering service worker', err);
    });
  });
}
</script><script src="/js/viewer.min.ec58d2aa1a8916addf393be975fdf0070e8c872b0caef1673cb9f7eea067ce57.js" integrity="sha256-7FjSqhqJFq3fOTvpdf3wBw6MhysMrvFnPLn37qBnzlc=" crossorigin="anonymous" defer></script><script defer src="/js/katex.min.d5052035160facae59b60000106771baf2eb7671123813d21f1097a5a9218b6e.js" integrity="sha256-1QUgNRYPrK5ZtgAAEGdxuvLrdnESOBPSHxCXpakhi24=" crossorigin="anonymous"></script>

<script  data-ad-client="ca-pub-4644989745435991"  async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4644989745435991"
     crossorigin="anonymous"></script><script data-cfasync="false" type="text/javascript" data-adel="atag" src="//acscdn.com/script/atg.js" czid="eul3gyjdmm"></script>
  </body>
</html>
