<!doctype html><html lang="en" data-palette="blue"
   data-mode="dark">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Top 10 thuật toán System Design các bạn nên biết và thường được hỏi trong phỏng vấn - Top 3 Bloom Filters - Phạm Duy Tùng Machine Learning Blog</title>
    <meta name="a.validate.02" content="1QZXZ8oi7g57H-GxBrBPkTYBydwii-Ic9iJu" /><link rel="apple-touch-icon" href="/images/icons/icon-180x180.png" sizes="180x180">
<link rel="icon" href="/images/icons/icon-32x32.png" sizes="32x32" type="image/png">
<link rel="icon" href="/images/icons/icon-16x16.png" sizes="16x16" type="image/png">
<link rel="icon" href="/images/icons/favicon.ico">
<link rel="manifest" href="/manifest.json">
<meta name="keywords" content="" />
<meta name="description" content="Ở bài viết trước, chúng ta sẽ tìm hiểu Distributed Hash Tables, một thuật toán được ứng dụng trong nhiều phần mềm hệ thống lớn. Đây là phần tiếp theo nằm trong chuỗi serie Top 10 thuật toán System Design các bạn nên biết và chuẩn bị để tham gia các bài phỏng vấn, ở bài viết này, chúng ta sẽ tìm hiểu Bloom Filters, một thuật toán được sử dụng khá nhiều và là một phần của hệ thống xử lý dữ liệu lớn" /><meta name="robots" content="index, follow" />
  <meta itemprop="name" content="Top 10 thuật toán System Design các bạn nên biết và thường được hỏi trong phỏng vấn - Top 3 Bloom Filters">
  <meta itemprop="description" content="Ở bài viết trước, chúng ta sẽ tìm hiểu Distributed Hash Tables, một thuật toán được ứng dụng trong nhiều phần mềm hệ thống lớn. Đây là phần tiếp theo nằm trong chuỗi serie Top 10 thuật toán System Design các bạn nên biết và chuẩn bị để tham gia các bài phỏng vấn, ở bài viết này, chúng ta sẽ tìm hiểu Bloom Filters, một thuật toán được sử dụng khá nhiều và là một phần của hệ thống xử lý dữ liệu lớn">
  <meta itemprop="datePublished" content="2024-11-24T00:19:00+03:00">
  <meta itemprop="dateModified" content="2024-11-24T00:19:00+03:00">
  <meta itemprop="wordCount" content="10374">
  <meta itemprop="image" content="https://unsplash.it/1920/1080?image=202">
  <meta itemprop="keywords" content="System Design"><meta property="og:url" content="/blog/2024-11-24-system-design-top-10-interview-bloom-filters/">
  <meta property="og:site_name" content="Phạm Duy Tùng Machine Learning Blog">
  <meta property="og:title" content="Top 10 thuật toán System Design các bạn nên biết và thường được hỏi trong phỏng vấn - Top 3 Bloom Filters">
  <meta property="og:description" content="Ở bài viết trước, chúng ta sẽ tìm hiểu Distributed Hash Tables, một thuật toán được ứng dụng trong nhiều phần mềm hệ thống lớn. Đây là phần tiếp theo nằm trong chuỗi serie Top 10 thuật toán System Design các bạn nên biết và chuẩn bị để tham gia các bài phỏng vấn, ở bài viết này, chúng ta sẽ tìm hiểu Bloom Filters, một thuật toán được sử dụng khá nhiều và là một phần của hệ thống xử lý dữ liệu lớn">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="blog">
    <meta property="article:published_time" content="2024-11-24T00:19:00+03:00">
    <meta property="article:modified_time" content="2024-11-24T00:19:00+03:00">
    <meta property="article:tag" content="System Design">
    <meta property="og:image" content="https://unsplash.it/1920/1080?image=202">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://unsplash.it/1920/1080?image=202">
  <meta name="twitter:title" content="Top 10 thuật toán System Design các bạn nên biết và thường được hỏi trong phỏng vấn - Top 3 Bloom Filters">
  <meta name="twitter:description" content="Ở bài viết trước, chúng ta sẽ tìm hiểu Distributed Hash Tables, một thuật toán được ứng dụng trong nhiều phần mềm hệ thống lớn. Đây là phần tiếp theo nằm trong chuỗi serie Top 10 thuật toán System Design các bạn nên biết và chuẩn bị để tham gia các bài phỏng vấn, ở bài viết này, chúng ta sẽ tìm hiểu Bloom Filters, một thuật toán được sử dụng khá nhiều và là một phần của hệ thống xử lý dữ liệu lớn">
<link rel="stylesheet" href="/css/main.min.c06cf34535ee1f60ba08893b4d57e76b2bbd5e11c17ab12ef976f02983a51b54.css" integrity="sha256-wGzzRTXuH2C6CIk7TVfnayu9XhHBerEu&#43;XbwKYOlG1Q=" crossorigin="anonymous"><link rel="stylesheet" href="/css/katex.min.d080a89e03e1eb850f547d835c186b4273f69879aa497eb8b0e88c1578bf1f0b.css" integrity="sha256-0ICongPh64UPVH2DXBhrQnP2mHmqSX64sOiMFXi/Hws=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/viewer.min.3d228794bcedbbfa0412beb8fbc1ec6973202945e42af7004f742a4d7bd620ab.css" integrity="sha256-PSKHlLztu/oEEr64&#43;8HsaXMgKUXkKvcAT3QqTXvWIKs=" crossorigin="anonymous"><style>
    .bgcover {
        display: block;
        overflow: hidden;
        height: 450px;
        background: no-repeat center center;
        -webkit-background-size: cover;
        -moz-background-size: cover;
        -o-background-size: cover;
        background-size: cover;
        position: relative;
        margin-bottom: -65px;
    }
    .bgcover {
        margin-bottom: 0 !important;
    }

    .bgcover .bgtrans {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        display: block;
        overflow: hidden;
        height: inherit;
        background: rgba(0,0,0,.8);
        background: -webkit-gradient(linear,0% 0%,0% 100%,from(rgba(0,0,0,.8)),to (rgba(0,0,0,.6)),to(rgba(255,255,255,0)));
        background: -webkit-linear-gradient(top,rgba(255,255,255,0),rgba(0,0,0,.6),rgba(0,0,0,.8));
        background: -moz-linear-gradient(top,rgba(255,255,255,0),rgba(0,0,0,.6),rgba(0,0,0,.8));
        background: -ms-linear-gradient(top,rgba(255,255,255,0),rgba(0,0,0,.6),rgba(0,0,0,.8));
        background: -o-linear-gradient(top,rgba(255,255,255,0),rgba(0,0,0,.6),rgba(0,0,0,.8));
    }

    .bgcover .bgtrans h1 {
        display: block;
        overflow: hidden;
        font-size: 45px;
        line-height: 55px;
        color: #fff;
        width: 800px;
        margin: auto;
        position: absolute;
        left: 0;
        right: 0;
        bottom: 50px;
        font-family: 'Roboto Condensed',sans-serif;
        font-weight: 600;
    }
</style></head>
  <body><script>const items=["mode","palette"];items.forEach(function(e){const t=localStorage.getItem("hbs-"+e);t&&document.body.parentElement.setAttribute("data-"+e,t)})</script><header><nav class="navbar top-app-bar top-app-bar-expand-lg fixed-top">
  <div class="container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <i class="fas fa-bars"></i>
    </button><a class="navbar-brand flex-grow-1 flex-lg-grow-0 text-center text-lg-start mx-auto me-lg-3" href="/"><img class="logo" alt="Logo" src="/images/logo.webp" loading="lazy"  title="Logo"
   width="32" height="32"
   />
HOME
    </a>
    <div class="offcanvas offcanvas-bottom surface" tabindex="-1" id="offcanvasSocialShare" aria-labelledby="offcanvasSocialShare">
  <div class="offcanvas-header">
    <h3 class="offcanvas-title">Share</h3>
    <button type="button" class="btn btn-sm btn-outline-primary" data-bs-dismiss="offcanvas" aria-label="Close">
      <i class="fas fa-times"></i>
    </button>
  </div>
  <div class="offcanvas-body">
    <a class="btn btn-sm btn-outline-primary social-share-button" rel="noopener noreferrer" aria-label="Twitter Share Button"
      target="_blank" href="https://twitter.com/intent/tweet?title=Top%2010%20thu%e1%ba%adt%20to%c3%a1n%20System%20Design%20c%c3%a1c%20b%e1%ba%a1n%20n%c3%aan%20bi%e1%ba%bft%20v%c3%a0%20th%c6%b0%e1%bb%9dng%20%c4%91%c6%b0%e1%bb%a3c%20h%e1%bb%8fi%20trong%20ph%e1%bb%8fng%20v%e1%ba%a5n%20-%20Top%203%20Bloom%20Filters&url=%2fblog%2f2024-11-24-system-design-top-10-interview-bloom-filters%2f">
      <i class="fab fa-fw fa-twitter"></i> Twitter
    </a>
    <a class="btn btn-sm btn-outline-primary social-share-button" rel="noopener noreferrer" aria-label="Facebook Share Button"
      target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=%2fblog%2f2024-11-24-system-design-top-10-interview-bloom-filters%2f">
      <i class="fab fa-fw fa-facebook-f"></i> Facebook
    </a>
  </div>
</div>
    <button class="navbar-settings" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasSettings"
  aria-controls="offcanvasSettings" aria-label="Toggle settings">
  <i class="fas fa-ellipsis-v"></i>
</button>

<div class="offcanvas offcanvas-end surface h-100" tabindex="-1" id="offcanvasSettings" aria-labelledby="offcanvasSettings">
  <div class="offcanvas-header">
    <h3 class="offcanvas-title">Settings</h3>
    <button type="button" class="btn btn-sm btn-outline-primary" data-bs-dismiss="offcanvas" aria-label="Close">
      <i class="fas fa-times"></i>
    </button>
  </div>
  <div class="offcanvas-body d-flex flex-column">



<section class="setting">
  <form class="font-size-switcher-form row">
    <div class="col-auto">
      <label for="fontSize" class="form-label"><i class="fas fa-fw fa-font"></i> Font Size</label>
    </div>
    <div class="col-auto ms-auto">
      <input type="range" class="form-range" min="-2" max="2" id="fontSize">
    </div>
  </form>
</section>


<section class="setting palettes">
  <form class="row">
    <div class="col-auto">
      <label><i class="fas fa-fw fa-palette"></i> Palette</label>
    </div>
    <div class="col-auto ms-auto">
      <a id="btnPalette" class="btn btn-sm btn-outline-primary" role="button" aria-label="palettePicker">
        <i class="fas fa-eye-dropper"></i>
      </a>
    </div>
  </form>
  <div class="mt-2 d-flex justify-content-between visually-hidden" id="palettePicker"><button type="button" id="palette-blue" aria-label="Blue"
        class="btn btn-sm w-100 palette" data-palette="blue">
      </button><button type="button" id="palette-blue-gray" aria-label="Blue Gray"
        class="btn btn-sm w-100 palette" data-palette="blue-gray">
      </button><button type="button" id="palette-brown" aria-label="Brown"
        class="btn btn-sm w-100 palette" data-palette="brown">
      </button><button type="button" id="palette-cyan" aria-label="Cyan"
        class="btn btn-sm w-100 palette" data-palette="cyan">
      </button><button type="button" id="palette-green" aria-label="Green"
        class="btn btn-sm w-100 palette" data-palette="green">
      </button><button type="button" id="palette-indigo" aria-label="Indigo"
        class="btn btn-sm w-100 palette" data-palette="indigo">
      </button><button type="button" id="palette-orange" aria-label="Orange"
        class="btn btn-sm w-100 palette" data-palette="orange">
      </button><button type="button" id="palette-pink" aria-label="Pink"
        class="btn btn-sm w-100 palette" data-palette="pink">
      </button><button type="button" id="palette-purple" aria-label="Purple"
        class="btn btn-sm w-100 palette" data-palette="purple">
      </button><button type="button" id="palette-red" aria-label="Red"
        class="btn btn-sm w-100 palette" data-palette="red">
      </button><button type="button" id="palette-teal" aria-label="Teal"
        class="btn btn-sm w-100 palette" data-palette="teal">
      </button><button type="button" id="palette-yellow" aria-label="Yellow"
        class="btn btn-sm w-100 palette" data-palette="yellow">
      </button></div>
</section>
<section class="setting actions d-flex justify-content-around mt-auto overflow-auto">
  <a role="button" class="action action-go-back" href="javascript: window.history.back();">
    <span class="action-icon"><i class="fas fa-2x fa-arrow-left"></i></span> Go back
  </a>
  <a role="button" class="action action-reload-page">
    <span class="action-icon"><i class="fas fa-2x fa-redo-alt"></i></span> Reload
  </a>
  <a role="button" class="action action-copy-url">
    <span class="action-icon"><i class="fas fa-2x fa-link"></i></span> Copy URL
  </a><a class="action action-social-share" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasSocialShare"
    aria-controls="offcanvasSocialShare" aria-label="Toggle social share">
    <span class="action-icon"><i class="fas fa-2x fa-share-alt"></i></span> Share
  </a></section>

</div>
</div>

    <div class="collapse navbar-collapse" tabindex="-1" id="navbarSupportedContent" aria-labelledby="navbarSupportedContent">
      <form class="search-bar my-1" action="/search">
  <div class="input-group input-group-sm">
    <span class="btn btn-search disabled position-absolute left-0"><i class="fas fa-fw fa-search"></i></span>
    <input class="form-control rounded-pill" name="q" type="search" aria-label="Search">
  </div>
</form>
      <ul class="navbar-nav ms-auto"><li class="nav-item">
          <a class="nav-link" href="/series/">
            <i class="fas fa-fw fa-columns"></i>Courses
          </a>
        </li><li class="nav-item">
          <a class="nav-link" href="/tools/">
            <i class="fas fa-fw fa-folder"></i>Tools
          </a>
        </li><li class="nav-item">
          <a class="nav-link" href="/categories/">
            <i class="fas fa-fw fa-folder"></i>Categories
          </a>
        </li><li class="nav-item">
          <a class="nav-link" href="/archives/">
            <i class="fas fa-fw fa-file-archive"></i>Archives
          </a>
        </li><li class="nav-item">
          <a class="nav-link" href="/tags/">
            <i class="fas fa-fw fa-tags"></i>Tags
          </a>
        </li><li class="nav-item dropdown">
          <a class="nav-link" id="navbarDropdownSupport" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="fas fa-fw fa-chevron-circle-down"></i>Support
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdownSupport"><li>
              <a class="dropdown-item"
                href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer">
                Repository
              </a>
            </li><li>
              <a class="dropdown-item"
                href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer">
                Discussions
              </a>
            </li><li>
              <a class="dropdown-item"
                href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer">
                Features Request
              </a>
            </li><li><hr class="dropdown-divider"></li><li>
              <a class="dropdown-item"
                href="/faq/">
                FAQs
              </a>
            </li></ul>
        </li></ul>
    </div>
  </div>
</nav>
</header>
<main role="main" class="container" style="line-height:1.7em">
      <div class="row content">
<div class="col-lg-9 col-md-8">
  <div class="container"><nav class="row card component" aria-label="breadcrumb">
  <div class="card-body">
    <ol class="breadcrumb "><li class="breadcrumb-item"><a href="/">Home</a></li><li class="breadcrumb-item"><a href="/blog/">Blogs</a></li><li class="breadcrumb-item active">Top 10 Thuật Toán System Design Các Bạn Nên Biết Và Thường Được Hỏi Trong Phỏng Vấn - Top 3 Bloom Filters</li></ol>
  </div>
</nav>
<div class="post-panel-wrapper">
  <div class="d-flex flex-column component rounded post-panel">
    
    <a class="action action-panel-toggler" role="button" title="Panel toggler">
      <i class="fas fa-fw fa-chevron-circle-down"></i>
    </a>
    <a id="sidebarToggler" class="action d-none d-lg-block" role="button" title="Sidebar toggler">
  <i class="fas fa-fw fa-expand-alt" data-fa-transform="rotate-45"></i>
</a>

    

    
    
    <a class="action" href="#post-comments" role="button" aria-label="Comments" title="Comments">
  <i class="fas fa-fw fa-comments"></i>
</a>
    <a class="action" href="#postTOC" aria-controls="Table of contents" role="button" title="Table of contents">
  <i class="fas fa-fw fa-list-alt"></i>
</a>
    
  </div>
</div>
<article class="row card component mb-4 post">
  <div class="card-header ">
    <div class="bgcover" style="background-image:url(https://unsplash.it/1920/1080)" alt="Top 10 thuật toán System Design các bạn nên biết và thường được hỏi trong phỏng vấn - Top 3 Bloom Filters">
      <div class="bgtrans">
          <h1>Top 10 Thuật Toán System Design Các Bạn Nên Biết Và Thường Được Hỏi Trong Phỏng Vấn - Top 3 Bloom Filters
</h1>
      </div>
  </div>
</div>
  <div class="card-body"><div class="post-meta">
  <span class="post-date" title="created on 2024-11-24 04:19:00 &#43;0700 &#43;07.">
    Nov 24, 2024
  </span><span class="post-reading-time">
    49 min read
  </span><span class="post-taxonomies"><a href="/tags/system-design/" class="badge post-taxonomy">System Design</a></span>
</div>
<div class="post-content mb-3"><div class="toc">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#i-bloom-filters-là-gì">I. Bloom Filters là gì?</a></li>
    <li><a href="#ii-nguyên-lý--bloom-filters-hoạt-động">II. Nguyên lý  Bloom Filters hoạt động</a>
      <ul>
        <li><a href="#cấu-trúc-dữ-liệu">Cấu trúc dữ liệu</a></li>
        <li><a href="#xác-suất-dương-tính-sai">Xác suất dương tính sai</a></li>
        <li><a href="#công-thức-ước-lượng-số-phần-tử-và-số-hàm-hash">Công thức ước lượng số phần tử và số hàm hash</a></li>
      </ul>
    </li>
    <li><a href="#iii-ưu-điểm-của-bộ-lọc-bloom">III. Ưu điểm của bộ lọc Bloom</a>
      <ul>
        <li><a href="#1-tiết-kiệm-bộ-nhớ"><strong>1. Tiết kiệm bộ nhớ</strong></a></li>
        <li><a href="#2-kiểm-tra-thành-viên-nhanh-chóng"><strong>2. Kiểm tra thành viên nhanh chóng</strong></a></li>
        <li><a href="#3-không-có-false-negative"><strong>3. Không có false negative</strong></a></li>
        <li><a href="#4-dễ-dàng-mở-rộng"><strong>4. Dễ dàng mở rộng</strong></a></li>
        <li><a href="#5-thiết-kế-đơn-giản"><strong>5. Thiết kế đơn giản</strong></a></li>
        <li><a href="#6-thân-thiện-với-hệ-thống-phân-tán"><strong>6. Thân thiện với hệ thống phân tán</strong></a></li>
        <li><a href="#7-ứng-dụng-rộng-rãi"><strong>7. Ứng dụng rộng rãi</strong></a></li>
        <li><a href="#8-hỗ-trợ-tính-toán-song-song"><strong>8. Hỗ trợ tính toán song song</strong></a></li>
        <li><a href="#9-ứng-dụng-trong-bảo-mật-và-quyền-riêng-tư"><strong>9. Ứng dụng trong bảo mật và quyền riêng tư</strong></a></li>
        <li><a href="#10-dễ-bảo-trì"><strong>10. Dễ bảo trì</strong></a></li>
        <li><a href="#khi-nào-nên-sử-dụng-bloom-filter"><strong>Khi nào nên sử dụng Bloom Filter?</strong></a></li>
      </ul>
    </li>
    <li><a href="#hạn-chế-của-bộ-lọc-bloom-filter">Hạn chế của bộ lọc Bloom Filter</a>
      <ul>
        <li><a href="#1-false-positive-kết-quả-dương-tính-giả"><strong>1. False Positive (Kết quả dương tính giả)</strong></a></li>
        <li><a href="#2-không-hỗ-trợ-xóa-phần-tử"><strong>2. Không hỗ trợ xóa phần tử</strong></a></li>
        <li><a href="#3-không-lưu-trữ-dữ-liệu-gốc"><strong>3. Không lưu trữ dữ liệu gốc</strong></a></li>
        <li><a href="#4-khó-điều-chỉnh-tỷ-lệ-false-positive"><strong>4. Khó điều chỉnh tỷ lệ false positive</strong></a></li>
        <li><a href="#5-yêu-cầu-chọn-hàm-băm-phù-hợp"><strong>5. Yêu cầu chọn hàm băm phù hợp</strong></a></li>
        <li><a href="#6-không-hiệu-quả-với-tập-dữ-liệu-nhỏ"><strong>6. Không hiệu quả với tập dữ liệu nhỏ</strong></a></li>
        <li><a href="#7-không-thể-mở-rộng-một-cách-đơn-giản"><strong>7. Không thể mở rộng một cách đơn giản</strong></a></li>
        <li><a href="#8-không-hỗ-trợ-kiểm-tra-phủ-định-no-false-negatives"><strong>8. Không hỗ trợ kiểm tra phủ định (No False Negatives)</strong></a></li>
        <li><a href="#9-khó-triển-khai-và-bảo-trì-trong-hệ-thống-lớn"><strong>9. Khó triển khai và bảo trì trong hệ thống lớn</strong></a></li>
        <li><a href="#10-không-phù-hợp-với-dữ-liệu-động"><strong>10. Không phù hợp với dữ liệu động</strong></a></li>
        <li><a href="#khi-nào-không-nên-sử-dụng-bloom-filter"><strong>Khi nào không nên sử dụng Bloom Filter?</strong></a></li>
      </ul>
    </li>
    <li><a href="#một-số-biến-thể-của-bloom-filter">Một số biến thể của Bloom Filter</a>
      <ul>
        <li><a href="#double-hashing-bloom-filter">Double Hashing Bloom Filter:</a>
          <ul>
            <li><a href="#cách-hoạt-động-của-double-hashing-bloom-filter"><strong>Cách hoạt động của Double Hashing Bloom Filter</strong></a></li>
            <li><a href="#ưu-điểm-của-double-hashing-bloom-filter"><strong>Ưu điểm của Double Hashing Bloom Filter</strong></a></li>
            <li><a href="#hạn-chế-của-double-hashing-bloom-filter"><strong>Hạn chế của Double Hashing Bloom Filter</strong></a></li>
            <li><a href="#ứng-dụng-của-double-hashing-bloom-filter"><strong>Ứng dụng của Double Hashing Bloom Filter</strong></a></li>
            <li><a href="#triển-khai-double-hashing-bloom-filter-bằng-python"><strong>Triển khai Double Hashing Bloom Filter bằng Python</strong></a></li>
            <li><a href="#tóm-tắt"><strong>Tóm tắt</strong></a></li>
          </ul>
        </li>
        <li><a href="#partitioning-bloom-filter">Partitioning Bloom Filter:</a>
          <ul>
            <li><a href="#cách-hoạt-động-của-partitioning-bloom-filter"><strong>Cách hoạt động của Partitioning Bloom Filter</strong></a></li>
            <li><a href="#ưu-điểm-của-partitioning-bloom-filter"><strong>Ưu điểm của Partitioning Bloom Filter</strong></a></li>
            <li><a href="#hạn-chế-của-partitioning-bloom-filter"><strong>Hạn chế của Partitioning Bloom Filter</strong></a></li>
            <li><a href="#ứng-dụng-của-partitioning-bloom-filter"><strong>Ứng dụng của Partitioning Bloom Filter</strong></a></li>
            <li><a href="#triển-khai-partitioning-bloom-filter-bằng-python"><strong>Triển khai Partitioning Bloom Filter bằng Python</strong></a></li>
            <li><a href="#tóm-tắt-1"><strong>Tóm tắt</strong></a></li>
          </ul>
        </li>
        <li><a href="#counting-bloom-filter">Counting Bloom Filter:</a>
          <ul>
            <li><a href="#cách-hoạt-động-của-counting-bloom-filter"><strong>Cách hoạt động của Counting Bloom Filter</strong></a></li>
            <li><a href="#ưu-điểm-của-counting-bloom-filter"><strong>Ưu điểm của Counting Bloom Filter</strong></a></li>
            <li><a href="#hạn-chế-của-counting-bloom-filter"><strong>Hạn chế của Counting Bloom Filter</strong></a></li>
            <li><a href="#ứng-dụng-của-counting-bloom-filter"><strong>Ứng dụng của Counting Bloom Filter</strong></a></li>
            <li><a href="#triển-khai-bằng-python"><strong>Triển khai bằng Python</strong></a></li>
            <li><a href="#tóm-tắt-2"><strong>Tóm tắt</strong></a></li>
          </ul>
        </li>
        <li><a href="#scalable-bloom-filter">Scalable Bloom Filter</a>
          <ul>
            <li><a href="#vấn-đề-với-bloom-filter-truyền-thống"><strong>Vấn đề với Bloom Filter truyền thống</strong></a></li>
            <li><a href="#scalable-bloom-filter-giải-quyết-vấn-đề-như-thế-nào"><strong>Scalable Bloom Filter giải quyết vấn đề như thế nào?</strong></a></li>
            <li><a href="#cấu-trúc-và-cách-hoạt-động-của-scalable-bloom-filter"><strong>Cấu trúc và cách hoạt động của Scalable Bloom Filter</strong></a></li>
            <li><a href="#ưu-điểm-của-scalable-bloom-filter"><strong>Ưu điểm của Scalable Bloom Filter</strong></a></li>
            <li><a href="#hạn-chế-của-scalable-bloom-filter"><strong>Hạn chế của Scalable Bloom Filter</strong></a></li>
            <li><a href="#ứng-dụng-của-scalable-bloom-filter"><strong>Ứng dụng của Scalable Bloom Filter</strong></a></li>
            <li><a href="#triển-khai-scalable-bloom-filter"><strong>Triển khai Scalable Bloom Filter</strong></a></li>
            <li><a href="#mã-giả-scalable-bloom-filter">Mã giả Scalable Bloom Filter</a></li>
          </ul>
        </li>
        <li><a href="#striped-bloom-filter">Striped Bloom Filter</a>
          <ul>
            <li><a href="#đặc-điểm-của-striped-bloom-filter"><strong>Đặc điểm của Striped Bloom Filter</strong></a></li>
            <li><a href="#cách-hoạt-động-của-striped-bloom-filter"><strong>Cách hoạt động của Striped Bloom Filter</strong></a></li>
            <li><a href="#ưu-điểm-của-striped-bloom-filter"><strong>Ưu điểm của Striped Bloom Filter</strong></a></li>
            <li><a href="#hạn-chế-của-striped-bloom-filter"><strong>Hạn chế của Striped Bloom Filter</strong></a></li>
            <li><a href="#triển-khai-bằng-python-1"><strong>Triển khai bằng Python</strong></a></li>
          </ul>
        </li>
        <li><a href="#quotient-filter-bộ-lọc-thương-số"><strong>Quotient Filter (Bộ lọc thương số)</strong></a>
          <ul>
            <li><a href="#nguyên-lý-hoạt-động"><strong>Nguyên lý hoạt động</strong></a></li>
            <li><a href="#ưu-điểm-của-quotient-filter"><strong>Ưu điểm của Quotient Filter</strong></a></li>
            <li><a href="#hạn-chế-của-quotient-filter"><strong>Hạn chế của Quotient Filter</strong></a></li>
            <li><a href="#ứng-dụng-của-quotient-filter"><strong>Ứng dụng của Quotient Filter</strong></a></li>
            <li><a href="#so-sánh-với-bloom-filter"><strong>So sánh với Bloom Filter</strong></a></li>
            <li><a href="#ví-dụ-mã-giả-bằng-python"><strong>Ví dụ mã giả bằng Python</strong></a></li>
            <li><a href="#kết-luận"><strong>Kết luận</strong></a></li>
          </ul>
        </li>
        <li><a href="#cuckoo-filter"><strong>Cuckoo Filter</strong></a>
          <ul>
            <li><a href="#nguyên-lý-hoạt-động-1"><strong>Nguyên lý hoạt động</strong></a></li>
            <li><a href="#thao-tác-chính-trong-cuckoo-filter"><strong>Thao tác chính trong Cuckoo Filter</strong></a></li>
            <li><a href="#ưu-điểm-của-cuckoo-filter"><strong>Ưu điểm của Cuckoo Filter</strong></a></li>
            <li><a href="#hạn-chế-của-cuckoo-filter"><strong>Hạn chế của Cuckoo Filter</strong></a></li>
            <li><a href="#ứng-dụng-của-cuckoo-filter"><strong>Ứng dụng của Cuckoo Filter</strong></a></li>
            <li><a href="#so-sánh-với-bloom-filter-1"><strong>So sánh với Bloom Filter</strong></a></li>
            <li><a href="#ví-dụ-mã-giả-cuckoo-filter-bằng-python"><strong>Ví dụ mã giả Cuckoo Filter bằng Python</strong></a></li>
            <li><a href="#kết-luận-1"><strong>Kết luận</strong></a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#ứng-dụng-của-bloom-filter-trong-các-lĩnh-vực">Ứng Dụng của Bloom Filter trong Các Lĩnh Vực</a>
      <ul>
        <li><a href="#1-phát-hiện-gian-lận-tài-chính-financial-fraud-detection"><strong>1. Phát Hiện Gian Lận Tài Chính (Financial Fraud Detection)</strong></a></li>
        <li><a href="#2-đặt-quảng-cáo-ad-placement---retail-advertising"><strong>2. Đặt Quảng Cáo (Ad Placement - Retail, Advertising)</strong></a></li>
        <li><a href="#3-kiểm-tra-tên-người-dùng-saas-content-publishing-platforms"><strong>3. Kiểm Tra Tên Người Dùng (SaaS, Content Publishing Platforms)</strong></a></li>
        <li><a href="#4-các-ứng-dụng-khác-của-bloom-filter"><strong>4. Các Ứng Dụng Khác Của Bloom Filter</strong></a></li>
      </ul>
    </li>
    <li><a href="#bài-tập">Bài tập</a>
      <ul>
        <li><a href="#financial-fraud-detection">Financial Fraud Detection</a></li>
        <li><a href="#spell-checker">Spell Checker</a></li>
        <li><a href="#recommendation-systems-bloom-filters">Recommendation Systems Bloom Filters</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
<p>Giả sử bạn muốn lập một tài khoảng phở bò, username là phamduytung, bạn hăng hái hăm hở gõ vào cái tên đó trong ô username và .. bùm, phở bò báo lại cho bạn rằng username đó đã được sử dụng, bạn cố gắng thử với vài trường hợp như nhét năm sinh của bạn vào, nhét thêm chữ viết tắt của trường đại học vào, nhưng phở bò vẫn trả lời lại là tên username đó đã được sử dụng, thật là bực bội phải không?</p>
<p>Khoan khoan trút nỗi bực bội hoặc tìm cách đặt tên ở đây, chúng ta trở lại bản chất của vấn đề là hệ thống search username hoạt động như thế nào?</p>
<p>Phương án a: tìm kiếm tuyến tính, duyệt tất cả các username, nếu gặp 1 username trùng với username mình nhập vào -&gt; báo username đó đã tồn tại</p>
<p>Phương án b: tìm kiếm nhị phân binary search, so sánh tên người dùng với tên ở giữa danh sách, nếu khớp thì trả ra đã có , nếu không khớp thì xem tên người dùng lớn hơn hay nhỏ hơn tên ở giữa, nếu lớn hơn thì chúng ta sẽ chỉ lặp lại việc tìm kiếm như trên nhưng ở phạm vi còn 1 phần 2 từ tên ở giữa đến hết. Nếu nhỏ hơn thì phạm vi tìm kiếm cũng còn là 1 phần 2 từ đầu đến tên ở giữa, lặp đi lặp lại việc này đến khi tìm thấy ( trả ra tên đã sử dụng) hoặc hết phạm vi tìm kiếm (trả ra tên khả dụng). Cách này ổn nhưng việc tìm kiếm cũng trải qua khá nhiều bước.</p>
<p>Phương án c: lưu toàn bộ user dưới dạng 1 cái cây rồi duyệt node. Cách này ổn, nhưng khá tốn bộ nhớ khi tên username dài</p>
<p>Còn phương án nào khác không?</p>
<p>Có, tất nhiên là có rồi, đó chính là <em>Bloom Filters</em></p>
<h1 id="i-bloom-filters-là-gì">I. Bloom Filters là gì?<a class="anchor ms-1" href="#i-bloom-filters-là-gì"><i class="fas fa-link"></i></a></h1>
<p>Bloom filter, được phát minh bởi Burton Howard Bloom năm 1970, là một cấu trúc dữ liệu xác suất dựa trên thuật toán hasing. Nó được sử dụng để kiểm tra xem một phần tử có phải thuộc về  một tập hợp hay không. Tất nhiên, người ta cũng có thể sử dụng các cấu trúc dữ liệu khác để thực hiện việc này, nhưng Bloom filter có ưu điểm về hiệu quả về không gian và thời gian.</p>
<h1 id="ii-nguyên-lý--bloom-filters-hoạt-động">II. Nguyên lý  Bloom Filters hoạt động<a class="anchor ms-1" href="#ii-nguyên-lý--bloom-filters-hoạt-động"><i class="fas fa-link"></i></a></h1>
<h2 id="cấu-trúc-dữ-liệu">Cấu trúc dữ liệu<a class="anchor ms-1" href="#cấu-trúc-dữ-liệu"><i class="fas fa-link"></i></a></h2>
<p>Bloom Filters được cấu thành từ 2 thành phần, thứ nhất là  một mảng N bit , mỗi phần tử trong mảng mang giá trị 0 hoặc 1, giá trị khởi tạo ban đầu là 0. Thành phần thứ 2 là k thuật toán hash khác nhau, mỗi hàm hash sẽ được chia lấy dư cho N, và kích hoạt ô nhớ tương ứng với giá trị sau chia dư của hash.</p>
<p>Giả sử</p>
<p>chúng ta có N = 5, k =3 nghĩa là có 3 hàm hash , đặt tên là hash1, hash2, hash 3, từ khoá cần check và nếu không có thì thêm vào  là chữ &ldquo;duy&rdquo; và chữ &ldquo;tung&rdquo;</p>
<p>Ở thời điểm bắt đầu , chúng ta có 1 mảng 5 phần tử đều mang giá trị 0</p>
<p>[0,0,0,0,0]</p>
<p>kiểm tra  chữ &ldquo;duy&rdquo;</p>
<p>hash1(&ldquo;duy&rdquo;) %5 = 1
hash2(&ldquo;duy&rdquo;) %5 = 2
hash3(&ldquo;duy&rdquo;) %5 = 4</p>
<p>check các giá trị ở vị trí 1,2,4, chúng ta có toàn số 0, do dó từ khoá chưa có trong mảng, thêm vào mảng.</p>
<p>vậy mảng chúng ta thu được sau khi thêm chữ  &ldquo;duy&rdquo; sẽ là [0,1,1,0,1]</p>
<p>kiểm tra  chữ &ldquo;tung&rdquo;</p>
<p>hash1(&ldquo;tung&rdquo;) %5 = 1
hash2(&ldquo;tung&rdquo;) %5 = 3
hash3(&ldquo;tung&rdquo;) %5 = 4</p>
<p>check các giá trị ở bị trí 1,3,4, chúng ta thấy ở 1 và 4 đã là 1, nhưng ở 3 là 0, vậy là chữ &ldquo;tung&rdquo; chưa có, thêm vào mảng</p>
<p>vậy mảng chúng ta có sau khi thêm chữ  &ldquo;tung&rdquo; sẽ là [0,1,1,1,1]</p>
<p>giờ giả sử thêm chữ &ldquo;pham&rdquo; nha</p>
<p>kiểm tra  chữ &ldquo;pham&rdquo;</p>
<p>hash1(&ldquo;tung&rdquo;) %5 = 2
hash2(&ldquo;tung&rdquo;) %5 = 3
hash3(&ldquo;tung&rdquo;) %5 = 4</p>
<p>check các giá trị ở bị trí 2,3,4, chúng ta thấy cả 3 vị trí 2 , 3, 4 đều là 1 -&gt; chữ &ldquo;pham&rdquo; đã có, thông báo với người dùng là đã có , không thêm vào</p>
<p>Khoan khoan, ủa gì kỳ vậy, rõ ràng chữ &ldquo;pham&rdquo; chưa có mà</p>
<h2 id="xác-suất-dương-tính-sai">Xác suất dương tính sai<a class="anchor ms-1" href="#xác-suất-dương-tính-sai"><i class="fas fa-link"></i></a></h2>
<p>Đây, là vấn đề, cấu trúc này tồn tại một cái gọi là Xác suất dương tính sai, nghĩa là phần tử chưa có nhưng báo có.</p>
<p>Để hạn chế cái này, chúng ta có công thức tính, phần chứng minh xác xuất đụng độ thì chắc các bạn đọc wiki để hiểu thêm, do nó khá rõ ràng và dễ hiểu đối với các bạn đã học toán cơ bản rồi, còn bạn nào chưa học thì bỏ qua nó đi, chứ mình đem gõ lại mấy công thức này thì các bạn chưa học cũng chưa chắc sẽ hiểu</p>
<p><a href="https://en.wikipedia.org/wiki/Bloom_filter" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/Bloom_filter</a></p>
<p>Công thức ước tính số lượng phần tử còn lại  có thể được lưu trữ</p>
<p>$$
[
n* =- \frac{m}{k}ln\left[ 1-\frac{X}{n} \right]
]
$$</p>
<p>Trong đó:</p>
<p>n* là số lượng phần tử ước tính còn lại có thể  được  lưu trữ</p>
<p>k là số lượng hàm hash</p>
<p>m là chiều dài của mảng</p>
<p>X là số lượng phần tử đã được gán 1</p>
<h2 id="công-thức-ước-lượng-số-phần-tử-và-số-hàm-hash">Công thức ước lượng số phần tử và số hàm hash<a class="anchor ms-1" href="#công-thức-ước-lượng-số-phần-tử-và-số-hàm-hash"><i class="fas fa-link"></i></a></h2>
<p>Có nhiều cách thức, nhưng theo wiki, phần Probability of false positives thì chúng ta sẽ có, các bạn nên đọc kỹ</p>
<p>$$
[
m =-n * ln(p)/ln(2)^2
]
$$</p>
<p>$$
[
k =- \frac{m}{n}ln2
]
$$</p>
<p>Trong đó:</p>
<p>k là số hàm hash</p>
<p>m là chiều dài mảng</p>
<p>n là số lượng cần lưu trữ, ví dụ facebook mình thiết kế cho 20 tỷ username, thì set n = 20 tỷ</p>
<p>p là Xác suất dương tính sai, ví dụ là 0.1% thì p= 0.001</p>
<p>Chúng ta tính được m = 383,402,335 và k = 14</p>
<h1 id="iii-ưu-điểm-của-bộ-lọc-bloom">III. Ưu điểm của bộ lọc Bloom<a class="anchor ms-1" href="#iii-ưu-điểm-của-bộ-lọc-bloom"><i class="fas fa-link"></i></a></h1>
<p>Bloom Filter là một cấu trúc dữ liệu nhỏ gọn và hiệu quả, thường được sử dụng để kiểm tra thành viên (membership) trong tập hợp. Dưới đây là các ưu điểm nổi bật của Bloom Filter:</p>
<h2 id="1-tiết-kiệm-bộ-nhớ">1. Tiết kiệm bộ nhớ<a class="anchor ms-1" href="#1-tiết-kiệm-bộ-nhớ"><i class="fas fa-link"></i></a></h2>
<ul>
<li><strong>Kích thước nhỏ gọn:</strong> Bloom Filter sử dụng ít bộ nhớ hơn nhiều so với các cấu trúc dữ liệu khác như bảng băm (hash table) hoặc danh sách.</li>
<li><strong>Thích hợp cho dữ liệu lớn:</strong> Đặc biệt hữu ích khi làm việc với tập dữ liệu khổng lồ, nơi mà việc lưu trữ đầy đủ các phần tử không khả thi.</li>
</ul>
<h2 id="2-kiểm-tra-thành-viên-nhanh-chóng">2. Kiểm tra thành viên nhanh chóng<a class="anchor ms-1" href="#2-kiểm-tra-thành-viên-nhanh-chóng"><i class="fas fa-link"></i></a></h2>
<ul>
<li><strong>Độ phức tạp O(1):</strong> Bloom Filter có thể kiểm tra một phần tử có khả năng nằm trong tập hợp hay không trong thời gian hằng số.</li>
<li><strong>Không lưu trữ phần tử:</strong> Điều này giúp Bloom Filter hoạt động nhanh hơn và giảm chi phí lưu trữ.</li>
</ul>
<h2 id="3-không-có-false-negative">3. Không có false negative<a class="anchor ms-1" href="#3-không-có-false-negative"><i class="fas fa-link"></i></a></h2>
<ul>
<li><strong>Đảm bảo độ chính xác khi kiểm tra sự tồn tại:</strong> Nếu Bloom Filter xác nhận rằng một phần tử nằm trong tập hợp, điều đó luôn đúng (không có <strong>false negative</strong>).</li>
<li><strong>Kiểm soát false positive:</strong> False positive (khi phần tử không thuộc tập nhưng lại được báo là thuộc) có thể được giảm bằng cách điều chỉnh kích thước mảng bit và số lượng hàm băm.</li>
</ul>
<h2 id="4-dễ-dàng-mở-rộng">4. Dễ dàng mở rộng<a class="anchor ms-1" href="#4-dễ-dàng-mở-rộng"><i class="fas fa-link"></i></a></h2>
<ul>
<li><strong>Điều chỉnh linh hoạt:</strong> Có thể thay đổi kích thước mảng bit hoặc số hàm băm để tối ưu hóa hiệu suất hoặc giảm tỷ lệ false positive.</li>
<li><strong>Các biến thể mạnh mẽ:</strong> Scalable Bloom Filter và Counting Bloom Filter cho phép Bloom Filter mở rộng hoặc hỗ trợ cập nhật dữ liệu dễ dàng.</li>
</ul>
<h2 id="5-thiết-kế-đơn-giản">5. Thiết kế đơn giản<a class="anchor ms-1" href="#5-thiết-kế-đơn-giản"><i class="fas fa-link"></i></a></h2>
<ul>
<li><strong>Không cần xử lý xung đột:</strong> Không như bảng băm, Bloom Filter không cần các cơ chế xử lý xung đột phức tạp.</li>
<li><strong>Không cần thay đổi kích thước:</strong> Bloom Filter không yêu cầu &ldquo;resize&rdquo; như các cấu trúc dữ liệu khác khi dữ liệu tăng lên.</li>
</ul>
<h2 id="6-thân-thiện-với-hệ-thống-phân-tán">6. Thân thiện với hệ thống phân tán<a class="anchor ms-1" href="#6-thân-thiện-với-hệ-thống-phân-tán"><i class="fas fa-link"></i></a></h2>
<ul>
<li><strong>Hiệu quả trên mạng:</strong> Bloom Filter có thể được truyền qua mạng với dung lượng nhỏ, giúp đồng bộ dữ liệu giữa các hệ thống phân tán hiệu quả.</li>
<li><strong>Ứng dụng trong hệ thống lưu trữ:</strong> Giảm số lần truy cập không cần thiết vào cơ sở dữ liệu phân tán.</li>
</ul>
<h2 id="7-ứng-dụng-rộng-rãi">7. Ứng dụng rộng rãi<a class="anchor ms-1" href="#7-ứng-dụng-rộng-rãi"><i class="fas fa-link"></i></a></h2>
<ul>
<li><strong>Đa dạng ứng dụng:</strong> Được sử dụng trong các hệ thống cơ sở dữ liệu, mạng, công cụ tìm kiếm, bảo mật, và nhiều lĩnh vực khác.</li>
<li><strong>Ví dụ sử dụng:</strong>
<ul>
<li><strong>Cơ sở dữ liệu:</strong> Kiểm tra nhanh sự tồn tại của khóa để giảm chi phí truy cập ổ đĩa.</li>
<li><strong>Bộ lọc web:</strong> Loại bỏ nhanh các URL trùng lặp hoặc không hợp lệ.</li>
<li><strong>Phát hiện thư rác:</strong> Xác định địa chỉ email hoặc domain trong danh sách đen.</li>
</ul>
</li>
</ul>
<h2 id="8-hỗ-trợ-tính-toán-song-song">8. Hỗ trợ tính toán song song<a class="anchor ms-1" href="#8-hỗ-trợ-tính-toán-song-song"><i class="fas fa-link"></i></a></h2>
<ul>
<li><strong>Tính toán hàm băm độc lập:</strong> Các hàm băm có thể được tính toán song song, giúp Bloom Filter tận dụng được hệ thống đa lõi hoặc phân tán.</li>
<li><strong>Tăng tốc bằng phần cứng:</strong> Có thể triển khai trên phần cứng (như FPGA, GPU) để đạt hiệu năng cao.</li>
</ul>
<h2 id="9-ứng-dụng-trong-bảo-mật-và-quyền-riêng-tư">9. Ứng dụng trong bảo mật và quyền riêng tư<a class="anchor ms-1" href="#9-ứng-dụng-trong-bảo-mật-và-quyền-riêng-tư"><i class="fas fa-link"></i></a></h2>
<ul>
<li><strong>Truy vấn ẩn danh:</strong> Hỗ trợ các giao thức truy vấn thông tin riêng tư mà không làm lộ dữ liệu.</li>
<li><strong>Phát hiện nhanh chóng:</strong> Xác định IP hoặc hành vi đáng ngờ mà không cần lưu trữ toàn bộ dữ liệu nhạy cảm.</li>
</ul>
<h2 id="10-dễ-bảo-trì">10. Dễ bảo trì<a class="anchor ms-1" href="#10-dễ-bảo-trì"><i class="fas fa-link"></i></a></h2>
<ul>
<li><strong>Không lưu dữ liệu thô:</strong> Vì Bloom Filter không lưu trữ chính xác dữ liệu thô, chi phí quản lý và bảo trì thấp hơn.</li>
<li><strong>Hoạt động tĩnh:</strong> Một Bloom Filter được tạo trước có thể được sử dụng lặp lại mà không cần cập nhật.</li>
</ul>
<h2 id="khi-nào-nên-sử-dụng-bloom-filter">Khi nào nên sử dụng Bloom Filter?<a class="anchor ms-1" href="#khi-nào-nên-sử-dụng-bloom-filter"><i class="fas fa-link"></i></a></h2>
<ul>
<li><strong>Bộ nhớ hạn chế:</strong> Khi không gian lưu trữ là vấn đề quan trọng, chẳng hạn trong các hệ thống nhúng hoặc thiết bị IoT.</li>
<li><strong>Cần kiểm tra nhanh:</strong> Khi tốc độ kiểm tra thành viên quan trọng hơn độ chính xác tuyệt đối.</li>
<li><strong>Chấp nhận false positive:</strong> Các ứng dụng có thể chịu được một số trường hợp false positive, ví dụ như bộ lọc spam.</li>
</ul>
<h1 id="hạn-chế-của-bộ-lọc-bloom-filter">Hạn chế của bộ lọc Bloom Filter<a class="anchor ms-1" href="#hạn-chế-của-bộ-lọc-bloom-filter"><i class="fas fa-link"></i></a></h1>
<p>Mặc dù Bloom Filter có nhiều ưu điểm vượt trội, nhưng cũng tồn tại một số hạn chế cần xem xét trước khi sử dụng. Dưới đây là các nhược điểm chính:</p>
<h2 id="1-false-positive-kết-quả-dương-tính-giả">1. False Positive (Kết quả dương tính giả)<a class="anchor ms-1" href="#1-false-positive-kết-quả-dương-tính-giả"><i class="fas fa-link"></i></a></h2>
<ul>
<li><strong>Không chính xác tuyệt đối:</strong> Bloom Filter có thể báo rằng một phần tử nằm trong tập hợp mặc dù thực tế không phải vậy. Điều này xảy ra do bản chất xác suất của cấu trúc dữ liệu.</li>
<li><strong>Không phù hợp cho các ứng dụng yêu cầu chính xác tuyệt đối:</strong> Ví dụ, không thể sử dụng Bloom Filter để lưu trữ dữ liệu nhạy cảm hoặc khi cần đảm bảo 100% độ tin cậy.</li>
</ul>
<h2 id="2-không-hỗ-trợ-xóa-phần-tử">2. Không hỗ trợ xóa phần tử<a class="anchor ms-1" href="#2-không-hỗ-trợ-xóa-phần-tử"><i class="fas fa-link"></i></a></h2>
<ul>
<li><strong>Không thể xóa trong phiên bản cơ bản:</strong> Một phần tử đã được thêm vào Bloom Filter không thể bị xóa, vì việc thay đổi bất kỳ bit nào có thể ảnh hưởng đến các phần tử khác đã được băm vào cùng bit.</li>
<li><strong>Giải pháp:</strong> Sử dụng <strong>Counting Bloom Filter</strong>, nhưng điều này đòi hỏi nhiều bộ nhớ hơn.</li>
</ul>
<h2 id="3-không-lưu-trữ-dữ-liệu-gốc">3. Không lưu trữ dữ liệu gốc<a class="anchor ms-1" href="#3-không-lưu-trữ-dữ-liệu-gốc"><i class="fas fa-link"></i></a></h2>
<ul>
<li><strong>Không thể trích xuất lại dữ liệu:</strong> Bloom Filter chỉ lưu dấu vết của phần tử thông qua mảng bit, vì vậy không thể truy xuất lại các phần tử thực tế từ Bloom Filter.</li>
<li><strong>Ứng dụng hạn chế:</strong> Không thể sử dụng Bloom Filter trong các hệ thống cần lưu trữ hoặc quản lý dữ liệu thực tế.</li>
</ul>
<h2 id="4-khó-điều-chỉnh-tỷ-lệ-false-positive">4. Khó điều chỉnh tỷ lệ false positive<a class="anchor ms-1" href="#4-khó-điều-chỉnh-tỷ-lệ-false-positive"><i class="fas fa-link"></i></a></h2>
<ul>
<li><strong>Cần thiết kế trước:</strong> Tỷ lệ false positive phụ thuộc vào kích thước mảng bit, số lượng hàm băm, và số lượng phần tử. Nếu các tham số này không được thiết kế cẩn thận từ đầu, Bloom Filter có thể hoạt động không hiệu quả.</li>
<li><strong>Không linh hoạt:</strong> Việc thay đổi các tham số (như kích thước hoặc số hàm băm) thường đòi hỏi phải tạo lại toàn bộ Bloom Filter.</li>
</ul>
<h2 id="5-yêu-cầu-chọn-hàm-băm-phù-hợp">5. Yêu cầu chọn hàm băm phù hợp<a class="anchor ms-1" href="#5-yêu-cầu-chọn-hàm-băm-phù-hợp"><i class="fas fa-link"></i></a></h2>
<ul>
<li><strong>Hiệu suất phụ thuộc vào hàm băm:</strong> Nếu các hàm băm không được chọn tốt, chúng có thể tạo ra các xung đột lớn, dẫn đến tỷ lệ false positive cao.</li>
<li><strong>Hao tổn tài nguyên:</strong> Tính toán các hàm băm phức tạp có thể tiêu tốn tài nguyên CPU, đặc biệt khi sử dụng nhiều hàm băm.</li>
</ul>
<h2 id="6-không-hiệu-quả-với-tập-dữ-liệu-nhỏ">6. Không hiệu quả với tập dữ liệu nhỏ<a class="anchor ms-1" href="#6-không-hiệu-quả-với-tập-dữ-liệu-nhỏ"><i class="fas fa-link"></i></a></h2>
<ul>
<li><strong>Quá phức tạp so với bài toán nhỏ:</strong> Khi tập dữ liệu nhỏ, việc sử dụng Bloom Filter có thể phức tạp và tốn tài nguyên hơn so với các giải pháp khác như danh sách liên kết hoặc bảng băm.</li>
</ul>
<h2 id="7-không-thể-mở-rộng-một-cách-đơn-giản">7. Không thể mở rộng một cách đơn giản<a class="anchor ms-1" href="#7-không-thể-mở-rộng-một-cách-đơn-giản"><i class="fas fa-link"></i></a></h2>
<ul>
<li><strong>Khó thêm phần tử mới:</strong> Khi tập dữ liệu lớn hơn dự kiến, Bloom Filter ban đầu có thể không đủ để lưu trữ thêm phần tử mà không tăng tỷ lệ false positive.</li>
<li><strong>Giải pháp:</strong> Sử dụng <strong>Scalable Bloom Filter</strong>, nhưng điều này làm tăng độ phức tạp và chi phí.</li>
</ul>
<h2 id="8-không-hỗ-trợ-kiểm-tra-phủ-định-no-false-negatives">8. Không hỗ trợ kiểm tra phủ định (No False Negatives)<a class="anchor ms-1" href="#8-không-hỗ-trợ-kiểm-tra-phủ-định-no-false-negatives"><i class="fas fa-link"></i></a></h2>
<ul>
<li><strong>Chỉ kiểm tra thành viên:</strong> Bloom Filter chỉ xác nhận rằng phần tử &ldquo;có thể có&rdquo; hoặc &ldquo;chắc chắn không có&rdquo; trong tập hợp, và không thể sử dụng để so sánh hoặc tìm kiếm dữ liệu thực tế.</li>
<li><strong>Ứng dụng giới hạn:</strong> Không phù hợp cho các bài toán yêu cầu thông tin chính xác về phần tử (như vị trí, giá trị cụ thể).</li>
</ul>
<h2 id="9-khó-triển-khai-và-bảo-trì-trong-hệ-thống-lớn">9. Khó triển khai và bảo trì trong hệ thống lớn<a class="anchor ms-1" href="#9-khó-triển-khai-và-bảo-trì-trong-hệ-thống-lớn"><i class="fas fa-link"></i></a></h2>
<ul>
<li><strong>Cần đồng bộ hóa:</strong> Trong hệ thống phân tán, Bloom Filter cần được cập nhật hoặc đồng bộ liên tục, điều này có thể gây phức tạp khi dữ liệu thay đổi nhanh.</li>
<li><strong>Chi phí bộ nhớ:</strong> Mặc dù Bloom Filter tiết kiệm bộ nhớ, nhưng khi yêu cầu tỷ lệ false positive thấp, kích thước mảng bit có thể trở nên lớn, làm giảm lợi ích của nó.</li>
</ul>
<h2 id="10-không-phù-hợp-với-dữ-liệu-động">10. Không phù hợp với dữ liệu động<a class="anchor ms-1" href="#10-không-phù-hợp-với-dữ-liệu-động"><i class="fas fa-link"></i></a></h2>
<ul>
<li><strong>Không tối ưu cho dữ liệu thay đổi thường xuyên:</strong> Khi tập dữ liệu thay đổi liên tục (thêm hoặc xóa phần tử), Bloom Filter cơ bản không phù hợp vì không hỗ trợ xóa và tái sử dụng không gian.</li>
</ul>
<h2 id="khi-nào-không-nên-sử-dụng-bloom-filter">Khi nào không nên sử dụng Bloom Filter?<a class="anchor ms-1" href="#khi-nào-không-nên-sử-dụng-bloom-filter"><i class="fas fa-link"></i></a></h2>
<ul>
<li>Khi yêu cầu kết quả chính xác tuyệt đối (không chấp nhận false positive).</li>
<li>Khi dữ liệu thay đổi liên tục và cần cập nhật (thêm hoặc xóa phần tử).</li>
<li>Khi tập dữ liệu nhỏ, Bloom Filter có thể phức tạp và tốn tài nguyên hơn các giải pháp đơn giản khác.</li>
</ul>
<h1 id="một-số-biến-thể-của-bloom-filter">Một số biến thể của Bloom Filter<a class="anchor ms-1" href="#một-số-biến-thể-của-bloom-filter"><i class="fas fa-link"></i></a></h1>
<h2 id="double-hashing-bloom-filter">Double Hashing Bloom Filter:<a class="anchor ms-1" href="#double-hashing-bloom-filter"><i class="fas fa-link"></i></a></h2>
<p><strong>Double Hashing Bloom Filter</strong> là một biến thể của Bloom Filter truyền thống sử dụng <strong>double hashing</strong> để tính toán nhiều giá trị băm từ một cặp hàm băm cơ sở thay vì sử dụng một tập hợp các hàm băm độc lập. Điều này giúp giảm độ phức tạp và tối ưu hóa hiệu suất khi triển khai.</p>
<h3 id="cách-hoạt-động-của-double-hashing-bloom-filter">Cách hoạt động của Double Hashing Bloom Filter<a class="anchor ms-1" href="#cách-hoạt-động-của-double-hashing-bloom-filter"><i class="fas fa-link"></i></a></h3>
<ol>
<li>
<p><strong>Ý tưởng chính của Double Hashing:</strong></p>
<ul>
<li>Sử dụng hai hàm băm cơ bản, ( h_1(x) ) và ( h_2(x) ), để tạo ra ( k ) hàm băm cho Bloom Filter.</li>
<li>Các giá trị băm được tính theo công thức:
[
g_i(x) = (h_1(x) + i \cdot h_2(x)) \mod m
]
<ul>
<li>( g_i(x) ) là giá trị băm thứ ( i ) cho phần tử ( x ).</li>
<li>( m ) là kích thước của mảng bit.</li>
<li>( i ) là chỉ số (0 đến ( k-1 )).</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Thêm phần tử (<code>Insert</code>):</strong></p>
<ul>
<li>Tính ( k ) giá trị băm từ hai hàm băm ( h_1(x) ) và ( h_2(x) ).</li>
<li>Đặt các bit tại các vị trí tương ứng trong mảng thành 1.</li>
</ul>
</li>
<li>
<p><strong>Kiểm tra phần tử (<code>Check</code>):</strong></p>
<ul>
<li>Tính ( k ) giá trị băm tương tự.</li>
<li>Kiểm tra xem tất cả các bit tương ứng đã được đặt thành 1 chưa.</li>
</ul>
</li>
</ol>
<h3 id="ưu-điểm-của-double-hashing-bloom-filter">Ưu điểm của Double Hashing Bloom Filter<a class="anchor ms-1" href="#ưu-điểm-của-double-hashing-bloom-filter"><i class="fas fa-link"></i></a></h3>
<ol>
<li>
<p><strong>Giảm số hàm băm cần thiết:</strong></p>
<ul>
<li>Chỉ cần hai hàm băm thay vì ( k ), giúp đơn giản hóa triển khai.</li>
</ul>
</li>
<li>
<p><strong>Tăng hiệu quả tính toán:</strong></p>
<ul>
<li>Việc tính toán các giá trị băm sử dụng ( h_1(x) ) và ( h_2(x) ) là nhanh chóng và dễ dàng.</li>
</ul>
</li>
<li>
<p><strong>Tối ưu hóa bộ nhớ:</strong></p>
<ul>
<li>Không cần lưu trữ hoặc triển khai nhiều hàm băm riêng lẻ.</li>
</ul>
</li>
</ol>
<h3 id="hạn-chế-của-double-hashing-bloom-filter">Hạn chế của Double Hashing Bloom Filter<a class="anchor ms-1" href="#hạn-chế-của-double-hashing-bloom-filter"><i class="fas fa-link"></i></a></h3>
<ol>
<li>
<p><strong>Độ chính xác phụ thuộc vào hàm băm cơ sở:</strong></p>
<ul>
<li>Nếu ( h_1(x) ) và ( h_2(x) ) không tốt, phân phối giá trị băm có thể không đều.</li>
</ul>
</li>
<li>
<p><strong>False positive vẫn tồn tại:</strong></p>
<ul>
<li>Giống Bloom Filter truyền thống, nó không thể tránh hoàn toàn false positive.</li>
</ul>
</li>
</ol>
<h3 id="ứng-dụng-của-double-hashing-bloom-filter">Ứng dụng của Double Hashing Bloom Filter<a class="anchor ms-1" href="#ứng-dụng-của-double-hashing-bloom-filter"><i class="fas fa-link"></i></a></h3>
<ol>
<li>
<p><strong>Cơ sở dữ liệu:</strong></p>
<ul>
<li>Giảm chi phí kiểm tra sự tồn tại của các khóa trong hệ thống lưu trữ.</li>
</ul>
</li>
<li>
<p><strong>Cache và bộ lọc web:</strong></p>
<ul>
<li>Xác định nhanh chóng xem một URL có nằm trong danh sách chặn hay không.</li>
</ul>
</li>
<li>
<p><strong>Hệ thống mạng:</strong></p>
<ul>
<li>Theo dõi và lọc gói tin hoặc địa chỉ IP.</li>
</ul>
</li>
</ol>
<h3 id="triển-khai-double-hashing-bloom-filter-bằng-python">Triển khai Double Hashing Bloom Filter bằng Python<a class="anchor ms-1" href="#triển-khai-double-hashing-bloom-filter-bằng-python"><i class="fas fa-link"></i></a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="kn">import</span> <span class="nn">hashlib</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl">
</span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="k">class</span> <span class="nc">DoubleHashingBloomFilter</span><span class="p">:</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">num_hashes</span><span class="p">):</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">size</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">num_hashes</span> <span class="o">=</span> <span class="n">num_hashes</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">bit_array</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">size</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">    <span class="k">def</span> <span class="nf">_hashes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl">        <span class="n">h1</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">hashlib</span><span class="o">.</span><span class="n">md5</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">(),</span> <span class="mi">16</span><span class="p">)</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl">        <span class="n">h2</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">(),</span> <span class="mi">16</span><span class="p">)</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>
</span></span><span class="line"><span class="ln">12</span><span class="cl">        <span class="n">hashes</span> <span class="o">=</span> <span class="p">[(</span><span class="n">h1</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="n">h2</span><span class="p">)</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_hashes</span><span class="p">)]</span>
</span></span><span class="line"><span class="ln">13</span><span class="cl">        <span class="k">return</span> <span class="n">hashes</span>
</span></span><span class="line"><span class="ln">14</span><span class="cl">
</span></span><span class="line"><span class="ln">15</span><span class="cl">    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">16</span><span class="cl">        <span class="n">indices</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hashes</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">17</span><span class="cl">        <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">18</span><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">bit_array</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="ln">19</span><span class="cl">
</span></span><span class="line"><span class="ln">20</span><span class="cl">    <span class="k">def</span> <span class="nf">contains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">21</span><span class="cl">        <span class="n">indices</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hashes</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">22</span><span class="cl">        <span class="k">return</span> <span class="nb">all</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bit_array</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">23</span><span class="cl">
</span></span><span class="line"><span class="ln">24</span><span class="cl">
</span></span><span class="line"><span class="ln">25</span><span class="cl"><span class="c1"># Example Usage</span>
</span></span><span class="line"><span class="ln">26</span><span class="cl"><span class="n">dbf</span> <span class="o">=</span> <span class="n">DoubleHashingBloomFilter</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">num_hashes</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">27</span><span class="cl">
</span></span><span class="line"><span class="ln">28</span><span class="cl"><span class="c1"># Add elements</span>
</span></span><span class="line"><span class="ln">29</span><span class="cl"><span class="n">dbf</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&#34;hello&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">30</span><span class="cl"><span class="n">dbf</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&#34;world&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">31</span><span class="cl">
</span></span><span class="line"><span class="ln">32</span><span class="cl"><span class="c1"># Check elements</span>
</span></span><span class="line"><span class="ln">33</span><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">dbf</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&#34;hello&#34;</span><span class="p">))</span>  <span class="c1"># True</span>
</span></span><span class="line"><span class="ln">34</span><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">dbf</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&#34;world&#34;</span><span class="p">))</span>  <span class="c1"># True</span>
</span></span><span class="line"><span class="ln">35</span><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">dbf</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&#34;python&#34;</span><span class="p">))</span>  <span class="c1"># False</span>
</span></span></code></pre></div><h3 id="tóm-tắt">Tóm tắt<a class="anchor ms-1" href="#tóm-tắt"><i class="fas fa-link"></i></a></h3>
<ul>
<li><strong>Double Hashing Bloom Filter</strong> giảm số lượng hàm băm cần thiết bằng cách sử dụng hai hàm băm cơ sở để tạo ( k ) giá trị băm.</li>
<li>Phù hợp với các ứng dụng yêu cầu hiệu suất cao, dễ triển khai và bảo toàn tính chính xác của Bloom Filter.</li>
<li>Mã giả ở trên minh họa cách triển khai bằng cả Python và Golang.</li>
</ul>
<p>Nếu cần giải thích thêm hoặc có yêu cầu cụ thể, hãy cho mình biết nhé! 😊</p>
<h2 id="partitioning-bloom-filter">Partitioning Bloom Filter:<a class="anchor ms-1" href="#partitioning-bloom-filter"><i class="fas fa-link"></i></a></h2>
<p><strong>Partitioning Bloom Filter (PBF)</strong> là một biến thể của Bloom Filter, trong đó <strong>mảng bit được chia thành các phân đoạn riêng biệt (partitions)</strong>. Mỗi hàm băm chỉ ảnh hưởng đến một phân đoạn cụ thể thay vì toàn bộ mảng. Phương pháp này cải thiện khả năng phân tán và giảm khả năng các hàm băm khác nhau ghi đè lẫn nhau (collision) trong mảng bit.</p>
<h3 id="cách-hoạt-động-của-partitioning-bloom-filter">Cách hoạt động của Partitioning Bloom Filter<a class="anchor ms-1" href="#cách-hoạt-động-của-partitioning-bloom-filter"><i class="fas fa-link"></i></a></h3>
<ol>
<li>
<p><strong>Chia mảng bit thành nhiều phân đoạn (partitions):</strong></p>
<ul>
<li>Mảng bit tổng thể được chia thành ( k ) phân đoạn, trong đó ( k ) là số hàm băm.</li>
<li>Mỗi hàm băm chỉ hoạt động trên một phân đoạn riêng biệt.</li>
</ul>
</li>
<li>
<p><strong>Thêm phần tử (<code>Insert</code>):</strong></p>
<ul>
<li>Khi một phần tử được thêm vào, các hàm băm ánh xạ nó đến các vị trí trong từng phân đoạn.</li>
<li>Chỉ các bit trong phân đoạn tương ứng được thiết lập.</li>
</ul>
</li>
<li>
<p><strong>Kiểm tra phần tử (<code>Check</code>):</strong></p>
<ul>
<li>Để kiểm tra sự tồn tại, áp dụng các hàm băm để kiểm tra các vị trí trong các phân đoạn tương ứng.</li>
</ul>
</li>
<li>
<p><strong>Giảm xung đột giữa các hàm băm:</strong></p>
<ul>
<li>Vì mỗi hàm băm chỉ làm việc trong một phân đoạn, khả năng ghi đè bit của nhau (collision) giảm đáng kể so với Bloom Filter thông thường.</li>
</ul>
</li>
</ol>
<h3 id="ưu-điểm-của-partitioning-bloom-filter">Ưu điểm của Partitioning Bloom Filter<a class="anchor ms-1" href="#ưu-điểm-của-partitioning-bloom-filter"><i class="fas fa-link"></i></a></h3>
<ol>
<li>
<p><strong>Phân phối đồng đều hơn:</strong></p>
<ul>
<li>Việc phân chia mảng giúp giảm xung đột giữa các hàm băm và cải thiện độ chính xác.</li>
</ul>
</li>
<li>
<p><strong>Kiểm soát false positive:</strong></p>
<ul>
<li>Xác suất false positive có thể giảm so với Bloom Filter thông thường nếu các phân đoạn được thiết kế tối ưu.</li>
</ul>
</li>
<li>
<p><strong>Dễ dàng mở rộng:</strong></p>
<ul>
<li>Có thể tăng số phân đoạn hoặc kích thước từng phân đoạn để phù hợp với yêu cầu cụ thể.</li>
</ul>
</li>
</ol>
<h3 id="hạn-chế-của-partitioning-bloom-filter">Hạn chế của Partitioning Bloom Filter<a class="anchor ms-1" href="#hạn-chế-của-partitioning-bloom-filter"><i class="fas fa-link"></i></a></h3>
<ol>
<li>
<p><strong>Tăng phức tạp quản lý:</strong></p>
<ul>
<li>Cần đảm bảo rằng mỗi hàm băm chỉ hoạt động trong phân đoạn tương ứng, tăng độ phức tạp khi triển khai.</li>
</ul>
</li>
<li>
<p><strong>Bộ nhớ không linh hoạt:</strong></p>
<ul>
<li>Mỗi phân đoạn phải có kích thước giống nhau, dẫn đến việc sử dụng bộ nhớ không linh hoạt nếu dữ liệu không đồng đều.</li>
</ul>
</li>
</ol>
<h3 id="ứng-dụng-của-partitioning-bloom-filter">Ứng dụng của Partitioning Bloom Filter<a class="anchor ms-1" href="#ứng-dụng-của-partitioning-bloom-filter"><i class="fas fa-link"></i></a></h3>
<ol>
<li>
<p><strong>Hệ thống lưu trữ và cache:</strong></p>
<ul>
<li>Theo dõi sự tồn tại của các phần tử trong các vùng dữ liệu riêng biệt.</li>
</ul>
</li>
<li>
<p><strong>Quản lý tải trong mạng:</strong></p>
<ul>
<li>Chia nhỏ dữ liệu theo các nhóm (partitions) để giảm xung đột khi lưu trữ.</li>
</ul>
</li>
<li>
<p><strong>Phân vùng cơ sở dữ liệu:</strong></p>
<ul>
<li>Giúp phân tán truy vấn và dữ liệu trong các cụm (cluster) cơ sở dữ liệu.</li>
</ul>
</li>
</ol>
<h3 id="triển-khai-partitioning-bloom-filter-bằng-python">Triển khai Partitioning Bloom Filter bằng Python<a class="anchor ms-1" href="#triển-khai-partitioning-bloom-filter-bằng-python"><i class="fas fa-link"></i></a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="kn">import</span> <span class="nn">hashlib</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl">
</span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="k">class</span> <span class="nc">PartitioningBloomFilter</span><span class="p">:</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">total_size</span><span class="p">,</span> <span class="n">num_hashes</span><span class="p">):</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">num_hashes</span> <span class="o">=</span> <span class="n">num_hashes</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">partition_size</span> <span class="o">=</span> <span class="n">total_size</span> <span class="o">//</span> <span class="n">num_hashes</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">bit_array</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">total_size</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">    <span class="k">def</span> <span class="nf">_hashes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl">        <span class="n">hashes</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl">        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_hashes</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">12</span><span class="cl">            <span class="n">hash_value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">hashlib</span><span class="o">.</span><span class="n">md5</span><span class="p">((</span><span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">(),</span> <span class="mi">16</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">13</span><span class="cl">            <span class="c1"># Map hash to the partition</span>
</span></span><span class="line"><span class="ln">14</span><span class="cl">            <span class="n">partition_start</span> <span class="o">=</span> <span class="n">i</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">partition_size</span>
</span></span><span class="line"><span class="ln">15</span><span class="cl">            <span class="n">index</span> <span class="o">=</span> <span class="n">partition_start</span> <span class="o">+</span> <span class="p">(</span><span class="n">hash_value</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">partition_size</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">16</span><span class="cl">            <span class="n">hashes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">17</span><span class="cl">        <span class="k">return</span> <span class="n">hashes</span>
</span></span><span class="line"><span class="ln">18</span><span class="cl">
</span></span><span class="line"><span class="ln">19</span><span class="cl">    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">20</span><span class="cl">        <span class="n">indices</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hashes</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">21</span><span class="cl">        <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">22</span><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">bit_array</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="ln">23</span><span class="cl">
</span></span><span class="line"><span class="ln">24</span><span class="cl">    <span class="k">def</span> <span class="nf">contains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">25</span><span class="cl">        <span class="n">indices</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hashes</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">26</span><span class="cl">        <span class="k">return</span> <span class="nb">all</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bit_array</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">27</span><span class="cl">
</span></span><span class="line"><span class="ln">28</span><span class="cl">
</span></span><span class="line"><span class="ln">29</span><span class="cl"><span class="c1"># Example Usage</span>
</span></span><span class="line"><span class="ln">30</span><span class="cl"><span class="n">pbf</span> <span class="o">=</span> <span class="n">PartitioningBloomFilter</span><span class="p">(</span><span class="n">total_size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">num_hashes</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">31</span><span class="cl">
</span></span><span class="line"><span class="ln">32</span><span class="cl"><span class="c1"># Add elements</span>
</span></span><span class="line"><span class="ln">33</span><span class="cl"><span class="n">pbf</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&#34;hello&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">34</span><span class="cl"><span class="n">pbf</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&#34;world&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">35</span><span class="cl">
</span></span><span class="line"><span class="ln">36</span><span class="cl"><span class="c1"># Check elements</span>
</span></span><span class="line"><span class="ln">37</span><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">pbf</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&#34;hello&#34;</span><span class="p">))</span>  <span class="c1"># True</span>
</span></span><span class="line"><span class="ln">38</span><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">pbf</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&#34;world&#34;</span><span class="p">))</span>  <span class="c1"># True</span>
</span></span><span class="line"><span class="ln">39</span><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">pbf</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&#34;python&#34;</span><span class="p">))</span>  <span class="c1"># False</span>
</span></span></code></pre></div><h3 id="tóm-tắt-1">Tóm tắt<a class="anchor ms-1" href="#tóm-tắt-1"><i class="fas fa-link"></i></a></h3>
<ul>
<li><strong>Partitioning Bloom Filter</strong> cải thiện Bloom Filter bằng cách chia mảng bit thành các phân đoạn độc lập.</li>
<li>Nó giảm xung đột giữa các hàm băm và có thể cải thiện độ chính xác.</li>
<li>Thích hợp cho các ứng dụng yêu cầu truy vấn nhanh và đồng thời trong các vùng dữ liệu riêng biệt.</li>
</ul>
<h2 id="counting-bloom-filter">Counting Bloom Filter:<a class="anchor ms-1" href="#counting-bloom-filter"><i class="fas fa-link"></i></a></h2>
<p><strong>Counting Bloom Filter (CBF)</strong> là một biến thể của Bloom Filter hỗ trợ thêm khả năng <strong>xóa (delete)</strong> phần tử khỏi cấu trúc dữ liệu. Trong khi Bloom Filter truyền thống chỉ có thể thêm và kiểm tra sự tồn tại của phần tử, Counting Bloom Filter cho phép cả thêm, xóa, và kiểm tra với độ chính xác tương đối.</p>
<h3 id="cách-hoạt-động-của-counting-bloom-filter">Cách hoạt động của Counting Bloom Filter<a class="anchor ms-1" href="#cách-hoạt-động-của-counting-bloom-filter"><i class="fas fa-link"></i></a></h3>
<ol>
<li>
<p><strong>Thay vì mảng bit, sử dụng mảng đếm (counting array):</strong></p>
<ul>
<li>Mỗi vị trí trong mảng không còn là một <strong>bit</strong> (0 hoặc 1) mà là một <strong>số nguyên</strong> (counter).</li>
<li>Bộ đếm ở mỗi vị trí cho biết số lần một phần tử hoặc nhiều phần tử khác nhau ánh xạ đến vị trí đó.</li>
</ul>
</li>
<li>
<p><strong>Thêm phần tử (<code>Insert</code>):</strong></p>
<ul>
<li>Khi thêm một phần tử, tăng giá trị của các bộ đếm tại các chỉ mục được tính bởi các hàm băm.</li>
</ul>
</li>
<li>
<p><strong>Xóa phần tử (<code>Delete</code>):</strong></p>
<ul>
<li>Khi xóa một phần tử, giảm giá trị của các bộ đếm tại các chỉ mục được tính bởi các hàm băm.</li>
<li>Nếu bất kỳ bộ đếm nào giảm về 0, vị trí đó được coi là trống.</li>
</ul>
</li>
<li>
<p><strong>Kiểm tra phần tử (<code>Check</code>):</strong></p>
<ul>
<li>Phần tử được coi là có thể tồn tại nếu tất cả các chỉ mục băm tương ứng có giá trị <strong>lớn hơn 0</strong>.</li>
</ul>
</li>
</ol>
<h3 id="ưu-điểm-của-counting-bloom-filter">Ưu điểm của Counting Bloom Filter<a class="anchor ms-1" href="#ưu-điểm-của-counting-bloom-filter"><i class="fas fa-link"></i></a></h3>
<ol>
<li>
<p><strong>Hỗ trợ xóa phần tử:</strong></p>
<ul>
<li>Khắc phục hạn chế lớn của Bloom Filter truyền thống là không hỗ trợ xóa.</li>
</ul>
</li>
<li>
<p><strong>Giữ được tính gọn nhẹ:</strong></p>
<ul>
<li>Chỉ cần một lượng nhỏ bộ nhớ bổ sung (các bộ đếm thay vì bit).</li>
</ul>
</li>
<li>
<p><strong>Hiệu quả với các tập dữ liệu động:</strong></p>
<ul>
<li>Rất phù hợp trong các ứng dụng mà các phần tử thường xuyên được thêm và xóa.</li>
</ul>
</li>
</ol>
<h3 id="hạn-chế-của-counting-bloom-filter">Hạn chế của Counting Bloom Filter<a class="anchor ms-1" href="#hạn-chế-của-counting-bloom-filter"><i class="fas fa-link"></i></a></h3>
<ol>
<li>
<p><strong>False positive:</strong></p>
<ul>
<li>Giống như Bloom Filter, CBF vẫn có nguy cơ <strong>false positive</strong> (trả về &ldquo;có thể tồn tại&rdquo; cho phần tử không tồn tại).</li>
</ul>
</li>
<li>
<p><strong>Không hỗ trợ kiểm tra &ldquo;chắc chắn xóa&rdquo;:</strong></p>
<ul>
<li>Khi một phần tử bị xóa, các phần tử khác có thể ánh xạ đến cùng chỉ mục vẫn giữ các bộ đếm.</li>
</ul>
</li>
<li>
<p><strong>Tăng yêu cầu bộ nhớ:</strong></p>
<ul>
<li>Mỗi vị trí trong mảng cần lưu trữ một số nguyên thay vì một bit, dẫn đến tăng đáng kể dung lượng bộ nhớ.</li>
</ul>
</li>
</ol>
<h3 id="ứng-dụng-của-counting-bloom-filter">Ứng dụng của Counting Bloom Filter<a class="anchor ms-1" href="#ứng-dụng-của-counting-bloom-filter"><i class="fas fa-link"></i></a></h3>
<ol>
<li>
<p><strong>Quản lý cache:</strong></p>
<ul>
<li>Theo dõi các phần tử trong cache, cho phép xóa khi hết hạn hoặc khi không còn cần thiết.</li>
</ul>
</li>
<li>
<p><strong>Hệ thống mạng:</strong></p>
<ul>
<li>Theo dõi các gói tin hoặc lưu lượng mạng trong khoảng thời gian nhất định.</li>
</ul>
</li>
<li>
<p><strong>Cơ sở dữ liệu:</strong></p>
<ul>
<li>Hỗ trợ trong các hệ thống lưu trữ, nơi các phần tử cần được thêm và xóa thường xuyên.</li>
</ul>
</li>
</ol>
<h3 id="triển-khai-bằng-python">Triển khai bằng Python<a class="anchor ms-1" href="#triển-khai-bằng-python"><i class="fas fa-link"></i></a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="kn">import</span> <span class="nn">hashlib</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl">
</span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="k">class</span> <span class="nc">CountingBloomFilter</span><span class="p">:</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">num_hashes</span><span class="p">):</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">size</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">num_hashes</span> <span class="o">=</span> <span class="n">num_hashes</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">count_array</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">size</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">    <span class="k">def</span> <span class="nf">_hashes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl">        <span class="n">hashes</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl">        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_hashes</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">12</span><span class="cl">            <span class="n">hash_value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">hashlib</span><span class="o">.</span><span class="n">md5</span><span class="p">((</span><span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">(),</span> <span class="mi">16</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">13</span><span class="cl">            <span class="n">hashes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hash_value</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">14</span><span class="cl">        <span class="k">return</span> <span class="n">hashes</span>
</span></span><span class="line"><span class="ln">15</span><span class="cl">
</span></span><span class="line"><span class="ln">16</span><span class="cl">    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">17</span><span class="cl">        <span class="n">indices</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hashes</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">18</span><span class="cl">        <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">19</span><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">count_array</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="ln">20</span><span class="cl">
</span></span><span class="line"><span class="ln">21</span><span class="cl">    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">22</span><span class="cl">        <span class="n">indices</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hashes</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">23</span><span class="cl">        <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">24</span><span class="cl">            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">count_array</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">25</span><span class="cl">                <span class="bp">self</span><span class="o">.</span><span class="n">count_array</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">-=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="ln">26</span><span class="cl">
</span></span><span class="line"><span class="ln">27</span><span class="cl">    <span class="k">def</span> <span class="nf">contains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">28</span><span class="cl">        <span class="n">indices</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hashes</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">29</span><span class="cl">        <span class="k">return</span> <span class="nb">all</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">count_array</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">30</span><span class="cl">
</span></span><span class="line"><span class="ln">31</span><span class="cl">
</span></span><span class="line"><span class="ln">32</span><span class="cl"><span class="c1"># Example Usage</span>
</span></span><span class="line"><span class="ln">33</span><span class="cl"><span class="n">cbf</span> <span class="o">=</span> <span class="n">CountingBloomFilter</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">num_hashes</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">34</span><span class="cl">
</span></span><span class="line"><span class="ln">35</span><span class="cl"><span class="c1"># Add elements</span>
</span></span><span class="line"><span class="ln">36</span><span class="cl"><span class="n">cbf</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&#34;hello&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">37</span><span class="cl"><span class="n">cbf</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&#34;world&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">38</span><span class="cl">
</span></span><span class="line"><span class="ln">39</span><span class="cl"><span class="c1"># Check elements</span>
</span></span><span class="line"><span class="ln">40</span><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">cbf</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&#34;hello&#34;</span><span class="p">))</span>  <span class="c1"># True</span>
</span></span><span class="line"><span class="ln">41</span><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">cbf</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&#34;world&#34;</span><span class="p">))</span>  <span class="c1"># True</span>
</span></span><span class="line"><span class="ln">42</span><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">cbf</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&#34;python&#34;</span><span class="p">))</span>  <span class="c1"># False</span>
</span></span><span class="line"><span class="ln">43</span><span class="cl">
</span></span><span class="line"><span class="ln">44</span><span class="cl"><span class="c1"># Delete an element</span>
</span></span><span class="line"><span class="ln">45</span><span class="cl"><span class="n">cbf</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&#34;hello&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">46</span><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">cbf</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&#34;hello&#34;</span><span class="p">))</span>  <span class="c1"># False</span>
</span></span></code></pre></div><h3 id="tóm-tắt-2">Tóm tắt<a class="anchor ms-1" href="#tóm-tắt-2"><i class="fas fa-link"></i></a></h3>
<ul>
<li><strong>Counting Bloom Filter</strong> cho phép thêm, xóa và kiểm tra phần tử, mở rộng tính năng của Bloom Filter truyền thống.</li>
<li>Nó phù hợp với các ứng dụng yêu cầu thao tác động với tập dữ liệu, nhưng vẫn giữ các ưu điểm về hiệu suất và bộ nhớ của Bloom Filter.</li>
</ul>
<p>Nếu cần hỗ trợ thêm, hãy cho mình biết nhé! 😊</p>
<h2 id="scalable-bloom-filter">Scalable Bloom Filter<a class="anchor ms-1" href="#scalable-bloom-filter"><i class="fas fa-link"></i></a></h2>
<p><strong>Scalable Bloom Filter (SBF)</strong> là một biến thể của <strong>Bloom Filter</strong> được thiết kế để khắc phục hạn chế cố hữu của Bloom Filter truyền thống: <strong>kích thước cố định</strong>. SBF có thể <strong>mở rộng động</strong> khi số lượng phần tử tăng mà không làm mất tính hiệu quả hoặc chính xác của Bloom Filter.</p>
<h3 id="vấn-đề-với-bloom-filter-truyền-thống">Vấn đề với Bloom Filter truyền thống<a class="anchor ms-1" href="#vấn-đề-với-bloom-filter-truyền-thống"><i class="fas fa-link"></i></a></h3>
<ul>
<li><strong>Giới hạn kích thước</strong>: Bloom Filter truyền thống yêu cầu kích thước mảng bit cố định khi khởi tạo, dựa trên số phần tử ước tính và tỷ lệ <strong>false positive</strong> mong muốn.</li>
<li>Nếu số phần tử vượt quá dự đoán ban đầu, tỷ lệ <strong>false positive</strong> tăng đáng kể.</li>
<li>Không thể thay đổi kích thước mà vẫn giữ nguyên các phần tử đã được thêm.</li>
</ul>
<h3 id="scalable-bloom-filter-giải-quyết-vấn-đề-như-thế-nào">Scalable Bloom Filter giải quyết vấn đề như thế nào?<a class="anchor ms-1" href="#scalable-bloom-filter-giải-quyết-vấn-đề-như-thế-nào"><i class="fas fa-link"></i></a></h3>
<p>SBF khắc phục vấn đề này bằng cách:</p>
<ol>
<li><strong>Tăng kích thước động</strong>:
<ul>
<li>Khi số phần tử vượt quá một ngưỡng (threshold), SBF thêm một <strong>Bloom Filter mới</strong> với kích thước lớn hơn.</li>
</ul>
</li>
<li><strong>Giảm false positive</strong>:
<ul>
<li>Mỗi Bloom Filter mới được tạo ra sử dụng một tỷ lệ <strong>false positive</strong> thấp hơn so với các Bloom Filter trước đó. Điều này giúp giảm nguy cơ tổng thể của <strong>false positive</strong>.</li>
</ul>
</li>
</ol>
<h3 id="cấu-trúc-và-cách-hoạt-động-của-scalable-bloom-filter">Cấu trúc và cách hoạt động của Scalable Bloom Filter<a class="anchor ms-1" href="#cấu-trúc-và-cách-hoạt-động-của-scalable-bloom-filter"><i class="fas fa-link"></i></a></h3>
<ol>
<li>
<p><strong>Cấu trúc</strong>:</p>
<ul>
<li>SBF bao gồm một <strong>chuỗi các Bloom Filter</strong> được tạo ra khi cần mở rộng.</li>
<li>Mỗi Bloom Filter có kích thước và tỷ lệ false positive khác nhau, tăng dần theo thời gian.</li>
</ul>
</li>
<li>
<p><strong>Chèn phần tử (<code>Insert</code>)</strong>:</p>
<ul>
<li>Phần tử mới được thêm vào <strong>Bloom Filter hiện tại</strong> (bloom filter cuối cùng trong chuỗi).</li>
<li>Nếu Bloom Filter hiện tại đạt ngưỡng tối đa, một Bloom Filter mới được tạo.</li>
</ul>
</li>
<li>
<p><strong>Kiểm tra phần tử (<code>Check</code>)</strong>:</p>
<ul>
<li>Lần lượt kiểm tra phần tử trong từng Bloom Filter, từ đầu đến cuối chuỗi.</li>
<li>Nếu phần tử được tìm thấy trong bất kỳ Bloom Filter nào, kết quả trả về là &ldquo;có thể tồn tại&rdquo;.</li>
</ul>
</li>
<li>
<p><strong>Ngưỡng mở rộng (Threshold)</strong>:</p>
<ul>
<li>SBF sử dụng một ngưỡng kiểm soát (thường dựa trên tải trọng, như số lượng phần tử đã thêm) để quyết định khi nào cần tạo một Bloom Filter mới.</li>
</ul>
</li>
</ol>
<h3 id="ưu-điểm-của-scalable-bloom-filter">Ưu điểm của Scalable Bloom Filter<a class="anchor ms-1" href="#ưu-điểm-của-scalable-bloom-filter"><i class="fas fa-link"></i></a></h3>
<ol>
<li>
<p><strong>Khả năng mở rộng (Scalability)</strong>:</p>
<ul>
<li>SBF không giới hạn số lượng phần tử có thể thêm vào.</li>
<li>Tăng kích thước động mà không cần định cấu hình trước.</li>
</ul>
</li>
<li>
<p><strong>Giảm false positive hiệu quả</strong>:</p>
<ul>
<li>Mỗi Bloom Filter mới có tỷ lệ false positive thấp hơn, làm giảm tỷ lệ tổng thể.</li>
</ul>
</li>
<li>
<p><strong>Tiết kiệm bộ nhớ</strong>:</p>
<ul>
<li>SBF sử dụng kích thước bộ nhớ nhỏ hơn so với việc tạo một Bloom Filter rất lớn ngay từ đầu.</li>
</ul>
</li>
<li>
<p><strong>Phù hợp với dữ liệu thay đổi</strong>:</p>
<ul>
<li>SBF rất hữu ích trong các ứng dụng nơi số lượng phần tử khó dự đoán.</li>
</ul>
</li>
</ol>
<h3 id="hạn-chế-của-scalable-bloom-filter">Hạn chế của Scalable Bloom Filter<a class="anchor ms-1" href="#hạn-chế-của-scalable-bloom-filter"><i class="fas fa-link"></i></a></h3>
<ol>
<li>
<p><strong>Tăng độ phức tạp</strong>:</p>
<ul>
<li>Việc duy trì nhiều Bloom Filter khiến kiểm tra phần tử tốn thời gian hơn, đặc biệt khi chuỗi Bloom Filter dài.</li>
</ul>
</li>
<li>
<p><strong>Overhead bộ nhớ</strong>:</p>
<ul>
<li>Dù SBF tiết kiệm bộ nhớ hơn khi so sánh với Bloom Filter truyền thống không được tối ưu hóa, nó vẫn có overhead vì phải quản lý nhiều Bloom Filter.</li>
</ul>
</li>
<li>
<p><strong>Không hỗ trợ xóa</strong>:</p>
<ul>
<li>Như Bloom Filter truyền thống, SBF không hỗ trợ xóa phần tử.</li>
</ul>
</li>
</ol>
<h3 id="ứng-dụng-của-scalable-bloom-filter">Ứng dụng của Scalable Bloom Filter<a class="anchor ms-1" href="#ứng-dụng-của-scalable-bloom-filter"><i class="fas fa-link"></i></a></h3>
<ol>
<li>
<p><strong>Quản lý cache</strong>:</p>
<ul>
<li>Dùng để theo dõi các phần tử trong cache với số lượng phần tử thay đổi động.</li>
</ul>
</li>
<li>
<p><strong>Hệ thống lưu trữ và cơ sở dữ liệu</strong>:</p>
<ul>
<li>Được sử dụng trong các hệ thống lưu trữ phân tán như Bigtable, HBase, hoặc Cassandra.</li>
</ul>
</li>
<li>
<p><strong>Hệ thống phân tán</strong>:</p>
<ul>
<li>SBF giúp theo dõi trạng thái của các phần tử (như dữ liệu, gói tin) trong hệ thống mà kích thước tập hợp thay đổi liên tục.</li>
</ul>
</li>
<li>
<p><strong>Dữ liệu lớn (Big Data)</strong>:</p>
<ul>
<li>SBF phù hợp với các ứng dụng xử lý dữ liệu lớn, nơi số lượng phần tử không thể dự đoán chính xác.</li>
</ul>
</li>
</ol>
<h3 id="triển-khai-scalable-bloom-filter">Triển khai Scalable Bloom Filter<a class="anchor ms-1" href="#triển-khai-scalable-bloom-filter"><i class="fas fa-link"></i></a></h3>
<p>Một cách phổ biến để triển khai SBF:</p>
<ul>
<li>Bắt đầu với một Bloom Filter ban đầu có kích thước cố định.</li>
<li>Đặt ngưỡng tải trọng (load factor), ví dụ: khi số phần tử đạt 80% dung lượng tối đa.</li>
<li>Mỗi khi thêm một Bloom Filter mới, tăng kích thước mảng bit và giảm tỷ lệ false positive bằng cách thay đổi số lượng hàm băm.</li>
</ul>
<h3 id="mã-giả-scalable-bloom-filter">Mã giả Scalable Bloom Filter<a class="anchor ms-1" href="#mã-giả-scalable-bloom-filter"><i class="fas fa-link"></i></a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="ln"> 1</span><span class="cl">
</span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="kn">import</span> <span class="nn">math</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="kn">import</span> <span class="nn">hashlib</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">
</span></span><span class="line"><span class="ln"> 5</span><span class="cl"><span class="k">class</span> <span class="nc">BloomFilter</span><span class="p">:</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">num_hashes</span><span class="p">):</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">size</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">num_hashes</span> <span class="o">=</span> <span class="n">num_hashes</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">bit_array</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">size</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl">
</span></span><span class="line"><span class="ln">12</span><span class="cl">    <span class="k">def</span> <span class="nf">_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">seed</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">13</span><span class="cl">        <span class="n">hash_value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">hashlib</span><span class="o">.</span><span class="n">md5</span><span class="p">((</span><span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">seed</span><span class="p">))</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">(),</span> <span class="mi">16</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">14</span><span class="cl">        <span class="k">return</span> <span class="n">hash_value</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>
</span></span><span class="line"><span class="ln">15</span><span class="cl">
</span></span><span class="line"><span class="ln">16</span><span class="cl">    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">17</span><span class="cl">        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_hashes</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">18</span><span class="cl">            <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hash</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">19</span><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">bit_array</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="ln">20</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="ln">21</span><span class="cl">
</span></span><span class="line"><span class="ln">22</span><span class="cl">    <span class="k">def</span> <span class="nf">contains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">23</span><span class="cl">        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_hashes</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">24</span><span class="cl">            <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hash</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">25</span><span class="cl">            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">bit_array</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">26</span><span class="cl">                <span class="k">return</span> <span class="kc">False</span>
</span></span><span class="line"><span class="ln">27</span><span class="cl">        <span class="k">return</span> <span class="kc">True</span>
</span></span><span class="line"><span class="ln">28</span><span class="cl">
</span></span><span class="line"><span class="ln">29</span><span class="cl">
</span></span><span class="line"><span class="ln">30</span><span class="cl"><span class="k">class</span> <span class="nc">ScalableBloomFilter</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">31</span><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">initial_size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">fp_rate</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">growth_factor</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">32</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">filters</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="ln">33</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">fp_rate</span> <span class="o">=</span> <span class="n">fp_rate</span>
</span></span><span class="line"><span class="ln">34</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">growth_factor</span> <span class="o">=</span> <span class="n">growth_factor</span>
</span></span><span class="line"><span class="ln">35</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">current_size</span> <span class="o">=</span> <span class="n">initial_size</span>
</span></span><span class="line"><span class="ln">36</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">_add_new_filter</span><span class="p">()</span>
</span></span><span class="line"><span class="ln">37</span><span class="cl">
</span></span><span class="line"><span class="ln">38</span><span class="cl">    <span class="k">def</span> <span class="nf">_optimal_num_hashes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">items</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">39</span><span class="cl">        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">((</span><span class="n">size</span> <span class="o">/</span> <span class="n">items</span><span class="p">)</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mi">2</span><span class="p">)))</span>
</span></span><span class="line"><span class="ln">40</span><span class="cl">
</span></span><span class="line"><span class="ln">41</span><span class="cl">    <span class="k">def</span> <span class="nf">_add_new_filter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">42</span><span class="cl">        <span class="n">num_hashes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_optimal_num_hashes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_size</span><span class="p">,</span> <span class="o">-</span><span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fp_rate</span><span class="p">))</span>
</span></span><span class="line"><span class="ln">43</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">filters</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">BloomFilter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_size</span><span class="p">,</span> <span class="n">num_hashes</span><span class="p">))</span>
</span></span><span class="line"><span class="ln">44</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">current_size</span> <span class="o">*=</span> <span class="bp">self</span><span class="o">.</span><span class="n">growth_factor</span>
</span></span><span class="line"><span class="ln">45</span><span class="cl">
</span></span><span class="line"><span class="ln">46</span><span class="cl">    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">47</span><span class="cl">        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">filters</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">count</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filters</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">size</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">48</span><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">_add_new_filter</span><span class="p">()</span>
</span></span><span class="line"><span class="ln">49</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">filters</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">50</span><span class="cl">
</span></span><span class="line"><span class="ln">51</span><span class="cl">    <span class="k">def</span> <span class="nf">contains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">52</span><span class="cl">        <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="nb">filter</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span> <span class="nb">filter</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filters</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">53</span><span class="cl">
</span></span><span class="line"><span class="ln">54</span><span class="cl">
</span></span><span class="line"><span class="ln">55</span><span class="cl"><span class="c1"># Example Usage:</span>
</span></span><span class="line"><span class="ln">56</span><span class="cl"><span class="n">sbf</span> <span class="o">=</span> <span class="n">ScalableBloomFilter</span><span class="p">(</span><span class="n">initial_size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">fp_rate</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">57</span><span class="cl"><span class="n">sbf</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&#34;hello&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">58</span><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">sbf</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&#34;hello&#34;</span><span class="p">))</span>  <span class="c1"># True</span>
</span></span><span class="line"><span class="ln">59</span><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">sbf</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&#34;world&#34;</span><span class="p">))</span>  <span class="c1"># False</span>
</span></span></code></pre></div><h2 id="striped-bloom-filter">Striped Bloom Filter<a class="anchor ms-1" href="#striped-bloom-filter"><i class="fas fa-link"></i></a></h2>
<p><strong>Striped Bloom Filter</strong> là một biến thể của Bloom Filter được thiết kế để hỗ trợ <strong>truy cập đồng thời</strong> (concurrent access) hiệu quả trong môi trường đa luồng (multi-threaded). Mục tiêu chính của Striped Bloom Filter là giảm thiểu việc <strong>khóa toàn bộ cấu trúc dữ liệu</strong> khi các luồng thực hiện thêm hoặc kiểm tra phần tử, qua đó cải thiện hiệu năng.</p>
<h3 id="đặc-điểm-của-striped-bloom-filter">Đặc điểm của Striped Bloom Filter<a class="anchor ms-1" href="#đặc-điểm-của-striped-bloom-filter"><i class="fas fa-link"></i></a></h3>
<ol>
<li>
<p><strong>Phân chia thành các phân đoạn độc lập (Stripes):</strong></p>
<ul>
<li>Mảng bit của Bloom Filter được chia thành nhiều <strong>phân đoạn (segments)</strong> độc lập.</li>
<li>Mỗi phân đoạn được bảo vệ bởi một <strong>khóa riêng biệt (lock)</strong>.</li>
<li>Các thao tác trên từng phân đoạn có thể thực hiện đồng thời mà không ảnh hưởng lẫn nhau.</li>
</ul>
</li>
<li>
<p><strong>Tăng hiệu suất truy cập đồng thời:</strong></p>
<ul>
<li>Bằng cách phân chia mảng và sử dụng nhiều khóa, các luồng chỉ cần khóa một phân đoạn thay vì toàn bộ mảng.</li>
<li>Điều này giảm thiểu độ trễ trong các hệ thống đa luồng.</li>
</ul>
</li>
<li>
<p><strong>Hoạt động giống Bloom Filter truyền thống:</strong></p>
<ul>
<li>Striped Bloom Filter vẫn đảm bảo các thuộc tính cơ bản của Bloom Filter như tỷ lệ <strong>false positive</strong> và sử dụng các hàm băm để xác định các chỉ mục.</li>
</ul>
</li>
</ol>
<h3 id="cách-hoạt-động-của-striped-bloom-filter">Cách hoạt động của Striped Bloom Filter<a class="anchor ms-1" href="#cách-hoạt-động-của-striped-bloom-filter"><i class="fas fa-link"></i></a></h3>
<h4 id="1-chèn-phần-tử-insert">1. Chèn phần tử (<a class="anchor ms-1" href="#1-chèn-phần-tử-insert"><i class="fas fa-link"></i></a></h4>
<ul>
<li>Tính các chỉ mục băm (hash indices) của phần tử.</li>
<li>Xác định các phân đoạn tương ứng dựa trên chỉ mục.</li>
<li>Khóa các phân đoạn liên quan để thêm bit.</li>
</ul>
<h4 id="2-kiểm-tra-phần-tử-check">2. Kiểm tra phần tử (<a class="anchor ms-1" href="#2-kiểm-tra-phần-tử-check"><i class="fas fa-link"></i></a></h4>
<ul>
<li>Tính các chỉ mục băm của phần tử.</li>
<li>Truy cập các phân đoạn tương ứng mà không cần khóa (nếu chỉ kiểm tra).</li>
<li>Nếu tất cả các bit tại các chỉ mục được đặt là 1, phần tử có thể tồn tại.</li>
</ul>
<h4 id="3-phân-đoạn-segment">3. Phân đoạn (Segment):<a class="anchor ms-1" href="#3-phân-đoạn-segment"><i class="fas fa-link"></i></a></h4>
<ul>
<li>Mảng bit được chia thành ( S ) phân đoạn.</li>
<li>Một hàm băm bổ sung được sử dụng để ánh xạ một phần tử đến một hoặc nhiều phân đoạn cụ thể.</li>
</ul>
<h4 id="4-tăng-hiệu-suất-đồng-thời">4. Tăng hiệu suất đồng thời:<a class="anchor ms-1" href="#4-tăng-hiệu-suất-đồng-thời"><i class="fas fa-link"></i></a></h4>
<ul>
<li>Các luồng chỉ cần khóa phân đoạn cần thao tác, thay vì toàn bộ cấu trúc dữ liệu.</li>
</ul>
<h3 id="ưu-điểm-của-striped-bloom-filter">Ưu điểm của Striped Bloom Filter<a class="anchor ms-1" href="#ưu-điểm-của-striped-bloom-filter"><i class="fas fa-link"></i></a></h3>
<ol>
<li><strong>Hỗ trợ đồng thời:</strong>
<ul>
<li>Nhiều luồng có thể thêm hoặc kiểm tra phần tử đồng thời mà không gây xung đột.</li>
</ul>
</li>
<li><strong>Giảm độ trễ:</strong>
<ul>
<li>Phân đoạn độc lập giúp giảm thời gian chờ của các luồng khi khóa.</li>
</ul>
</li>
<li><strong>Hiệu quả bộ nhớ:</strong>
<ul>
<li>Dù chia thành nhiều phân đoạn, tổng bộ nhớ sử dụng vẫn tương tự Bloom Filter truyền thống.</li>
</ul>
</li>
</ol>
<h3 id="hạn-chế-của-striped-bloom-filter">Hạn chế của Striped Bloom Filter<a class="anchor ms-1" href="#hạn-chế-của-striped-bloom-filter"><i class="fas fa-link"></i></a></h3>
<ol>
<li><strong>Độ phức tạp quản lý khóa:</strong>
<ul>
<li>Cần quản lý nhiều khóa hơn, làm tăng độ phức tạp trong triển khai.</li>
</ul>
</li>
<li><strong>False positive vẫn tồn tại:</strong>
<ul>
<li>Như Bloom Filter truyền thống, Striped Bloom Filter vẫn không loại bỏ được false positive.</li>
</ul>
</li>
<li><strong>Không phù hợp với ứng dụng đơn luồng:</strong>
<ul>
<li>Trong môi trường đơn luồng, cơ chế phân đoạn và khóa trở nên dư thừa.</li>
</ul>
</li>
</ol>
<h3 id="triển-khai-bằng-python-1">Triển khai bằng Python<a class="anchor ms-1" href="#triển-khai-bằng-python-1"><i class="fas fa-link"></i></a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="kn">import</span> <span class="nn">threading</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="kn">import</span> <span class="nn">hashlib</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">
</span></span><span class="line"><span class="ln"> 4</span><span class="cl"><span class="k">class</span> <span class="nc">StripedBloomFilter</span><span class="p">:</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_bits</span><span class="p">,</span> <span class="n">num_hashes</span><span class="p">,</span> <span class="n">num_stripes</span><span class="p">):</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">num_bits</span> <span class="o">=</span> <span class="n">num_bits</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">num_hashes</span> <span class="o">=</span> <span class="n">num_hashes</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">num_stripes</span> <span class="o">=</span> <span class="n">num_stripes</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">segment_size</span> <span class="o">=</span> <span class="n">num_bits</span> <span class="o">//</span> <span class="n">num_stripes</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">bit_array</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">num_bits</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">locks</span> <span class="o">=</span> <span class="p">[</span><span class="n">threading</span><span class="o">.</span><span class="n">Lock</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_stripes</span><span class="p">)]</span>
</span></span><span class="line"><span class="ln">12</span><span class="cl">
</span></span><span class="line"><span class="ln">13</span><span class="cl">    <span class="k">def</span> <span class="nf">_hashes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">14</span><span class="cl">        <span class="n">hashes</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="ln">15</span><span class="cl">        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_hashes</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">16</span><span class="cl">            <span class="n">hash_value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">hashlib</span><span class="o">.</span><span class="n">md5</span><span class="p">((</span><span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">(),</span> <span class="mi">16</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">17</span><span class="cl">            <span class="n">hashes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hash_value</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_bits</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">18</span><span class="cl">        <span class="k">return</span> <span class="n">hashes</span>
</span></span><span class="line"><span class="ln">19</span><span class="cl">
</span></span><span class="line"><span class="ln">20</span><span class="cl">    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">21</span><span class="cl">        <span class="n">indices</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hashes</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">22</span><span class="cl">        <span class="n">locked_segments</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span></span><span class="line"><span class="ln">23</span><span class="cl">
</span></span><span class="line"><span class="ln">24</span><span class="cl">        <span class="c1"># Lock relevant segments</span>
</span></span><span class="line"><span class="ln">25</span><span class="cl">        <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">26</span><span class="cl">            <span class="n">segment</span> <span class="o">=</span> <span class="n">idx</span> <span class="o">//</span> <span class="bp">self</span><span class="o">.</span><span class="n">segment_size</span>
</span></span><span class="line"><span class="ln">27</span><span class="cl">            <span class="k">if</span> <span class="n">segment</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">locked_segments</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">28</span><span class="cl">                <span class="bp">self</span><span class="o">.</span><span class="n">locks</span><span class="p">[</span><span class="n">segment</span><span class="p">]</span><span class="o">.</span><span class="n">acquire</span><span class="p">()</span>
</span></span><span class="line"><span class="ln">29</span><span class="cl">                <span class="n">locked_segments</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">segment</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">30</span><span class="cl">
</span></span><span class="line"><span class="ln">31</span><span class="cl">        <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">32</span><span class="cl">            <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">33</span><span class="cl">                <span class="bp">self</span><span class="o">.</span><span class="n">bit_array</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="ln">34</span><span class="cl">        <span class="k">finally</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">35</span><span class="cl">            <span class="c1"># Unlock segments</span>
</span></span><span class="line"><span class="ln">36</span><span class="cl">            <span class="k">for</span> <span class="n">segment</span> <span class="ow">in</span> <span class="n">locked_segments</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">37</span><span class="cl">                <span class="bp">self</span><span class="o">.</span><span class="n">locks</span><span class="p">[</span><span class="n">segment</span><span class="p">]</span><span class="o">.</span><span class="n">release</span><span class="p">()</span>
</span></span><span class="line"><span class="ln">38</span><span class="cl">
</span></span><span class="line"><span class="ln">39</span><span class="cl">    <span class="k">def</span> <span class="nf">contains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">40</span><span class="cl">        <span class="n">indices</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hashes</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">41</span><span class="cl">        <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">42</span><span class="cl">            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">bit_array</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">43</span><span class="cl">                <span class="k">return</span> <span class="kc">False</span>
</span></span><span class="line"><span class="ln">44</span><span class="cl">        <span class="k">return</span> <span class="kc">True</span>
</span></span><span class="line"><span class="ln">45</span><span class="cl">
</span></span><span class="line"><span class="ln">46</span><span class="cl">
</span></span><span class="line"><span class="ln">47</span><span class="cl"><span class="c1"># Example Usage</span>
</span></span><span class="line"><span class="ln">48</span><span class="cl"><span class="n">sbf</span> <span class="o">=</span> <span class="n">StripedBloomFilter</span><span class="p">(</span><span class="n">num_bits</span><span class="o">=</span><span class="mi">1024</span><span class="p">,</span> <span class="n">num_hashes</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">num_stripes</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">49</span><span class="cl">
</span></span><span class="line"><span class="ln">50</span><span class="cl"><span class="c1"># Adding elements</span>
</span></span><span class="line"><span class="ln">51</span><span class="cl"><span class="n">sbf</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&#34;hello&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">52</span><span class="cl"><span class="n">sbf</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&#34;world&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">53</span><span class="cl">
</span></span><span class="line"><span class="ln">54</span><span class="cl"><span class="c1"># Checking elements</span>
</span></span><span class="line"><span class="ln">55</span><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">sbf</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&#34;hello&#34;</span><span class="p">))</span>  <span class="c1"># True</span>
</span></span><span class="line"><span class="ln">56</span><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">sbf</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&#34;world&#34;</span><span class="p">))</span>  <span class="c1"># True</span>
</span></span><span class="line"><span class="ln">57</span><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">sbf</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&#34;python&#34;</span><span class="p">))</span>  <span class="c1"># False</span>
</span></span></code></pre></div><h2 id="quotient-filter-bộ-lọc-thương-số">Quotient Filter (Bộ lọc thương số)<a class="anchor ms-1" href="#quotient-filter-bộ-lọc-thương-số"><i class="fas fa-link"></i></a></h2>
<p><strong>Quotient Filter (QF)</strong> là một cấu trúc dữ liệu xác suất tương tự Bloom Filter, được thiết kế để kiểm tra thành viên (membership) trong tập hợp với hiệu quả về mặt bộ nhớ. QF hoạt động dựa trên kỹ thuật băm (hashing) và chia thương số, cung cấp một giải pháp nhỏ gọn cho các bài toán kiểm tra thành viên.</p>
<h3 id="nguyên-lý-hoạt-động">Nguyên lý hoạt động<a class="anchor ms-1" href="#nguyên-lý-hoạt-động"><i class="fas fa-link"></i></a></h3>
<ol>
<li>
<p><strong>Băm và chia thương số:</strong></p>
<ul>
<li>Tương tự Bloom Filter, QF sử dụng hàm băm để tạo ra một giá trị băm cho phần tử.</li>
<li>Giá trị băm được chia thành hai phần:
<ul>
<li><strong>Thương số (Quotient):</strong> Xác định chỉ số của bucket (ô nhớ) trong một mảng cố định.</li>
<li><strong>Phần dư (Remainder):</strong> Lưu lại như một chữ ký duy nhất trong mảng để kiểm tra.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Buckets và mảng:</strong></p>
<ul>
<li>Thương số được dùng để xác định vị trí lưu phần dư trong mảng.</li>
<li>Trường hợp xung đột (collisions) được xử lý bằng cách kiểm tra tuần tự các ô liền kề (linear probing).</li>
</ul>
</li>
<li>
<p><strong>Lưu trữ nhỏ gọn:</strong></p>
<ul>
<li>Chỉ phần dư được lưu trong mảng, giúp tiết kiệm bộ nhớ đáng kể so với bảng băm (hash table) truyền thống.</li>
<li>Metadata (dữ liệu phụ) được sử dụng để theo dõi trạng thái của các bucket (đầy hay rỗng, phần tử bị dời chỗ).</li>
</ul>
</li>
<li>
<p><strong>Hỗ trợ thêm/xóa/kiểm tra:</strong></p>
<ul>
<li>QF hỗ trợ ba thao tác cơ bản: <strong>thêm phần tử</strong>, <strong>xóa phần tử</strong>, và <strong>kiểm tra thành viên</strong>, với hiệu suất cao và tiêu tốn ít bộ nhớ.</li>
</ul>
</li>
</ol>
<h3 id="ưu-điểm-của-quotient-filter">Ưu điểm của Quotient Filter<a class="anchor ms-1" href="#ưu-điểm-của-quotient-filter"><i class="fas fa-link"></i></a></h3>
<ol>
<li>
<p><strong>Tiết kiệm bộ nhớ:</strong></p>
<ul>
<li>QF nhỏ gọn hơn bảng băm và tương đương Bloom Filter về mức độ sử dụng bộ nhớ.</li>
</ul>
</li>
<li>
<p><strong>Hỗ trợ xóa phần tử:</strong></p>
<ul>
<li>Không như Bloom Filter cơ bản, QF hỗ trợ việc xóa phần tử mà không cần biến thể bổ sung như Counting Bloom Filter.</li>
</ul>
</li>
<li>
<p><strong>Chỉ cần một hàm băm:</strong></p>
<ul>
<li>QF chỉ cần một hàm băm duy nhất, giúp giảm chi phí tính toán so với Bloom Filter (yêu cầu nhiều hàm băm).</li>
</ul>
</li>
<li>
<p><strong>Hiệu suất cao:</strong></p>
<ul>
<li>Thao tác thêm, xóa và kiểm tra nhanh chóng với độ phức tạp thấp.</li>
</ul>
</li>
<li>
<p><strong>Khả năng mở rộng động:</strong></p>
<ul>
<li>QF có thể mở rộng dung lượng hoặc tái cấu trúc mảng khi cần thiết mà không ảnh hưởng lớn đến hiệu suất.</li>
</ul>
</li>
</ol>
<h3 id="hạn-chế-của-quotient-filter">Hạn chế của Quotient Filter<a class="anchor ms-1" href="#hạn-chế-của-quotient-filter"><i class="fas fa-link"></i></a></h3>
<ol>
<li>
<p><strong>False Positive (Kết quả dương tính giả):</strong></p>
<ul>
<li>Tương tự Bloom Filter, QF có thể báo rằng một phần tử thuộc tập hợp dù thực tế không phải vậy.</li>
<li>Tuy nhiên, không có <strong>false negative</strong> (kết quả âm tính giả).</li>
</ul>
</li>
<li>
<p><strong>Phức tạp hơn Bloom Filter:</strong></p>
<ul>
<li>Việc quản lý metadata (trạng thái bucket, phần tử bị dời) khiến QF phức tạp hơn trong triển khai.</li>
</ul>
</li>
<li>
<p><strong>Cố định dung lượng:</strong></p>
<ul>
<li>Dung lượng của QF cần được thiết kế trước. Khi vượt quá giới hạn, việc mở rộng dung lượng sẽ yêu cầu tái cấu trúc mảng, gây tốn kém tài nguyên.</li>
</ul>
</li>
<li>
<p><strong>Hiệu suất giảm với các tập dữ liệu phân tán:</strong></p>
<ul>
<li>QF không phù hợp với các ứng dụng yêu cầu truy cập ngẫu nhiên, do cần kiểm tra tuần tự trong trường hợp xung đột.</li>
</ul>
</li>
</ol>
<h3 id="ứng-dụng-của-quotient-filter">Ứng dụng của Quotient Filter<a class="anchor ms-1" href="#ứng-dụng-của-quotient-filter"><i class="fas fa-link"></i></a></h3>
<ul>
<li><strong>Cơ sở dữ liệu:</strong> Lọc dữ liệu, kiểm tra thành viên trong chỉ mục hoặc giảm truy cập đĩa không cần thiết.</li>
<li><strong>Hệ thống mạng:</strong> Lọc gói tin hoặc kiểm tra thành viên của địa chỉ IP trong bảng định tuyến.</li>
<li><strong>Hệ thống phân tán:</strong> Đồng bộ dữ liệu giữa các nút hoặc kiểm tra tính nhất quán.</li>
<li><strong>Lưu trữ:</strong> Loại bỏ trùng lặp dữ liệu (deduplication) trong các hệ thống lưu trữ.</li>
</ul>
<h3 id="so-sánh-với-bloom-filter">So sánh với Bloom Filter<a class="anchor ms-1" href="#so-sánh-với-bloom-filter"><i class="fas fa-link"></i></a></h3>
<table>
  <thead>
      <tr>
          <th>Tính năng</th>
          <th>Bloom Filter</th>
          <th>Quotient Filter</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>False Positive</strong></td>
          <td>Có thể xảy ra</td>
          <td>Có thể xảy ra</td>
      </tr>
      <tr>
          <td><strong>False Negative</strong></td>
          <td>Không</td>
          <td>Không</td>
      </tr>
      <tr>
          <td><strong>Hỗ trợ xóa</strong></td>
          <td>Không (cần Counting BF)</td>
          <td>Có</td>
      </tr>
      <tr>
          <td><strong>Bộ nhớ</strong></td>
          <td>Hiệu quả cao</td>
          <td>Hiệu quả (kèm metadata)</td>
      </tr>
      <tr>
          <td><strong>Hàm băm</strong></td>
          <td>Nhiều</td>
          <td>Một</td>
      </tr>
      <tr>
          <td><strong>Mở rộng động</strong></td>
          <td>Cần Scalable Bloom Filter</td>
          <td>Hỗ trợ giới hạn</td>
      </tr>
  </tbody>
</table>
<h3 id="ví-dụ-mã-giả-bằng-python">Ví dụ mã giả bằng Python<a class="anchor ms-1" href="#ví-dụ-mã-giả-bằng-python"><i class="fas fa-link"></i></a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="k">class</span> <span class="nc">QuotientFilter</span><span class="p">:</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">):</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">size</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">table</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">size</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="p">[</span><span class="kc">False</span><span class="p">]</span> <span class="o">*</span> <span class="n">size</span>  <span class="c1"># Trạng thái bucket</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">    <span class="k">def</span> <span class="nf">_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">        <span class="n">h</span> <span class="o">=</span> <span class="nb">hash</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">        <span class="n">quotient</span> <span class="o">=</span> <span class="n">h</span> <span class="o">//</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl">        <span class="n">remainder</span> <span class="o">=</span> <span class="n">h</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl">        <span class="k">return</span> <span class="n">quotient</span><span class="p">,</span> <span class="n">remainder</span>
</span></span><span class="line"><span class="ln">12</span><span class="cl">
</span></span><span class="line"><span class="ln">13</span><span class="cl">    <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">14</span><span class="cl">        <span class="n">quotient</span><span class="p">,</span> <span class="n">remainder</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hash</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">15</span><span class="cl">        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="n">quotient</span><span class="p">]:</span>  <span class="c1"># Xử lý xung đột</span>
</span></span><span class="line"><span class="ln">16</span><span class="cl">            <span class="n">quotient</span> <span class="o">=</span> <span class="p">(</span><span class="n">quotient</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>
</span></span><span class="line"><span class="ln">17</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="p">[</span><span class="n">quotient</span><span class="p">]</span> <span class="o">=</span> <span class="n">remainder</span>
</span></span><span class="line"><span class="ln">18</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="n">quotient</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="ln">19</span><span class="cl">
</span></span><span class="line"><span class="ln">20</span><span class="cl">    <span class="k">def</span> <span class="nf">query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">21</span><span class="cl">        <span class="n">quotient</span><span class="p">,</span> <span class="n">remainder</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hash</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">22</span><span class="cl">        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="n">quotient</span><span class="p">]:</span>
</span></span><span class="line"><span class="ln">23</span><span class="cl">            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="p">[</span><span class="n">quotient</span><span class="p">]</span> <span class="o">==</span> <span class="n">remainder</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">24</span><span class="cl">                <span class="k">return</span> <span class="kc">True</span>
</span></span><span class="line"><span class="ln">25</span><span class="cl">            <span class="n">quotient</span> <span class="o">=</span> <span class="p">(</span><span class="n">quotient</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>
</span></span><span class="line"><span class="ln">26</span><span class="cl">        <span class="k">return</span> <span class="kc">False</span>
</span></span><span class="line"><span class="ln">27</span><span class="cl">
</span></span><span class="line"><span class="ln">28</span><span class="cl">    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">29</span><span class="cl">        <span class="n">quotient</span><span class="p">,</span> <span class="n">remainder</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hash</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">30</span><span class="cl">        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="n">quotient</span><span class="p">]:</span>
</span></span><span class="line"><span class="ln">31</span><span class="cl">            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="p">[</span><span class="n">quotient</span><span class="p">]</span> <span class="o">==</span> <span class="n">remainder</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">32</span><span class="cl">                <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="p">[</span><span class="n">quotient</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span></span><span class="line"><span class="ln">33</span><span class="cl">                <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="n">quotient</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="ln">34</span><span class="cl">                <span class="k">return</span> <span class="kc">True</span>
</span></span><span class="line"><span class="ln">35</span><span class="cl">            <span class="n">quotient</span> <span class="o">=</span> <span class="p">(</span><span class="n">quotient</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>
</span></span><span class="line"><span class="ln">36</span><span class="cl">        <span class="k">return</span> <span class="kc">False</span>
</span></span></code></pre></div><h3 id="kết-luận">Kết luận<a class="anchor ms-1" href="#kết-luận"><i class="fas fa-link"></i></a></h3>
<p>Quotient Filter là một giải pháp mạnh mẽ, kết hợp hiệu quả của Bloom Filter và bảng băm, phù hợp cho các ứng dụng cần kiểm tra thành viên, hỗ trợ xóa, và tiết kiệm bộ nhớ. Tuy nhiên, cần xem xét các hạn chế về thiết kế và ứng dụng để sử dụng tối ưu trong các bài toán cụ thể.</p>
<h2 id="cuckoo-filter">Cuckoo Filter<a class="anchor ms-1" href="#cuckoo-filter"><i class="fas fa-link"></i></a></h2>
<p><strong>Cuckoo Filter</strong> là một cấu trúc dữ liệu xác suất được thiết kế để kiểm tra thành viên trong tập hợp (membership test) giống như <strong>Bloom Filter</strong>, nhưng với nhiều cải tiến. Nó sử dụng ý tưởng từ <strong>Cuckoo Hashing</strong> và cung cấp một số tính năng nổi bật như hỗ trợ xóa phần tử và hiệu quả về bộ nhớ.</p>
<h3 id="nguyên-lý-hoạt-động-1">Nguyên lý hoạt động<a class="anchor ms-1" href="#nguyên-lý-hoạt-động-1"><i class="fas fa-link"></i></a></h3>
<p>Cuckoo Filter hoạt động dựa trên hai khái niệm chính:</p>
<ol>
<li>
<p><strong>Fingerprinting (Chữ ký):</strong></p>
<ul>
<li>Mỗi phần tử được băm để tạo ra một giá trị fingerprint ngắn, đại diện cho phần tử đó.</li>
<li>Chỉ lưu trữ giá trị fingerprint trong mảng, giúp tiết kiệm bộ nhớ.</li>
</ul>
</li>
<li>
<p><strong>Cuckoo Hashing:</strong></p>
<ul>
<li>Mỗi phần tử có thể được lưu ở một trong hai vị trí tiềm năng trong mảng (table).</li>
<li>Khi thêm phần tử mới mà vị trí đã bị chiếm, một phần tử khác có thể bị &ldquo;đẩy&rdquo; đến vị trí thứ hai của nó, theo cách tương tự thuật toán <strong>Cuckoo Hashing</strong>.</li>
</ul>
</li>
</ol>
<h3 id="thao-tác-chính-trong-cuckoo-filter">Thao tác chính trong Cuckoo Filter<a class="anchor ms-1" href="#thao-tác-chính-trong-cuckoo-filter"><i class="fas fa-link"></i></a></h3>
<ol>
<li>
<p><strong>Thêm phần tử (Insert):</strong></p>
<ul>
<li>Tính hai vị trí băm (bucket) cho phần tử dựa trên giá trị fingerprint.</li>
<li>Nếu một trong hai vị trí còn trống, lưu fingerprint tại đó.</li>
<li>Nếu cả hai vị trí đều đầy, chọn ngẫu nhiên một fingerprint trong bucket và &ldquo;đẩy&rdquo; nó đến vị trí thứ hai của nó. Tiếp tục lặp lại cho đến khi chèn thành công hoặc vượt quá số lần thử (rehash nếu cần).</li>
</ul>
</li>
<li>
<p><strong>Kiểm tra phần tử (Query):</strong></p>
<ul>
<li>Tính hai vị trí băm dựa trên giá trị fingerprint.</li>
<li>Kiểm tra xem giá trị fingerprint có tồn tại tại một trong hai bucket không.</li>
</ul>
</li>
<li>
<p><strong>Xóa phần tử (Delete):</strong></p>
<ul>
<li>Tính hai vị trí băm dựa trên giá trị fingerprint.</li>
<li>Nếu giá trị fingerprint tồn tại tại một trong hai vị trí, xóa nó.</li>
</ul>
</li>
</ol>
<h3 id="ưu-điểm-của-cuckoo-filter">Ưu điểm của Cuckoo Filter<a class="anchor ms-1" href="#ưu-điểm-của-cuckoo-filter"><i class="fas fa-link"></i></a></h3>
<ol>
<li>
<p><strong>Hỗ trợ xóa phần tử:</strong></p>
<ul>
<li>Không giống Bloom Filter cơ bản, Cuckoo Filter hỗ trợ xóa phần tử dễ dàng mà không cần các biến thể phức tạp.</li>
</ul>
</li>
<li>
<p><strong>Tỷ lệ false positive thấp:</strong></p>
<ul>
<li>Cuckoo Filter cung cấp tỷ lệ dương tính giả (false positive) thấp, đặc biệt khi tối ưu kích thước bucket và fingerprint.</li>
</ul>
</li>
<li>
<p><strong>Tiết kiệm bộ nhớ:</strong></p>
<ul>
<li>Nhờ chỉ lưu trữ giá trị fingerprint ngắn, Cuckoo Filter thường tiết kiệm bộ nhớ hơn Bloom Filter trong nhiều trường hợp.</li>
</ul>
</li>
<li>
<p><strong>Hiệu suất cao:</strong></p>
<ul>
<li>Thao tác thêm, xóa và kiểm tra nhanh chóng, thường có độ phức tạp ( O(1) ) trung bình.</li>
</ul>
</li>
<li>
<p><strong>Hỗ trợ kiểm tra âm tính chính xác:</strong></p>
<ul>
<li>Không bao giờ xảy ra <strong>false negative</strong> (kết quả âm tính sai).</li>
</ul>
</li>
<li>
<p><strong>Khả năng mở rộng:</strong></p>
<ul>
<li>Cuckoo Filter có thể mở rộng thông qua cơ chế rehash hoặc tăng kích thước mảng khi cần thiết.</li>
</ul>
</li>
</ol>
<h3 id="hạn-chế-của-cuckoo-filter">Hạn chế của Cuckoo Filter<a class="anchor ms-1" href="#hạn-chế-của-cuckoo-filter"><i class="fas fa-link"></i></a></h3>
<ol>
<li>
<p><strong>Khó khăn với chèn phần tử dày đặc:</strong></p>
<ul>
<li>Khi mảng quá đầy, việc thêm phần tử mới có thể dẫn đến hiện tượng &ldquo;cuckoo evictions&rdquo; (đẩy vòng lặp không thành công), buộc phải tái cấu trúc (rehash) toàn bộ mảng.</li>
</ul>
</li>
<li>
<p><strong>Cấu trúc phức tạp hơn Bloom Filter:</strong></p>
<ul>
<li>So với Bloom Filter, Cuckoo Filter yêu cầu quản lý nhiều bucket, cơ chế đẩy phần tử, và xử lý xung đột phức tạp hơn.</li>
</ul>
</li>
<li>
<p><strong>Không tối ưu với số lượng phần tử lớn:</strong></p>
<ul>
<li>Với tập dữ liệu quá lớn, Bloom Filter có thể hiệu quả hơn về mặt bộ nhớ so với Cuckoo Filter.</li>
</ul>
</li>
</ol>
<h3 id="ứng-dụng-của-cuckoo-filter">Ứng dụng của Cuckoo Filter<a class="anchor ms-1" href="#ứng-dụng-của-cuckoo-filter"><i class="fas fa-link"></i></a></h3>
<ul>
<li><strong>Hệ thống cơ sở dữ liệu:</strong> Kiểm tra dữ liệu tồn tại trong các chỉ mục hoặc giảm truy cập đĩa.</li>
<li><strong>Hệ thống mạng:</strong> Lọc gói tin hoặc kiểm tra địa chỉ IP trong bảng định tuyến.</li>
<li><strong>Hệ thống phân tán:</strong> Đồng bộ dữ liệu, kiểm tra tính nhất quán.</li>
<li><strong>Bộ nhớ đệm (Cache):</strong> Lọc nhanh các truy vấn trong bộ nhớ đệm.</li>
</ul>
<h3 id="so-sánh-với-bloom-filter-1">So sánh với Bloom Filter<a class="anchor ms-1" href="#so-sánh-với-bloom-filter-1"><i class="fas fa-link"></i></a></h3>
<table>
  <thead>
      <tr>
          <th><strong>Tính năng</strong></th>
          <th><strong>Bloom Filter</strong></th>
          <th><strong>Cuckoo Filter</strong></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>False Positive</strong></td>
          <td>Có thể xảy ra</td>
          <td>Có thể xảy ra</td>
      </tr>
      <tr>
          <td><strong>False Negative</strong></td>
          <td>Không</td>
          <td>Không</td>
      </tr>
      <tr>
          <td><strong>Hỗ trợ xóa</strong></td>
          <td>Không (cần Counting BF)</td>
          <td>Có</td>
      </tr>
      <tr>
          <td><strong>Bộ nhớ</strong></td>
          <td>Tiết kiệm cao</td>
          <td>Tiết kiệm tốt (nhưng phức tạp hơn)</td>
      </tr>
      <tr>
          <td><strong>Thao tác thêm</strong></td>
          <td>Đơn giản, không đẩy phần tử</td>
          <td>Phức tạp hơn do đẩy phần tử</td>
      </tr>
      <tr>
          <td><strong>Khả năng mở rộng</strong></td>
          <td>Cần Scalable Bloom Filter</td>
          <td>Có hỗ trợ mở rộng trực tiếp</td>
      </tr>
  </tbody>
</table>
<h3 id="ví-dụ-mã-giả-cuckoo-filter-bằng-python">Ví dụ mã giả Cuckoo Filter bằng Python<a class="anchor ms-1" href="#ví-dụ-mã-giả-cuckoo-filter-bằng-python"><i class="fas fa-link"></i></a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="kn">import</span> <span class="nn">random</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl">
</span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="k">class</span> <span class="nc">CuckooFilter</span><span class="p">:</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">bucket_size</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">fingerprint_size</span><span class="o">=</span><span class="mi">4</span><span class="p">):</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">size</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">bucket_size</span> <span class="o">=</span> <span class="n">bucket_size</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">fingerprint_size</span> <span class="o">=</span> <span class="n">fingerprint_size</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">buckets</span> <span class="o">=</span> <span class="p">[[]</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">)]</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">
</span></span><span class="line"><span class="ln">10</span><span class="cl">    <span class="k">def</span> <span class="nf">_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl">        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>
</span></span><span class="line"><span class="ln">12</span><span class="cl">
</span></span><span class="line"><span class="ln">13</span><span class="cl">    <span class="k">def</span> <span class="nf">_fingerprint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">14</span><span class="cl">        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span><span class="mi">2</span> <span class="o">**</span> <span class="bp">self</span><span class="o">.</span><span class="n">fingerprint_size</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">15</span><span class="cl">
</span></span><span class="line"><span class="ln">16</span><span class="cl">    <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">17</span><span class="cl">        <span class="n">fingerprint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fingerprint</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">18</span><span class="cl">        <span class="n">i1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hash</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">19</span><span class="cl">        <span class="n">i2</span> <span class="o">=</span> <span class="p">(</span><span class="n">i1</span> <span class="o">^</span> <span class="nb">hash</span><span class="p">(</span><span class="n">fingerprint</span><span class="p">))</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>
</span></span><span class="line"><span class="ln">20</span><span class="cl">
</span></span><span class="line"><span class="ln">21</span><span class="cl">        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">buckets</span><span class="p">[</span><span class="n">i1</span><span class="p">])</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">bucket_size</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">22</span><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">buckets</span><span class="p">[</span><span class="n">i1</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fingerprint</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">23</span><span class="cl">            <span class="k">return</span> <span class="kc">True</span>
</span></span><span class="line"><span class="ln">24</span><span class="cl">        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">buckets</span><span class="p">[</span><span class="n">i2</span><span class="p">])</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">bucket_size</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">25</span><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">buckets</span><span class="p">[</span><span class="n">i2</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fingerprint</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">26</span><span class="cl">            <span class="k">return</span> <span class="kc">True</span>
</span></span><span class="line"><span class="ln">27</span><span class="cl">
</span></span><span class="line"><span class="ln">28</span><span class="cl">        <span class="c1"># Eviction</span>
</span></span><span class="line"><span class="ln">29</span><span class="cl">        <span class="n">i</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="n">i1</span><span class="p">,</span> <span class="n">i2</span><span class="p">])</span>
</span></span><span class="line"><span class="ln">30</span><span class="cl">        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">31</span><span class="cl">            <span class="n">evicted_fingerprint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">buckets</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">32</span><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">buckets</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fingerprint</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">33</span><span class="cl">            <span class="n">fingerprint</span> <span class="o">=</span> <span class="n">evicted_fingerprint</span>
</span></span><span class="line"><span class="ln">34</span><span class="cl">            <span class="n">i</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="o">^</span> <span class="nb">hash</span><span class="p">(</span><span class="n">fingerprint</span><span class="p">))</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>
</span></span><span class="line"><span class="ln">35</span><span class="cl">            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">buckets</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">bucket_size</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">36</span><span class="cl">                <span class="bp">self</span><span class="o">.</span><span class="n">buckets</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fingerprint</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">37</span><span class="cl">                <span class="k">return</span> <span class="kc">True</span>
</span></span><span class="line"><span class="ln">38</span><span class="cl">
</span></span><span class="line"><span class="ln">39</span><span class="cl">        <span class="k">return</span> <span class="kc">False</span>  <span class="c1"># Failed to insert after many attempts</span>
</span></span><span class="line"><span class="ln">40</span><span class="cl">
</span></span><span class="line"><span class="ln">41</span><span class="cl">    <span class="k">def</span> <span class="nf">query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">42</span><span class="cl">        <span class="n">fingerprint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fingerprint</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">43</span><span class="cl">        <span class="n">i1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hash</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">44</span><span class="cl">        <span class="n">i2</span> <span class="o">=</span> <span class="p">(</span><span class="n">i1</span> <span class="o">^</span> <span class="nb">hash</span><span class="p">(</span><span class="n">fingerprint</span><span class="p">))</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>
</span></span><span class="line"><span class="ln">45</span><span class="cl">
</span></span><span class="line"><span class="ln">46</span><span class="cl">        <span class="k">return</span> <span class="n">fingerprint</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">buckets</span><span class="p">[</span><span class="n">i1</span><span class="p">]</span> <span class="ow">or</span> <span class="n">fingerprint</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">buckets</span><span class="p">[</span><span class="n">i2</span><span class="p">]</span>
</span></span><span class="line"><span class="ln">47</span><span class="cl">
</span></span><span class="line"><span class="ln">48</span><span class="cl">    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">49</span><span class="cl">        <span class="n">fingerprint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fingerprint</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">50</span><span class="cl">        <span class="n">i1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hash</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">51</span><span class="cl">        <span class="n">i2</span> <span class="o">=</span> <span class="p">(</span><span class="n">i1</span> <span class="o">^</span> <span class="nb">hash</span><span class="p">(</span><span class="n">fingerprint</span><span class="p">))</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>
</span></span><span class="line"><span class="ln">52</span><span class="cl">
</span></span><span class="line"><span class="ln">53</span><span class="cl">        <span class="k">if</span> <span class="n">fingerprint</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">buckets</span><span class="p">[</span><span class="n">i1</span><span class="p">]:</span>
</span></span><span class="line"><span class="ln">54</span><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">buckets</span><span class="p">[</span><span class="n">i1</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">fingerprint</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">55</span><span class="cl">            <span class="k">return</span> <span class="kc">True</span>
</span></span><span class="line"><span class="ln">56</span><span class="cl">        <span class="k">elif</span> <span class="n">fingerprint</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">buckets</span><span class="p">[</span><span class="n">i2</span><span class="p">]:</span>
</span></span><span class="line"><span class="ln">57</span><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">buckets</span><span class="p">[</span><span class="n">i2</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">fingerprint</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">58</span><span class="cl">            <span class="k">return</span> <span class="kc">True</span>
</span></span><span class="line"><span class="ln">59</span><span class="cl">        <span class="k">return</span> <span class="kc">False</span>
</span></span></code></pre></div><h3 id="kết-luận-1">Kết luận<a class="anchor ms-1" href="#kết-luận-1"><i class="fas fa-link"></i></a></h3>
<p>Cuckoo Filter là một cấu trúc dữ liệu mạnh mẽ, hiệu quả và phù hợp cho các ứng dụng cần thêm, xóa, và kiểm tra thành viên nhanh chóng. Mặc dù phức tạp hơn Bloom Filter, nó mang lại nhiều tính năng hữu ích như hỗ trợ xóa và hiệu quả bộ nhớ cao hơn trong một số trường hợp.</p>
<h1 id="ứng-dụng-của-bloom-filter-trong-các-lĩnh-vực">Ứng Dụng của Bloom Filter trong Các Lĩnh Vực<a class="anchor ms-1" href="#ứng-dụng-của-bloom-filter-trong-các-lĩnh-vực"><i class="fas fa-link"></i></a></h1>
<h2 id="1-phát-hiện-gian-lận-tài-chính-financial-fraud-detection">1. Phát Hiện Gian Lận Tài Chính (Financial Fraud Detection)<a class="anchor ms-1" href="#1-phát-hiện-gian-lận-tài-chính-financial-fraud-detection"><i class="fas fa-link"></i></a></h2>
<ul>
<li>
<p><strong>Mục đích:</strong> Xác định hành vi đáng ngờ trong thói quen mua sắm của người dùng.</p>
</li>
<li>
<p><strong>Cách sử dụng:</strong></p>
<ul>
<li>Sử dụng một Bloom Filter riêng cho mỗi người dùng.</li>
<li>Kiểm tra mọi giao dịch để trả lời câu hỏi: <em>Người dùng này đã thanh toán từ địa điểm này trước đây chưa?</em></li>
<li>Bloom Filter cung cấp phản hồi cực kỳ nhanh (độ trễ thấp).</li>
<li>Nhân bản dữ liệu qua các khu vực để xử lý khi người dùng di chuyển.</li>
</ul>
</li>
<li>
<p><strong>Lợi ích khi sử dụng  Bloom Filter:</strong></p>
<ul>
<li>Giao dịch hoàn tất nhanh chóng.</li>
<li>Giảm nguy cơ giao dịch bị gián đoạn trong trường hợp mạng bị phân vùng (kết nối được giữ trong thời gian ngắn hơn).</li>
<li>Tăng cường lớp bảo mật cho cả chủ thẻ tín dụng và nhà bán lẻ.</li>
</ul>
</li>
<li>
<p><strong>Các câu hỏi khác mà Bloom Filter có thể hỗ trợ trong ngành tài chính:</strong></p>
<ul>
<li>Người dùng đã từng mua sản phẩm/dịch vụ trong danh mục này chưa?</li>
<li>Có cần bỏ qua một số bước bảo mật khi mua sắm với các cửa hàng trực tuyến đáng tin cậy (như Amazon, Apple App Store)?</li>
<li>Thẻ tín dụng này có bị báo mất hoặc đánh cắp không?
<ul>
<li><strong>Lợi ích bổ sung:</strong> Các tổ chức tài chính có thể trao đổi danh sách số thẻ bị mất/mất cắp mà không tiết lộ số thực.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="2-đặt-quảng-cáo-ad-placement---retail-advertising">2. Đặt Quảng Cáo (Ad Placement - Retail, Advertising)<a class="anchor ms-1" href="#2-đặt-quảng-cáo-ad-placement---retail-advertising"><i class="fas fa-link"></i></a></h2>
<ul>
<li>
<p><strong>Mục đích:</strong> Hiển thị quảng cáo hoặc đề xuất sản phẩm một cách cá nhân hóa.</p>
</li>
<li>
<p><strong>Cách sử dụng:</strong></p>
<ul>
<li>Sử dụng một Bloom Filter cho mỗi người dùng, lưu trữ danh sách sản phẩm đã mua.</li>
<li>Khi hệ thống đề xuất sản phẩm mới:
<ul>
<li>Nếu sản phẩm chưa có trong Bloom Filter, quảng cáo được hiển thị và sản phẩm được thêm vào Bloom Filter.</li>
<li>Nếu sản phẩm đã có trong Bloom Filter, hệ thống tiếp tục kiểm tra sản phẩm khác cho đến khi tìm được sản phẩm chưa có.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Lợi ích khi sử dụng  Bloom Filter:</strong></p>
<ul>
<li>Giải pháp chi phí thấp để tạo trải nghiệm cá nhân hóa gần như theo thời gian thực.</li>
<li>Không cần đầu tư vào cơ sở hạ tầng đắt đỏ.</li>
</ul>
</li>
</ul>
<h2 id="3-kiểm-tra-tên-người-dùng-saas-content-publishing-platforms">3. Kiểm Tra Tên Người Dùng (SaaS, Content Publishing Platforms)<a class="anchor ms-1" href="#3-kiểm-tra-tên-người-dùng-saas-content-publishing-platforms"><i class="fas fa-link"></i></a></h2>
<ul>
<li>
<p><strong>Mục đích:</strong> Xác định tên người dùng/email/domain name/slug đã được sử dụng chưa.</p>
</li>
<li>
<p><strong>Cách sử dụng:</strong></p>
<ul>
<li>Sử dụng một Bloom Filter lưu tất cả các tên người dùng đã đăng ký.</li>
<li>Khi người dùng nhập tên mong muốn:
<ul>
<li>Nếu không có trong Bloom Filter, tài khoản được tạo và tên được thêm vào Bloom Filter.</li>
<li>Nếu có, ứng dụng quyết định kiểm tra cơ sở dữ liệu chính hoặc từ chối tên đó.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Lợi ích khi sử dụng  Bloom Filter:</strong></p>
<ul>
<li>Phương pháp rất nhanh và hiệu quả để thực hiện thao tác phổ biến.</li>
<li>Không cần đầu tư vào cơ sở hạ tầng phức tạp.</li>
</ul>
</li>
</ul>
<h2 id="4-các-ứng-dụng-khác-của-bloom-filter">4. Các Ứng Dụng Khác Của Bloom Filter<a class="anchor ms-1" href="#4-các-ứng-dụng-khác-của-bloom-filter"><i class="fas fa-link"></i></a></h2>
<ol>
<li>
<p><strong>Kiểm Tra Chính Tả (Spell Checker):</strong></p>
<ul>
<li>Trong thời kỳ đầu, bộ kiểm tra chính tả được triển khai bằng Bloom Filter.</li>
</ul>
</li>
<li>
<p><strong>Cơ Sở Dữ Liệu (Databases):</strong></p>
<ul>
<li>Nhiều cơ sở dữ liệu phổ biến sử dụng Bloom Filter để giảm số lần truy cập đĩa tốn kém cho các hàng/cột không tồn tại.</li>
<li>Các hệ thống như PostgreSQL, Apache Cassandra, Cloud Bigtable sử dụng kỹ thuật này.</li>
</ul>
</li>
<li>
<p><strong>Công Cụ Tìm Kiếm (Search Engines):</strong></p>
<ul>
<li><strong>BitFunnel</strong>, một thuật toán lập chỉ mục cho công cụ tìm kiếm, sử dụng Bloom Filter để lưu trữ chỉ mục tìm kiếm.</li>
</ul>
</li>
<li>
<p><strong>An Ninh (Security):</strong></p>
<ul>
<li>Dùng Bloom Filter để phát hiện mật khẩu yếu, URL độc hại, và các nguy cơ an ninh khác.</li>
</ul>
</li>
</ol>
<h1 id="bài-tập">Bài tập<a class="anchor ms-1" href="#bài-tập"><i class="fas fa-link"></i></a></h1>
<h2 id="financial-fraud-detection">Financial Fraud Detection<a class="anchor ms-1" href="#financial-fraud-detection"><i class="fas fa-link"></i></a></h2>
<p>xây dựng ứng dụng Financial Fraud Detection sử dụng Bloom Filter. Mục tiêu là kiểm tra xem người dùng đã thực hiện giao dịch từ một địa điểm cụ thể hay chưa để phát hiện hành vi gian lận. Nếu người dùng chưa thực hiện giao dịch ở 1 ban nào đó trong lịch sử thì cảnh báo lên</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="ln"> 1</span><span class="cl">
</span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="kn">import</span> <span class="nn">hashlib</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">
</span></span><span class="line"><span class="ln"> 4</span><span class="cl"><span class="k">class</span> <span class="nc">BloomFilter</span><span class="p">:</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">num_hash_functions</span><span class="p">):</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">        <span class="c1"># Kích thước Bloom filter (số lượng bit)</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">size</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">        <span class="c1"># Số hàm băm</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">num_hash_functions</span> <span class="o">=</span> <span class="n">num_hash_functions</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl">        <span class="c1"># Mảng bit để lưu trữ (khởi tạo với các bit = 0)</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">bit_array</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">size</span>
</span></span><span class="line"><span class="ln">12</span><span class="cl">
</span></span><span class="line"><span class="ln">13</span><span class="cl">    <span class="k">def</span> <span class="nf">_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">14</span><span class="cl">        <span class="s2">&#34;&#34;&#34;Hàm băm để tạo chỉ số từ item, với i là chỉ số của hàm băm.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="ln">15</span><span class="cl">        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;</span><span class="si">{</span><span class="n">item</span><span class="si">}{</span><span class="n">i</span><span class="si">}</span><span class="s2">&#34;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">(),</span> <span class="mi">16</span><span class="p">)</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>
</span></span><span class="line"><span class="ln">16</span><span class="cl">
</span></span><span class="line"><span class="ln">17</span><span class="cl">    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">18</span><span class="cl">        <span class="s2">&#34;&#34;&#34;Thêm một item vào Bloom filter.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="ln">19</span><span class="cl">        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_hash_functions</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">20</span><span class="cl">            <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hash</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">21</span><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">bit_array</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="ln">22</span><span class="cl">
</span></span><span class="line"><span class="ln">23</span><span class="cl">    <span class="k">def</span> <span class="nf">check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">24</span><span class="cl">        <span class="s2">&#34;&#34;&#34;Kiểm tra một item có trong Bloom filter không.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="ln">25</span><span class="cl">        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_hash_functions</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">26</span><span class="cl">            <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hash</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">27</span><span class="cl">            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">bit_array</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">28</span><span class="cl">                <span class="k">return</span> <span class="kc">False</span>  <span class="c1"># Nếu bất kỳ bit nào là 0, phần tử chắc chắn không có trong bộ lọc</span>
</span></span><span class="line"><span class="ln">29</span><span class="cl">        <span class="k">return</span> <span class="kc">True</span>  <span class="c1"># Nếu tất cả các bit đều là 1, có khả năng phần tử có trong bộ lọc</span>
</span></span><span class="line"><span class="ln">30</span><span class="cl">
</span></span><span class="line"><span class="ln">31</span><span class="cl"><span class="c1"># Khởi tạo Bloom filter với kích thước 1000 bit và 3 hàm băm</span>
</span></span><span class="line"><span class="ln">32</span><span class="cl"><span class="n">bloom_filter</span> <span class="o">=</span> <span class="n">BloomFilter</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">num_hash_functions</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">33</span><span class="cl">
</span></span><span class="line"><span class="ln">34</span><span class="cl"><span class="c1"># Mô phỏng thông tin giao dịch của người dùng</span>
</span></span><span class="line"><span class="ln">35</span><span class="cl"><span class="n">users_transactions</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">36</span><span class="cl">    <span class="s2">&#34;tung&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;New York&#34;</span><span class="p">,</span> <span class="s2">&#34;Los Angeles&#34;</span><span class="p">,</span> <span class="s2">&#34;Miami&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="ln">37</span><span class="cl">    <span class="s2">&#34;kim&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;London&#34;</span><span class="p">,</span> <span class="s2">&#34;Paris&#34;</span><span class="p">,</span> <span class="s2">&#34;Berlin&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="ln">38</span><span class="cl">    <span class="s2">&#34;tuan&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;Tokyo&#34;</span><span class="p">,</span> <span class="s2">&#34;Osaka&#34;</span><span class="p">,</span> <span class="s2">&#34;Kyoto&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="ln">39</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln">40</span><span class="cl">
</span></span><span class="line"><span class="ln">41</span><span class="cl"><span class="c1"># Thêm tất cả các giao dịch vào Bloom filter</span>
</span></span><span class="line"><span class="ln">42</span><span class="cl"><span class="k">for</span> <span class="n">user</span><span class="p">,</span> <span class="n">locations</span> <span class="ow">in</span> <span class="n">users_transactions</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span></span><span class="line"><span class="ln">43</span><span class="cl">    <span class="k">for</span> <span class="n">location</span> <span class="ow">in</span> <span class="n">locations</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">44</span><span class="cl">        <span class="n">bloom_filter</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;</span><span class="si">{</span><span class="n">user</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">location</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>  <span class="c1"># Kết hợp tên người dùng và địa điểm giao dịch</span>
</span></span><span class="line"><span class="ln">45</span><span class="cl">
</span></span><span class="line"><span class="ln">46</span><span class="cl"><span class="c1"># Kiểm tra một giao dịch mới từ người dùng</span>
</span></span><span class="line"><span class="ln">47</span><span class="cl"><span class="k">def</span> <span class="nf">check_fraud</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">location</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">48</span><span class="cl">    <span class="k">if</span> <span class="ow">not</span> <span class="n">bloom_filter</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;</span><span class="si">{</span><span class="n">user</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">location</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">49</span><span class="cl">        <span class="k">return</span> <span class="sa">f</span><span class="s2">&#34;Warning: Transaction from </span><span class="si">{</span><span class="n">location</span><span class="si">}</span><span class="s2"> by </span><span class="si">{</span><span class="n">user</span><span class="si">}</span><span class="s2"> might be suspicious!&#34;</span>
</span></span><span class="line"><span class="ln">50</span><span class="cl">    <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">51</span><span class="cl">        <span class="k">return</span> <span class="sa">f</span><span class="s2">&#34;Transaction from </span><span class="si">{</span><span class="n">location</span><span class="si">}</span><span class="s2"> by </span><span class="si">{</span><span class="n">user</span><span class="si">}</span><span class="s2"> is normal.&#34;</span>
</span></span><span class="line"><span class="ln">52</span><span class="cl">
</span></span><span class="line"><span class="ln">53</span><span class="cl"><span class="c1"># Kiểm tra một số giao dịch</span>
</span></span><span class="line"><span class="ln">54</span><span class="cl"><span class="n">test_transactions</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="ln">55</span><span class="cl">    <span class="p">(</span><span class="s2">&#34;tung&#34;</span><span class="p">,</span> <span class="s2">&#34;Miami&#34;</span><span class="p">),</span>  <span class="c1"># Giao dịch hợp lệ</span>
</span></span><span class="line"><span class="ln">56</span><span class="cl">    <span class="p">(</span><span class="s2">&#34;tung&#34;</span><span class="p">,</span> <span class="s2">&#34;Chicago&#34;</span><span class="p">),</span>  <span class="c1"># Giao dịch mới (không có trong Bloom filter)</span>
</span></span><span class="line"><span class="ln">57</span><span class="cl">    <span class="p">(</span><span class="s2">&#34;kim&#34;</span><span class="p">,</span> <span class="s2">&#34;Paris&#34;</span><span class="p">),</span>  <span class="c1"># Giao dịch hợp lệ</span>
</span></span><span class="line"><span class="ln">58</span><span class="cl">    <span class="p">(</span><span class="s2">&#34;tuan&#34;</span><span class="p">,</span> <span class="s2">&#34;Kyoto&#34;</span><span class="p">)</span>   <span class="c1"># Giao dịch hợp lệ</span>
</span></span><span class="line"><span class="ln">59</span><span class="cl"><span class="p">]</span>
</span></span><span class="line"><span class="ln">60</span><span class="cl">
</span></span><span class="line"><span class="ln">61</span><span class="cl"><span class="c1"># Kiểm tra các giao dịch</span>
</span></span><span class="line"><span class="ln">62</span><span class="cl"><span class="k">for</span> <span class="n">user</span><span class="p">,</span> <span class="n">location</span> <span class="ow">in</span> <span class="n">test_transactions</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">63</span><span class="cl">    <span class="n">result</span> <span class="o">=</span> <span class="n">check_fraud</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">location</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">64</span><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span></span></code></pre></div><p>Kết quả:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="ln">1</span><span class="cl"><span class="n">Transaction</span> <span class="kn">from</span> <span class="nn">Miami</span> <span class="n">by</span> <span class="n">tung</span> <span class="ow">is</span> <span class="n">normal</span><span class="o">.</span>
</span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="ne">Warning</span><span class="p">:</span> <span class="n">Transaction</span> <span class="kn">from</span> <span class="nn">Chicago</span> <span class="n">by</span> <span class="n">tung</span> <span class="n">might</span> <span class="n">be</span> <span class="n">suspicious</span><span class="err">!</span>
</span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="n">Transaction</span> <span class="kn">from</span> <span class="nn">Paris</span> <span class="n">by</span> <span class="n">kim</span> <span class="ow">is</span> <span class="n">normal</span><span class="o">.</span>
</span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="n">Transaction</span> <span class="kn">from</span> <span class="nn">Kyoto</span> <span class="n">by</span> <span class="n">tuan</span> <span class="ow">is</span> <span class="n">normal</span><span class="o">.</span>
</span></span></code></pre></div><h2 id="spell-checker">Spell Checker<a class="anchor ms-1" href="#spell-checker"><i class="fas fa-link"></i></a></h2>
<p>xây dựng một Spell Checker sử dụng Bloom Filter. Mã này sẽ kiểm tra xem một từ có trong từ điển (dictionary) hay không và đưa ra kết quả.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="ln"> 1</span><span class="cl">
</span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="kn">import</span> <span class="nn">hashlib</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">
</span></span><span class="line"><span class="ln"> 4</span><span class="cl"><span class="k">class</span> <span class="nc">BloomFilter</span><span class="p">:</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">num_hash_functions</span><span class="p">):</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">        <span class="c1"># Kích thước của Bloom filter (số lượng bit)</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">size</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">        <span class="c1"># Số hàm băm</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">num_hash_functions</span> <span class="o">=</span> <span class="n">num_hash_functions</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl">        <span class="c1"># Mảng bit để lưu trữ (được khởi tạo với tất cả các bit là 0)</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">bit_array</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">size</span>
</span></span><span class="line"><span class="ln">12</span><span class="cl">
</span></span><span class="line"><span class="ln">13</span><span class="cl">    <span class="k">def</span> <span class="nf">_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">14</span><span class="cl">        <span class="s2">&#34;&#34;&#34;Hàm băm để tạo chỉ số từ item, với i là chỉ số của hàm băm.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="ln">15</span><span class="cl">        <span class="c1"># Dùng hàm băm SHA-256 và điều chỉnh với chỉ số i để tạo ra các chỉ số khác nhau</span>
</span></span><span class="line"><span class="ln">16</span><span class="cl">        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;</span><span class="si">{</span><span class="n">item</span><span class="si">}{</span><span class="n">i</span><span class="si">}</span><span class="s2">&#34;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">(),</span> <span class="mi">16</span><span class="p">)</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>
</span></span><span class="line"><span class="ln">17</span><span class="cl">
</span></span><span class="line"><span class="ln">18</span><span class="cl">    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">19</span><span class="cl">        <span class="s2">&#34;&#34;&#34;Thêm một item vào Bloom filter.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="ln">20</span><span class="cl">        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_hash_functions</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">21</span><span class="cl">            <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hash</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">22</span><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">bit_array</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="ln">23</span><span class="cl">
</span></span><span class="line"><span class="ln">24</span><span class="cl">    <span class="k">def</span> <span class="nf">check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">25</span><span class="cl">        <span class="s2">&#34;&#34;&#34;Kiểm tra một item có trong Bloom filter không.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="ln">26</span><span class="cl">        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_hash_functions</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">27</span><span class="cl">            <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hash</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">28</span><span class="cl">            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">bit_array</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">29</span><span class="cl">                <span class="k">return</span> <span class="kc">False</span>  <span class="c1"># Nếu bất kỳ bit nào là 0, phần tử chắc chắn không có trong bộ lọc</span>
</span></span><span class="line"><span class="ln">30</span><span class="cl">        <span class="k">return</span> <span class="kc">True</span>  <span class="c1"># Nếu tất cả các bit đều là 1, có khả năng phần tử có trong bộ lọc</span>
</span></span><span class="line"><span class="ln">31</span><span class="cl">
</span></span><span class="line"><span class="ln">32</span><span class="cl"><span class="c1"># Tạo một Bloom filter với kích thước 1000 bit và 3 hàm băm</span>
</span></span><span class="line"><span class="ln">33</span><span class="cl"><span class="n">bloom_filter</span> <span class="o">=</span> <span class="n">BloomFilter</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">num_hash_functions</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">34</span><span class="cl">
</span></span><span class="line"><span class="ln">35</span><span class="cl"><span class="c1"># Từ điển mẫu</span>
</span></span><span class="line"><span class="ln">36</span><span class="cl"><span class="n">dictionary</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;hello&#34;</span><span class="p">,</span> <span class="s2">&#34;world&#34;</span><span class="p">,</span> <span class="s2">&#34;spell&#34;</span><span class="p">,</span> <span class="s2">&#34;check&#34;</span><span class="p">,</span> <span class="s2">&#34;python&#34;</span><span class="p">,</span> <span class="s2">&#34;bloom&#34;</span><span class="p">,</span> <span class="s2">&#34;filter&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="ln">37</span><span class="cl">
</span></span><span class="line"><span class="ln">38</span><span class="cl"><span class="c1"># Thêm tất cả các từ vào Bloom filter</span>
</span></span><span class="line"><span class="ln">39</span><span class="cl"><span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">dictionary</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">40</span><span class="cl">    <span class="n">bloom_filter</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">41</span><span class="cl">
</span></span><span class="line"><span class="ln">42</span><span class="cl"><span class="c1"># Kiểm tra chính tả của một số từ</span>
</span></span><span class="line"><span class="ln">43</span><span class="cl"><span class="n">test_words</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;hello&#34;</span><span class="p">,</span> <span class="s2">&#34;world&#34;</span><span class="p">,</span> <span class="s2">&#34;java&#34;</span><span class="p">,</span> <span class="s2">&#34;python&#34;</span><span class="p">,</span> <span class="s2">&#34;flutter&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="ln">44</span><span class="cl">
</span></span><span class="line"><span class="ln">45</span><span class="cl"><span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">test_words</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">46</span><span class="cl">    <span class="k">if</span> <span class="n">bloom_filter</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">word</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">47</span><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;&#39;</span><span class="si">{</span><span class="n">word</span><span class="si">}</span><span class="s2">&#39; có thể là một từ đúng.&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">48</span><span class="cl">    <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">49</span><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;&#39;</span><span class="si">{</span><span class="n">word</span><span class="si">}</span><span class="s2">&#39; chắc chắn là một từ sai.&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>Kết quả:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="ln">1</span><span class="cl">
</span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="s1">&#39;hello&#39;</span> <span class="n">có</span> <span class="n">thể</span> <span class="n">là</span> <span class="n">một</span> <span class="n">từ</span> <span class="n">đúng</span><span class="o">.</span>
</span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="s1">&#39;world&#39;</span> <span class="n">có</span> <span class="n">thể</span> <span class="n">là</span> <span class="n">một</span> <span class="n">từ</span> <span class="n">đúng</span><span class="o">.</span>
</span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="s1">&#39;java&#39;</span> <span class="n">chắc</span> <span class="n">chắn</span> <span class="n">là</span> <span class="n">một</span> <span class="n">từ</span> <span class="n">sai</span><span class="o">.</span>
</span></span><span class="line"><span class="ln">5</span><span class="cl"><span class="s1">&#39;python&#39;</span> <span class="n">có</span> <span class="n">thể</span> <span class="n">là</span> <span class="n">một</span> <span class="n">từ</span> <span class="n">đúng</span><span class="o">.</span>
</span></span></code></pre></div><h2 id="recommendation-systems-bloom-filters">Recommendation Systems Bloom Filters<a class="anchor ms-1" href="#recommendation-systems-bloom-filters"><i class="fas fa-link"></i></a></h2>
<p>triển khai việc tránh gợi ý các sản phẩm mà người dùng đã tương tác trước đó bằng cách sử dụng Bloom Filters.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="ln"> 1</span><span class="cl">
</span></span><span class="line"><span class="ln"> 2</span><span class="cl">
</span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="kn">import</span> <span class="nn">hashlib</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">
</span></span><span class="line"><span class="ln"> 5</span><span class="cl"><span class="k">class</span> <span class="nc">BloomFilter</span><span class="p">:</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">num_hash_functions</span><span class="p">):</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">        <span class="c1"># Kích thước Bloom filter (số lượng bit)</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">size</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">        <span class="c1"># Số hàm băm</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">num_hash_functions</span> <span class="o">=</span> <span class="n">num_hash_functions</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl">        <span class="c1"># Mảng bit để lưu trữ (khởi tạo tất cả các bit là 0)</span>
</span></span><span class="line"><span class="ln">12</span><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">bit_array</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">size</span>
</span></span><span class="line"><span class="ln">13</span><span class="cl">
</span></span><span class="line"><span class="ln">14</span><span class="cl">    <span class="k">def</span> <span class="nf">_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">15</span><span class="cl">        <span class="s2">&#34;&#34;&#34;Hàm băm để tạo chỉ số từ item, với i là chỉ số của hàm băm.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="ln">16</span><span class="cl">        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;</span><span class="si">{</span><span class="n">item</span><span class="si">}{</span><span class="n">i</span><span class="si">}</span><span class="s2">&#34;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">(),</span> <span class="mi">16</span><span class="p">)</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>
</span></span><span class="line"><span class="ln">17</span><span class="cl">
</span></span><span class="line"><span class="ln">18</span><span class="cl">    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">19</span><span class="cl">        <span class="s2">&#34;&#34;&#34;Thêm một item vào Bloom filter.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="ln">20</span><span class="cl">        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_hash_functions</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">21</span><span class="cl">            <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hash</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">22</span><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">bit_array</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="ln">23</span><span class="cl">
</span></span><span class="line"><span class="ln">24</span><span class="cl">    <span class="k">def</span> <span class="nf">check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">25</span><span class="cl">        <span class="s2">&#34;&#34;&#34;Kiểm tra một item có trong Bloom filter không.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="ln">26</span><span class="cl">        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_hash_functions</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">27</span><span class="cl">            <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hash</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">28</span><span class="cl">            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">bit_array</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">29</span><span class="cl">                <span class="k">return</span> <span class="kc">False</span>  <span class="c1"># Nếu bất kỳ bit nào là 0, phần tử chắc chắn không có trong bộ lọc</span>
</span></span><span class="line"><span class="ln">30</span><span class="cl">        <span class="k">return</span> <span class="kc">True</span>  <span class="c1"># Nếu tất cả các bit đều là 1, có khả năng phần tử có trong bộ lọc</span>
</span></span><span class="line"><span class="ln">31</span><span class="cl">
</span></span><span class="line"><span class="ln">32</span><span class="cl"><span class="c1"># Khởi tạo Bloom filter</span>
</span></span><span class="line"><span class="ln">33</span><span class="cl"><span class="n">bloom_filter</span> <span class="o">=</span> <span class="n">BloomFilter</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">num_hash_functions</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">34</span><span class="cl">
</span></span><span class="line"><span class="ln">35</span><span class="cl"><span class="c1"># Mô phỏng danh sách sản phẩm người dùng đã tương tác</span>
</span></span><span class="line"><span class="ln">36</span><span class="cl"><span class="n">user_interactions</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">37</span><span class="cl">    <span class="s2">&#34;tung&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;thịt bò&#34;</span><span class="p">,</span> <span class="s2">&#34;hành tây&#34;</span><span class="p">,</span> <span class="s2">&#34;khoai tây&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="ln">38</span><span class="cl">    <span class="s2">&#34;tuan&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;thit heo&#34;</span><span class="p">,</span> <span class="s2">&#34;trứng&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="ln">39</span><span class="cl">    <span class="s2">&#34;canh&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;thịt bò&#34;</span><span class="p">,</span> <span class="s2">&#34;trứng&#34;</span><span class="p">,</span> <span class="s2">&#34;sữa TH&#34;</span><span class="p">,</span> <span class="s2">&#34;kem&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="ln">40</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln">41</span><span class="cl">
</span></span><span class="line"><span class="ln">42</span><span class="cl"><span class="c1"># Thêm các sản phẩm đã tương tác vào Bloom filter</span>
</span></span><span class="line"><span class="ln">43</span><span class="cl"><span class="k">for</span> <span class="n">user</span><span class="p">,</span> <span class="n">items</span> <span class="ow">in</span> <span class="n">user_interactions</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span></span><span class="line"><span class="ln">44</span><span class="cl">    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">45</span><span class="cl">        <span class="n">bloom_filter</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;</span><span class="si">{</span><span class="n">user</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">item</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>  <span class="c1"># Kết hợp user và item để lưu trữ duy nhất</span>
</span></span><span class="line"><span class="ln">46</span><span class="cl">
</span></span><span class="line"><span class="ln">47</span><span class="cl"><span class="c1"># Hàm gợi ý sản phẩm</span>
</span></span><span class="line"><span class="ln">48</span><span class="cl"><span class="k">def</span> <span class="nf">recommend_items</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">candidate_items</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">49</span><span class="cl">    <span class="s2">&#34;&#34;&#34;Đưa ra gợi ý các sản phẩm chưa tương tác.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="ln">50</span><span class="cl">    <span class="n">recommendations</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="ln">51</span><span class="cl">    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">candidate_items</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">52</span><span class="cl">        <span class="k">if</span> <span class="ow">not</span> <span class="n">bloom_filter</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;</span><span class="si">{</span><span class="n">user</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">item</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">):</span>
</span></span><span class="line"><span class="ln">53</span><span class="cl">            <span class="n">recommendations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>  <span class="c1"># Chỉ thêm sản phẩm nếu chưa tương tác</span>
</span></span><span class="line"><span class="ln">54</span><span class="cl">    <span class="k">return</span> <span class="n">recommendations</span>
</span></span><span class="line"><span class="ln">55</span><span class="cl">
</span></span><span class="line"><span class="ln">56</span><span class="cl"><span class="c1"># Danh sách các sản phẩm có thể gợi ý</span>
</span></span><span class="line"><span class="ln">57</span><span class="cl"><span class="n">candidate_items</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;thịt bò&#34;</span><span class="p">,</span> <span class="s2">&#34;hành tây&#34;</span><span class="p">,</span> <span class="s2">&#34;khoai tây&#34;</span><span class="p">,</span><span class="s2">&#34;trứng&#34;</span><span class="p">,</span> <span class="s2">&#34;sữa TH&#34;</span><span class="p">,</span> <span class="s2">&#34;kem&#34;</span><span class="p">,</span><span class="s2">&#34;thit heo&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="ln">58</span><span class="cl">
</span></span><span class="line"><span class="ln">59</span><span class="cl"><span class="c1"># Gợi ý sản phẩm cho tung</span>
</span></span><span class="line"><span class="ln">60</span><span class="cl"><span class="n">user</span> <span class="o">=</span> <span class="s2">&#34;tung&#34;</span>
</span></span><span class="line"><span class="ln">61</span><span class="cl"><span class="n">recommendations</span> <span class="o">=</span> <span class="n">recommend_items</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">candidate_items</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">62</span><span class="cl">
</span></span><span class="line"><span class="ln">63</span><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Recommendations for </span><span class="si">{</span><span class="n">user</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">recommendations</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>Kết quả:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="ln">1</span><span class="cl"><span class="n">Recommendations</span> <span class="k">for</span> <span class="n">tung</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;trứng&#39;</span><span class="p">,</span> <span class="s1">&#39;sữa TH&#39;</span><span class="p">,</span> <span class="s1">&#39;kem&#39;</span><span class="p">,</span> <span class="s1">&#39;thit heo&#39;</span><span class="p">]</span>
</span></span></code></pre></div><p><a href="https://pages.cs.wisc.edu/~cao/papers/summary-cache/node8.html" target="_blank" rel="noopener noreferrer">https://pages.cs.wisc.edu/~cao/papers/summary-cache/node8.html</a></p>
<p><a href="https://en.wikipedia.org/wiki/Bloom_filter" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/Bloom_filter</a></p>
<p>Cảm ơn các bạn đã theo dõi bài viết. Xin cảm ơn và hẹn gặp lại.</p>
</div></div>
  <div class="card-footer"><div class="post-navs d-flex justify-content-evenly"><div class="post-nav post-prev">
    <i class="fas fa-fw fa-chevron-left"></i>
    <a href="/blog/2024-11-23-system-design-top-10-interview-distributed-hash-table/">Top 10 Thuật Toán System Design Các Bạn Nên Biết Và Thường Được Hỏi Trong Phỏng Vấn - Top 2 Distributed Hash Tables
</a>
  </div><div class="post-nav post-next">
    <a href="/blog/2025-01-10-data-missing-time-serial-linear-regression/">Xử Lý Dữ Liệu Khiếm Khuyết Trong Dữ Liệu Chuỗi Thời Gian Sử Dụng Phương Pháp Linear Regression - Machine Learning Techniques for Mising Data in Time-Serials Using Liner Regression
</a>
    <i class="fas fa-fw fa-chevron-right"></i>
  </div></div></div>
</article><div class="card component row post-comments" id="post-comments">
  <div class="card-header">
    <h2 class="card-title">Comments</h2>
  </div>
  <div class="card-body"><script src="https://utteranc.es/client.js"
  repo="AlexBlack2202/utterances"
  issue-term="pathname"
  label="comment"
  theme="github-dark"
  crossorigin="anonymous"
  async>
</script></div>
</div></div>
</div><aside class="col-lg-3 col-md-4 sidebar d-flex">
  <div class="container d-flex flex-column">
    
    <a href="https://www.buymeacoffee.com/alexblack28"><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&emoji=🍎&slug=alexblack28&button_colour=FFDD00&font_colour=000000&font_family=Cookie&outline_colour=000000&coffee_colour=ffffff" /></a><div class="post-toc row mb-4 card component" id="postTOC">
  <div class="card-header">
    <h2 class="card-title">Contents</h2>
  </div>
  <div class="card-body">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#i-bloom-filters-là-gì">I. Bloom Filters là gì?</a></li>
    <li><a href="#ii-nguyên-lý--bloom-filters-hoạt-động">II. Nguyên lý  Bloom Filters hoạt động</a>
      <ul>
        <li><a href="#cấu-trúc-dữ-liệu">Cấu trúc dữ liệu</a></li>
        <li><a href="#xác-suất-dương-tính-sai">Xác suất dương tính sai</a></li>
        <li><a href="#công-thức-ước-lượng-số-phần-tử-và-số-hàm-hash">Công thức ước lượng số phần tử và số hàm hash</a></li>
      </ul>
    </li>
    <li><a href="#iii-ưu-điểm-của-bộ-lọc-bloom">III. Ưu điểm của bộ lọc Bloom</a>
      <ul>
        <li><a href="#1-tiết-kiệm-bộ-nhớ"><strong>1. Tiết kiệm bộ nhớ</strong></a></li>
        <li><a href="#2-kiểm-tra-thành-viên-nhanh-chóng"><strong>2. Kiểm tra thành viên nhanh chóng</strong></a></li>
        <li><a href="#3-không-có-false-negative"><strong>3. Không có false negative</strong></a></li>
        <li><a href="#4-dễ-dàng-mở-rộng"><strong>4. Dễ dàng mở rộng</strong></a></li>
        <li><a href="#5-thiết-kế-đơn-giản"><strong>5. Thiết kế đơn giản</strong></a></li>
        <li><a href="#6-thân-thiện-với-hệ-thống-phân-tán"><strong>6. Thân thiện với hệ thống phân tán</strong></a></li>
        <li><a href="#7-ứng-dụng-rộng-rãi"><strong>7. Ứng dụng rộng rãi</strong></a></li>
        <li><a href="#8-hỗ-trợ-tính-toán-song-song"><strong>8. Hỗ trợ tính toán song song</strong></a></li>
        <li><a href="#9-ứng-dụng-trong-bảo-mật-và-quyền-riêng-tư"><strong>9. Ứng dụng trong bảo mật và quyền riêng tư</strong></a></li>
        <li><a href="#10-dễ-bảo-trì"><strong>10. Dễ bảo trì</strong></a></li>
        <li><a href="#khi-nào-nên-sử-dụng-bloom-filter"><strong>Khi nào nên sử dụng Bloom Filter?</strong></a></li>
      </ul>
    </li>
    <li><a href="#hạn-chế-của-bộ-lọc-bloom-filter">Hạn chế của bộ lọc Bloom Filter</a>
      <ul>
        <li><a href="#1-false-positive-kết-quả-dương-tính-giả"><strong>1. False Positive (Kết quả dương tính giả)</strong></a></li>
        <li><a href="#2-không-hỗ-trợ-xóa-phần-tử"><strong>2. Không hỗ trợ xóa phần tử</strong></a></li>
        <li><a href="#3-không-lưu-trữ-dữ-liệu-gốc"><strong>3. Không lưu trữ dữ liệu gốc</strong></a></li>
        <li><a href="#4-khó-điều-chỉnh-tỷ-lệ-false-positive"><strong>4. Khó điều chỉnh tỷ lệ false positive</strong></a></li>
        <li><a href="#5-yêu-cầu-chọn-hàm-băm-phù-hợp"><strong>5. Yêu cầu chọn hàm băm phù hợp</strong></a></li>
        <li><a href="#6-không-hiệu-quả-với-tập-dữ-liệu-nhỏ"><strong>6. Không hiệu quả với tập dữ liệu nhỏ</strong></a></li>
        <li><a href="#7-không-thể-mở-rộng-một-cách-đơn-giản"><strong>7. Không thể mở rộng một cách đơn giản</strong></a></li>
        <li><a href="#8-không-hỗ-trợ-kiểm-tra-phủ-định-no-false-negatives"><strong>8. Không hỗ trợ kiểm tra phủ định (No False Negatives)</strong></a></li>
        <li><a href="#9-khó-triển-khai-và-bảo-trì-trong-hệ-thống-lớn"><strong>9. Khó triển khai và bảo trì trong hệ thống lớn</strong></a></li>
        <li><a href="#10-không-phù-hợp-với-dữ-liệu-động"><strong>10. Không phù hợp với dữ liệu động</strong></a></li>
        <li><a href="#khi-nào-không-nên-sử-dụng-bloom-filter"><strong>Khi nào không nên sử dụng Bloom Filter?</strong></a></li>
      </ul>
    </li>
    <li><a href="#một-số-biến-thể-của-bloom-filter">Một số biến thể của Bloom Filter</a>
      <ul>
        <li><a href="#double-hashing-bloom-filter">Double Hashing Bloom Filter:</a>
          <ul>
            <li><a href="#cách-hoạt-động-của-double-hashing-bloom-filter"><strong>Cách hoạt động của Double Hashing Bloom Filter</strong></a></li>
            <li><a href="#ưu-điểm-của-double-hashing-bloom-filter"><strong>Ưu điểm của Double Hashing Bloom Filter</strong></a></li>
            <li><a href="#hạn-chế-của-double-hashing-bloom-filter"><strong>Hạn chế của Double Hashing Bloom Filter</strong></a></li>
            <li><a href="#ứng-dụng-của-double-hashing-bloom-filter"><strong>Ứng dụng của Double Hashing Bloom Filter</strong></a></li>
            <li><a href="#triển-khai-double-hashing-bloom-filter-bằng-python"><strong>Triển khai Double Hashing Bloom Filter bằng Python</strong></a></li>
            <li><a href="#tóm-tắt"><strong>Tóm tắt</strong></a></li>
          </ul>
        </li>
        <li><a href="#partitioning-bloom-filter">Partitioning Bloom Filter:</a>
          <ul>
            <li><a href="#cách-hoạt-động-của-partitioning-bloom-filter"><strong>Cách hoạt động của Partitioning Bloom Filter</strong></a></li>
            <li><a href="#ưu-điểm-của-partitioning-bloom-filter"><strong>Ưu điểm của Partitioning Bloom Filter</strong></a></li>
            <li><a href="#hạn-chế-của-partitioning-bloom-filter"><strong>Hạn chế của Partitioning Bloom Filter</strong></a></li>
            <li><a href="#ứng-dụng-của-partitioning-bloom-filter"><strong>Ứng dụng của Partitioning Bloom Filter</strong></a></li>
            <li><a href="#triển-khai-partitioning-bloom-filter-bằng-python"><strong>Triển khai Partitioning Bloom Filter bằng Python</strong></a></li>
            <li><a href="#tóm-tắt-1"><strong>Tóm tắt</strong></a></li>
          </ul>
        </li>
        <li><a href="#counting-bloom-filter">Counting Bloom Filter:</a>
          <ul>
            <li><a href="#cách-hoạt-động-của-counting-bloom-filter"><strong>Cách hoạt động của Counting Bloom Filter</strong></a></li>
            <li><a href="#ưu-điểm-của-counting-bloom-filter"><strong>Ưu điểm của Counting Bloom Filter</strong></a></li>
            <li><a href="#hạn-chế-của-counting-bloom-filter"><strong>Hạn chế của Counting Bloom Filter</strong></a></li>
            <li><a href="#ứng-dụng-của-counting-bloom-filter"><strong>Ứng dụng của Counting Bloom Filter</strong></a></li>
            <li><a href="#triển-khai-bằng-python"><strong>Triển khai bằng Python</strong></a></li>
            <li><a href="#tóm-tắt-2"><strong>Tóm tắt</strong></a></li>
          </ul>
        </li>
        <li><a href="#scalable-bloom-filter">Scalable Bloom Filter</a>
          <ul>
            <li><a href="#vấn-đề-với-bloom-filter-truyền-thống"><strong>Vấn đề với Bloom Filter truyền thống</strong></a></li>
            <li><a href="#scalable-bloom-filter-giải-quyết-vấn-đề-như-thế-nào"><strong>Scalable Bloom Filter giải quyết vấn đề như thế nào?</strong></a></li>
            <li><a href="#cấu-trúc-và-cách-hoạt-động-của-scalable-bloom-filter"><strong>Cấu trúc và cách hoạt động của Scalable Bloom Filter</strong></a></li>
            <li><a href="#ưu-điểm-của-scalable-bloom-filter"><strong>Ưu điểm của Scalable Bloom Filter</strong></a></li>
            <li><a href="#hạn-chế-của-scalable-bloom-filter"><strong>Hạn chế của Scalable Bloom Filter</strong></a></li>
            <li><a href="#ứng-dụng-của-scalable-bloom-filter"><strong>Ứng dụng của Scalable Bloom Filter</strong></a></li>
            <li><a href="#triển-khai-scalable-bloom-filter"><strong>Triển khai Scalable Bloom Filter</strong></a></li>
            <li><a href="#mã-giả-scalable-bloom-filter">Mã giả Scalable Bloom Filter</a></li>
          </ul>
        </li>
        <li><a href="#striped-bloom-filter">Striped Bloom Filter</a>
          <ul>
            <li><a href="#đặc-điểm-của-striped-bloom-filter"><strong>Đặc điểm của Striped Bloom Filter</strong></a></li>
            <li><a href="#cách-hoạt-động-của-striped-bloom-filter"><strong>Cách hoạt động của Striped Bloom Filter</strong></a></li>
            <li><a href="#ưu-điểm-của-striped-bloom-filter"><strong>Ưu điểm của Striped Bloom Filter</strong></a></li>
            <li><a href="#hạn-chế-của-striped-bloom-filter"><strong>Hạn chế của Striped Bloom Filter</strong></a></li>
            <li><a href="#triển-khai-bằng-python-1"><strong>Triển khai bằng Python</strong></a></li>
          </ul>
        </li>
        <li><a href="#quotient-filter-bộ-lọc-thương-số"><strong>Quotient Filter (Bộ lọc thương số)</strong></a>
          <ul>
            <li><a href="#nguyên-lý-hoạt-động"><strong>Nguyên lý hoạt động</strong></a></li>
            <li><a href="#ưu-điểm-của-quotient-filter"><strong>Ưu điểm của Quotient Filter</strong></a></li>
            <li><a href="#hạn-chế-của-quotient-filter"><strong>Hạn chế của Quotient Filter</strong></a></li>
            <li><a href="#ứng-dụng-của-quotient-filter"><strong>Ứng dụng của Quotient Filter</strong></a></li>
            <li><a href="#so-sánh-với-bloom-filter"><strong>So sánh với Bloom Filter</strong></a></li>
            <li><a href="#ví-dụ-mã-giả-bằng-python"><strong>Ví dụ mã giả bằng Python</strong></a></li>
            <li><a href="#kết-luận"><strong>Kết luận</strong></a></li>
          </ul>
        </li>
        <li><a href="#cuckoo-filter"><strong>Cuckoo Filter</strong></a>
          <ul>
            <li><a href="#nguyên-lý-hoạt-động-1"><strong>Nguyên lý hoạt động</strong></a></li>
            <li><a href="#thao-tác-chính-trong-cuckoo-filter"><strong>Thao tác chính trong Cuckoo Filter</strong></a></li>
            <li><a href="#ưu-điểm-của-cuckoo-filter"><strong>Ưu điểm của Cuckoo Filter</strong></a></li>
            <li><a href="#hạn-chế-của-cuckoo-filter"><strong>Hạn chế của Cuckoo Filter</strong></a></li>
            <li><a href="#ứng-dụng-của-cuckoo-filter"><strong>Ứng dụng của Cuckoo Filter</strong></a></li>
            <li><a href="#so-sánh-với-bloom-filter-1"><strong>So sánh với Bloom Filter</strong></a></li>
            <li><a href="#ví-dụ-mã-giả-cuckoo-filter-bằng-python"><strong>Ví dụ mã giả Cuckoo Filter bằng Python</strong></a></li>
            <li><a href="#kết-luận-1"><strong>Kết luận</strong></a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#ứng-dụng-của-bloom-filter-trong-các-lĩnh-vực">Ứng Dụng của Bloom Filter trong Các Lĩnh Vực</a>
      <ul>
        <li><a href="#1-phát-hiện-gian-lận-tài-chính-financial-fraud-detection"><strong>1. Phát Hiện Gian Lận Tài Chính (Financial Fraud Detection)</strong></a></li>
        <li><a href="#2-đặt-quảng-cáo-ad-placement---retail-advertising"><strong>2. Đặt Quảng Cáo (Ad Placement - Retail, Advertising)</strong></a></li>
        <li><a href="#3-kiểm-tra-tên-người-dùng-saas-content-publishing-platforms"><strong>3. Kiểm Tra Tên Người Dùng (SaaS, Content Publishing Platforms)</strong></a></li>
        <li><a href="#4-các-ứng-dụng-khác-của-bloom-filter"><strong>4. Các Ứng Dụng Khác Của Bloom Filter</strong></a></li>
      </ul>
    </li>
    <li><a href="#bài-tập">Bài tập</a>
      <ul>
        <li><a href="#financial-fraud-detection">Financial Fraud Detection</a></li>
        <li><a href="#spell-checker">Spell Checker</a></li>
        <li><a href="#recommendation-systems-bloom-filters">Recommendation Systems Bloom Filters</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div><section class="recent-posts row card component">
  <div class="card-header">
    <h2 class="card-title">Recent Posts</h2>
  </div>
  <div class="card-body">
    <ul class="post-list"><li>
        <a href="/blog/2025-06-15-vllm-introduce/">Giới Thiệu VLLM -  Công Cụ Phục Vụ LLM Hiệu Suất Cao Cho Ứng Dụng AI
</a>
      </li><li>
        <a href="/blog/2025-06-14-vram-llm-recommend/">Dung Lượng VRAM Cho Người Dùng Phổ Thông Muốn Tiếp Cận LLM Hoặc Machine Learning
</a>
      </li><li>
        <a href="/blog/2025-06-13-bay-tai-chinh-tuoi-tre/">Giấc Mơ Sở Hữu Nhà Và Cái Bẫy Tài Chính Của Tuổi Trẻ
</a>
      </li><li>
        <a href="/blog/2025-06-12-prevent-bedtime-procrastination/">Phòng Chống Việc Trì Hoãn Giờ Đi Ngủ (Prevent Bedtime Procrastination)
</a>
      </li><li>
        <a href="/blog/2025-04-29-etting-off-work-at-6-pm-is-already-quite-late/">Tan Làm Lúc 6 Giờ Tối Đã Là Khá Muộn Rồi - Quản Lý Thời Gian – Sống Trọn Vẹn – Quyền Được Nghỉ Ngơi Của Người Trẻ
</a>
      </li></ul>
  </div>
</section><section class="series-taxonomies row card component">
      <div class="card-header">
        <h2 class="card-title">
          <a href="/series">series</a>
        </h2>
      </div>
      <div class="card-body">
        <div class="py-2"><a href="/series/kh%C3%B3a-h%E1%BB%8Dc-python-c%C4%83n-b%E1%BA%A3n/" class="badge rounded post-taxonomy" title="Khóa Học Python Căn Bản">
            Khóa Học Python Căn Bản<span class="badge badge-sm text-white bg-accent ms-1">5</span></a><a href="/series/kh%C3%B3a-h%E1%BB%8Dc-c&#43;&#43;-c%C4%83n-b%E1%BA%A3n/" class="badge rounded post-taxonomy" title="Khóa Học C&#43;&#43; Căn Bản">
            Khóa Học C&#43;&#43; Căn Bản<span class="badge badge-sm text-white bg-accent ms-1">3</span></a><a href="/series/machine-learning-dataset/" class="badge rounded post-taxonomy" title="Machine Learning Dataset">
            Machine Learning Dataset<span class="badge badge-sm text-white bg-accent ms-1">2</span></a><a href="/series/ch%E1%BB%A9ng-kho%C3%A1n-c%C4%83n-b%E1%BA%A3n/" class="badge rounded post-taxonomy" title="Chứng Khoán Căn Bản">
            Chứng Khoán Căn Bản<span class="badge badge-sm text-white bg-accent ms-1">1</span></a></div>
      </div>
    </section><section class="tools-taxonomies row card component">
      <div class="card-header">
        <h2 class="card-title">
          <a href="/tools">tools</a>
        </h2>
      </div>
      <div class="card-body">
        <div class="py-2"><a href="/tools/tool-random/" class="badge rounded post-taxonomy" title="Tool Random">
            Tool Random<span class="badge badge-sm text-white bg-accent ms-1">2</span></a></div>
      </div>
    </section><section class="categories-taxonomies row card component">
      <div class="card-header">
        <h2 class="card-title">
          <a href="/categories">categories</a>
        </h2>
      </div>
      <div class="card-body">
        <div class="py-2"><a href="/categories/python/" class="badge rounded post-taxonomy" title="Python">
            Python<span class="badge badge-sm text-white bg-accent ms-1">5</span></a><a href="/categories/c&#43;&#43;/" class="badge rounded post-taxonomy" title="C&#43;&#43;">
            C&#43;&#43;<span class="badge badge-sm text-white bg-accent ms-1">3</span></a><a href="/categories/dataset/" class="badge rounded post-taxonomy" title="Dataset">
            Dataset<span class="badge badge-sm text-white bg-accent ms-1">2</span></a></div>
      </div>
    </section><section class="tags-taxonomies row card component">
      <div class="card-header">
        <h2 class="card-title">
          <a href="/tags">tags</a>
        </h2>
      </div>
      <div class="card-body">
        <div class="py-2"><a href="/tags/machine-learning/" class="badge rounded post-taxonomy" title="Machine Learning">
            Machine Learning<span class="badge badge-sm text-white bg-accent ms-1">45</span></a><a href="/tags/deep-learning/" class="badge rounded post-taxonomy" title="Deep Learning">
            Deep Learning<span class="badge badge-sm text-white bg-accent ms-1">21</span></a><a href="/tags/deeplearning/" class="badge rounded post-taxonomy" title="DeepLearning">
            DeepLearning<span class="badge badge-sm text-white bg-accent ms-1">21</span></a><a href="/tags/python/" class="badge rounded post-taxonomy" title="Python">
            Python<span class="badge badge-sm text-white bg-accent ms-1">11</span></a><a href="/tags/opencv/" class="badge rounded post-taxonomy" title="Opencv">
            Opencv<span class="badge badge-sm text-white bg-accent ms-1">5</span></a><a href="/tags/c&#43;&#43;/" class="badge rounded post-taxonomy" title="C&#43;&#43;">
            C&#43;&#43;<span class="badge badge-sm text-white bg-accent ms-1">4</span></a><a href="/tags/marketing/" class="badge rounded post-taxonomy" title="Marketing">
            Marketing<span class="badge badge-sm text-white bg-accent ms-1">4</span></a><a href="/tags/normalization/" class="badge rounded post-taxonomy" title="Normalization">
            Normalization<span class="badge badge-sm text-white bg-accent ms-1">4</span></a><a href="/tags/object-detector/" class="badge rounded post-taxonomy" title="Object Detector">
            Object Detector<span class="badge badge-sm text-white bg-accent ms-1">4</span></a><a href="/tags/recommendation/" class="badge rounded post-taxonomy" title="Recommendation">
            Recommendation<span class="badge badge-sm text-white bg-accent ms-1">4</span></a></div>
      </div>
    </section>
    
  </div>
</aside>
</div>
    </main><footer class="footer mt-auto py-3 text-center container"><ul class="nav justify-content-between footer-memu mb-3"><li class="nav-item"><ul class="nav flex-column align-items-start">
      <li class="nav-item">
        <a class="nav-link fw-bold" target="_blank" rel="noopener noreferrer">Support
</a>
      </li><li class="nav-item">
            <a class="nav-link" href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer"><i class="fab fa-fw fa-github"></i>Repository
</a>
        </li><li class="nav-item">
            <a class="nav-link" href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer"><i class="fas fa-fw fa-comments"></i>Discussions
</a>
        </li><li class="nav-item">
            <a class="nav-link" href="/contact/"><i class="fas fa-fw fa-info-circle"></i>Contact Us
</a>
        </li><li class="nav-item">
            <a class="nav-link" href="/faq/"><i class="fas fa-fw fa-question-circle"></i>FAQs
</a>
        </li></ul></li><li class="nav-item"><ul class="nav flex-column align-items-start">
      <li class="nav-item">
        <a class="nav-link fw-bold" target="_blank" rel="noopener noreferrer">Docs
</a>
      </li><li class="nav-item">
            <a class="nav-link" href="/team_of_services" target="_blank" rel="noopener noreferrer"><i class="fas fa-fw fa-users"></i>Điều khoản sử dụng
</a>
        </li><li class="nav-item">
            <a class="nav-link" href="/privacy" target="_blank" rel="noopener noreferrer"><i class="fas fa-fw fa-lock"></i>Chính sách bảo mật
</a>
        </li></ul></li><li class="nav-item"><ul class="nav flex-column align-items-start">
      <li class="nav-item">
        <a class="nav-link fw-bold" target="_blank" rel="noopener noreferrer">Features
</a>
      </li><li class="nav-item">
            <a class="nav-link" href="https://www.phamduytung.com/utils/gen_paswords/" target="_blank" rel="noopener noreferrer"><i class="fas fa-fw fa-paw"></i>Tạo password ngẫu nhiên
</a>
        </li></ul></li><li class="nav-item"><ul class="nav flex-column align-items-start">
      <li class="nav-item">
        <a class="nav-link fw-bold" target="_blank" rel="noopener noreferrer">Liên kết khác
</a>
      </li><li class="nav-item">
            <a class="nav-link" href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer">Netlify
</a>
        </li><li class="nav-item">
            <a class="nav-link" href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer">facebook
</a>
        </li></ul></li></ul>
<div class="copyright mb-2">
  Copyright © 2016-2025 Phạm Duy Tùng. All Rights Reserved.
</div>
<div class="powered-by mb-2">
  Website chia sẻ kiến thức của Phạm Duy Tùng và Đặng Thị Hằng. Vui lòng liên hệ email alexblack2202@gmail.com nếu bạn có thông tin cần trao đổi.
</div></footer>
<script src="/js/main.ed2053ad82a243b263761567b5c1aaf974487aa84adacb89ae3ddf803ecc248a.js" integrity="sha256-7SBTrYKiQ7JjdhVntcGq&#43;XRIeqhK2suJrj3fgD7MJIo=" crossorigin="anonymous" defer></script><script src="/js/icons.min.8ff200851002b8138e6b35314683092e02edc155465d9dbfb7d115460f8f1fbe.js" integrity="sha256-j/IAhRACuBOOazUxRoMJLgLtwVVGXZ2/t9EVRg&#43;PH74=" crossorigin="anonymous" defer></script>
<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('\/service-worker.js').then(function(reg) {
      console.log('Successfully registered service worker', reg);
    }).catch(function(err) {
      console.warn('Error whilst registering service worker', err);
    });
  });
}
</script><script src="/js/viewer.min.ec58d2aa1a8916addf393be975fdf0070e8c872b0caef1673cb9f7eea067ce57.js" integrity="sha256-7FjSqhqJFq3fOTvpdf3wBw6MhysMrvFnPLn37qBnzlc=" crossorigin="anonymous" defer></script><script defer src="/js/katex.min.d5052035160facae59b60000106771baf2eb7671123813d21f1097a5a9218b6e.js" integrity="sha256-1QUgNRYPrK5ZtgAAEGdxuvLrdnESOBPSHxCXpakhi24=" crossorigin="anonymous"></script>

<script  data-ad-client="ca-pub-4644989745435991"  async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4644989745435991"
     crossorigin="anonymous"></script><script data-cfasync="false" type="text/javascript" data-adel="atag" src="//acscdn.com/script/atg.js" czid="eul3gyjdmm"></script>
  </body>
</html>
