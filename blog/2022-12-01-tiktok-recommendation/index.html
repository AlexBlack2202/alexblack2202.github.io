<!doctype html><html lang="en" data-palette="blue"
   data-mode="dark">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Tiktok Real Time Recommendation - Phạm Duy Tùng Machine Learning Blog</title>
    <meta name="a.validate.02" content="1QZXZ8oi7g57H-GxBrBPkTYBydwii-Ic9iJu" /><link rel="apple-touch-icon" href="/images/icons/icon-180x180.png" sizes="180x180">
<link rel="icon" href="/images/icons/icon-32x32.png" sizes="32x32" type="image/png">
<link rel="icon" href="/images/icons/icon-16x16.png" sizes="16x16" type="image/png">
<link rel="icon" href="/images/icons/favicon.ico">
<link rel="manifest" href="/manifest.json">
<meta name="keywords" content="" />
<meta name="description" content="Nhân dịp đầu tháng, mình khai bút với chủ đề Real Time Recommendation. Paper này mình đọc cũng khá lâu rồi, giờ mới có dịp note lại chia sẻ. Các kỹ sư của ByteDance vừa mới cung cấp một paper nêu ra một vài hướng nghiên cứu của họ về Real Time Recommendation mà họ đã áp dụng thành công trong sản phẩm tiktok. Chủ đề này liên quan nhiều đến MLOpts - xây dựng kiến trúc hệ thống." /><meta name="robots" content="index, follow" />
  <meta itemprop="name" content="Tiktok Real Time Recommendation">
  <meta itemprop="description" content="Nhân dịp đầu tháng, mình khai bút với chủ đề Real Time Recommendation. Paper này mình đọc cũng khá lâu rồi, giờ mới có dịp note lại chia sẻ. Các kỹ sư của ByteDance vừa mới cung cấp một paper nêu ra một vài hướng nghiên cứu của họ về Real Time Recommendation mà họ đã áp dụng thành công trong sản phẩm tiktok. Chủ đề này liên quan nhiều đến MLOpts - xây dựng kiến trúc hệ thống.">
  <meta itemprop="datePublished" content="2022-12-01T00:19:00+03:00">
  <meta itemprop="dateModified" content="2022-12-01T00:19:00+03:00">
  <meta itemprop="wordCount" content="5242">
  <meta itemprop="image" content="https://unsplash.it/1920/1080?image=18">
  <meta itemprop="keywords" content="Machine Learning,Tikok,Deep Learning,ByteDance,Recommendation"><meta property="og:url" content="/blog/2022-12-01-tiktok-recommendation/">
  <meta property="og:site_name" content="Phạm Duy Tùng Machine Learning Blog">
  <meta property="og:title" content="Tiktok Real Time Recommendation">
  <meta property="og:description" content="Nhân dịp đầu tháng, mình khai bút với chủ đề Real Time Recommendation. Paper này mình đọc cũng khá lâu rồi, giờ mới có dịp note lại chia sẻ. Các kỹ sư của ByteDance vừa mới cung cấp một paper nêu ra một vài hướng nghiên cứu của họ về Real Time Recommendation mà họ đã áp dụng thành công trong sản phẩm tiktok. Chủ đề này liên quan nhiều đến MLOpts - xây dựng kiến trúc hệ thống.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="blog">
    <meta property="article:published_time" content="2022-12-01T00:19:00+03:00">
    <meta property="article:modified_time" content="2022-12-01T00:19:00+03:00">
    <meta property="article:tag" content="Machine Learning">
    <meta property="article:tag" content="Tikok">
    <meta property="article:tag" content="Deep Learning">
    <meta property="article:tag" content="ByteDance">
    <meta property="article:tag" content="Recommendation">
    <meta property="og:image" content="https://unsplash.it/1920/1080?image=18">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://unsplash.it/1920/1080?image=18">
  <meta name="twitter:title" content="Tiktok Real Time Recommendation">
  <meta name="twitter:description" content="Nhân dịp đầu tháng, mình khai bút với chủ đề Real Time Recommendation. Paper này mình đọc cũng khá lâu rồi, giờ mới có dịp note lại chia sẻ. Các kỹ sư của ByteDance vừa mới cung cấp một paper nêu ra một vài hướng nghiên cứu của họ về Real Time Recommendation mà họ đã áp dụng thành công trong sản phẩm tiktok. Chủ đề này liên quan nhiều đến MLOpts - xây dựng kiến trúc hệ thống.">
<link rel="stylesheet" href="/css/main.min.c06cf34535ee1f60ba08893b4d57e76b2bbd5e11c17ab12ef976f02983a51b54.css" integrity="sha256-wGzzRTXuH2C6CIk7TVfnayu9XhHBerEu&#43;XbwKYOlG1Q=" crossorigin="anonymous"><link rel="stylesheet" href="/css/katex.min.d080a89e03e1eb850f547d835c186b4273f69879aa497eb8b0e88c1578bf1f0b.css" integrity="sha256-0ICongPh64UPVH2DXBhrQnP2mHmqSX64sOiMFXi/Hws=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/viewer.min.3d228794bcedbbfa0412beb8fbc1ec6973202945e42af7004f742a4d7bd620ab.css" integrity="sha256-PSKHlLztu/oEEr64&#43;8HsaXMgKUXkKvcAT3QqTXvWIKs=" crossorigin="anonymous"><style>
    .bgcover {
        display: block;
        overflow: hidden;
        height: 450px;
        background: no-repeat center center;
        -webkit-background-size: cover;
        -moz-background-size: cover;
        -o-background-size: cover;
        background-size: cover;
        position: relative;
        margin-bottom: -65px;
    }
    .bgcover {
        margin-bottom: 0 !important;
    }

    .bgcover .bgtrans {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        display: block;
        overflow: hidden;
        height: inherit;
        background: rgba(0,0,0,.8);
        background: -webkit-gradient(linear,0% 0%,0% 100%,from(rgba(0,0,0,.8)),to (rgba(0,0,0,.6)),to(rgba(255,255,255,0)));
        background: -webkit-linear-gradient(top,rgba(255,255,255,0),rgba(0,0,0,.6),rgba(0,0,0,.8));
        background: -moz-linear-gradient(top,rgba(255,255,255,0),rgba(0,0,0,.6),rgba(0,0,0,.8));
        background: -ms-linear-gradient(top,rgba(255,255,255,0),rgba(0,0,0,.6),rgba(0,0,0,.8));
        background: -o-linear-gradient(top,rgba(255,255,255,0),rgba(0,0,0,.6),rgba(0,0,0,.8));
    }

    .bgcover .bgtrans h1 {
        display: block;
        overflow: hidden;
        font-size: 45px;
        line-height: 55px;
        color: #fff;
        width: 800px;
        margin: auto;
        position: absolute;
        left: 0;
        right: 0;
        bottom: 50px;
        font-family: 'Roboto Condensed',sans-serif;
        font-weight: 600;
    }
</style></head>
  <body><script>const items=["mode","palette"];items.forEach(function(e){const t=localStorage.getItem("hbs-"+e);t&&document.body.parentElement.setAttribute("data-"+e,t)})</script><header><nav class="navbar top-app-bar top-app-bar-expand-lg fixed-top">
  <div class="container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <i class="fas fa-bars"></i>
    </button><a class="navbar-brand flex-grow-1 flex-lg-grow-0 text-center text-lg-start mx-auto me-lg-3" href="/"><img class="logo" alt="Logo" src="/images/logo.webp" loading="lazy"  title="Logo"
   width="400" height="400"
   />
HOME
    </a>
    <div class="offcanvas offcanvas-bottom surface" tabindex="-1" id="offcanvasSocialShare" aria-labelledby="offcanvasSocialShare">
  <div class="offcanvas-header">
    <h3 class="offcanvas-title">Share</h3>
    <button type="button" class="btn btn-sm btn-outline-primary" data-bs-dismiss="offcanvas" aria-label="Close">
      <i class="fas fa-times"></i>
    </button>
  </div>
  <div class="offcanvas-body">
    <a class="btn btn-sm btn-outline-primary social-share-button" rel="noopener noreferrer" aria-label="Twitter Share Button"
      target="_blank" href="https://twitter.com/intent/tweet?title=Tiktok%20Real%20Time%20Recommendation&url=%2fblog%2f2022-12-01-tiktok-recommendation%2f">
      <i class="fab fa-fw fa-twitter"></i> Twitter
    </a>
    <a class="btn btn-sm btn-outline-primary social-share-button" rel="noopener noreferrer" aria-label="Facebook Share Button"
      target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=%2fblog%2f2022-12-01-tiktok-recommendation%2f">
      <i class="fab fa-fw fa-facebook-f"></i> Facebook
    </a>
  </div>
</div>
    <button class="navbar-settings" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasSettings"
  aria-controls="offcanvasSettings" aria-label="Toggle settings">
  <i class="fas fa-ellipsis-v"></i>
</button>

<div class="offcanvas offcanvas-end surface h-100" tabindex="-1" id="offcanvasSettings" aria-labelledby="offcanvasSettings">
  <div class="offcanvas-header">
    <h3 class="offcanvas-title">Settings</h3>
    <button type="button" class="btn btn-sm btn-outline-primary" data-bs-dismiss="offcanvas" aria-label="Close">
      <i class="fas fa-times"></i>
    </button>
  </div>
  <div class="offcanvas-body d-flex flex-column">



<section class="setting">
  <form class="font-size-switcher-form row">
    <div class="col-auto">
      <label for="fontSize" class="form-label"><i class="fas fa-fw fa-font"></i> Font Size</label>
    </div>
    <div class="col-auto ms-auto">
      <input type="range" class="form-range" min="-2" max="2" id="fontSize">
    </div>
  </form>
</section>


<section class="setting palettes">
  <form class="row">
    <div class="col-auto">
      <label><i class="fas fa-fw fa-palette"></i> Palette</label>
    </div>
    <div class="col-auto ms-auto">
      <a id="btnPalette" class="btn btn-sm btn-outline-primary" role="button" aria-label="palettePicker">
        <i class="fas fa-eye-dropper"></i>
      </a>
    </div>
  </form>
  <div class="mt-2 d-flex justify-content-between visually-hidden" id="palettePicker"><button type="button" id="palette-blue" aria-label="Blue"
        class="btn btn-sm w-100 palette" data-palette="blue">
      </button><button type="button" id="palette-blue-gray" aria-label="Blue Gray"
        class="btn btn-sm w-100 palette" data-palette="blue-gray">
      </button><button type="button" id="palette-brown" aria-label="Brown"
        class="btn btn-sm w-100 palette" data-palette="brown">
      </button><button type="button" id="palette-cyan" aria-label="Cyan"
        class="btn btn-sm w-100 palette" data-palette="cyan">
      </button><button type="button" id="palette-green" aria-label="Green"
        class="btn btn-sm w-100 palette" data-palette="green">
      </button><button type="button" id="palette-indigo" aria-label="Indigo"
        class="btn btn-sm w-100 palette" data-palette="indigo">
      </button><button type="button" id="palette-orange" aria-label="Orange"
        class="btn btn-sm w-100 palette" data-palette="orange">
      </button><button type="button" id="palette-pink" aria-label="Pink"
        class="btn btn-sm w-100 palette" data-palette="pink">
      </button><button type="button" id="palette-purple" aria-label="Purple"
        class="btn btn-sm w-100 palette" data-palette="purple">
      </button><button type="button" id="palette-red" aria-label="Red"
        class="btn btn-sm w-100 palette" data-palette="red">
      </button><button type="button" id="palette-teal" aria-label="Teal"
        class="btn btn-sm w-100 palette" data-palette="teal">
      </button><button type="button" id="palette-yellow" aria-label="Yellow"
        class="btn btn-sm w-100 palette" data-palette="yellow">
      </button></div>
</section>
<section class="setting actions d-flex justify-content-around mt-auto overflow-auto">
  <a role="button" class="action action-go-back" href="javascript: window.history.back();">
    <span class="action-icon"><i class="fas fa-2x fa-arrow-left"></i></span> Go back
  </a>
  <a role="button" class="action action-reload-page">
    <span class="action-icon"><i class="fas fa-2x fa-redo-alt"></i></span> Reload
  </a>
  <a role="button" class="action action-copy-url">
    <span class="action-icon"><i class="fas fa-2x fa-link"></i></span> Copy URL
  </a><a class="action action-social-share" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasSocialShare"
    aria-controls="offcanvasSocialShare" aria-label="Toggle social share">
    <span class="action-icon"><i class="fas fa-2x fa-share-alt"></i></span> Share
  </a></section>

</div>
</div>

    <div class="collapse navbar-collapse" tabindex="-1" id="navbarSupportedContent" aria-labelledby="navbarSupportedContent">
      <form class="search-bar my-1" action="/search">
  <div class="input-group input-group-sm">
    <span class="btn btn-search disabled position-absolute left-0"><i class="fas fa-fw fa-search"></i></span>
    <input class="form-control rounded-pill" name="q" type="search" aria-label="Search">
  </div>
</form>
      <ul class="navbar-nav ms-auto"><li class="nav-item">
          <a class="nav-link" href="/series/">
            <i class="fas fa-fw fa-columns"></i>Courses
          </a>
        </li><li class="nav-item">
          <a class="nav-link" href="/tools/">
            <i class="fas fa-fw fa-folder"></i>Tools
          </a>
        </li><li class="nav-item">
          <a class="nav-link" href="/categories/">
            <i class="fas fa-fw fa-folder"></i>Categories
          </a>
        </li><li class="nav-item">
          <a class="nav-link" href="/archives/">
            <i class="fas fa-fw fa-file-archive"></i>Archives
          </a>
        </li><li class="nav-item">
          <a class="nav-link" href="/tags/">
            <i class="fas fa-fw fa-tags"></i>Tags
          </a>
        </li><li class="nav-item dropdown">
          <a class="nav-link" id="navbarDropdownSupport" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="fas fa-fw fa-chevron-circle-down"></i>Support
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdownSupport"><li>
              <a class="dropdown-item"
                href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer">
                Repository
              </a>
            </li><li>
              <a class="dropdown-item"
                href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer">
                Discussions
              </a>
            </li><li>
              <a class="dropdown-item"
                href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer">
                Features Request
              </a>
            </li><li><hr class="dropdown-divider"></li><li>
              <a class="dropdown-item"
                href="/faq/">
                FAQs
              </a>
            </li></ul>
        </li></ul>
    </div>
  </div>
</nav>
</header>
<main role="main" class="container" style="line-height:1.7em">
      <div class="row content">
<div class="col-lg-9 col-md-8">
  <div class="container"><nav class="row card component" aria-label="breadcrumb">
  <div class="card-body">
    <ol class="breadcrumb "><li class="breadcrumb-item"><a href="/">Home</a></li><li class="breadcrumb-item"><a href="/blog/">Blogs</a></li><li class="breadcrumb-item active">Tiktok Real Time Recommendation</li></ol>
  </div>
</nav>
<div class="post-panel-wrapper">
  <div class="d-flex flex-column component rounded post-panel">
    
    <a class="action action-panel-toggler" role="button" title="Panel toggler">
      <i class="fas fa-fw fa-chevron-circle-down"></i>
    </a>
    <a id="sidebarToggler" class="action d-none d-lg-block" role="button" title="Sidebar toggler">
  <i class="fas fa-fw fa-expand-alt" data-fa-transform="rotate-45"></i>
</a>

    

    
    
    <a class="action" href="#post-comments" role="button" aria-label="Comments" title="Comments">
  <i class="fas fa-fw fa-comments"></i>
</a>
    <a class="action" href="#postTOC" aria-controls="Table of contents" role="button" title="Table of contents">
  <i class="fas fa-fw fa-list-alt"></i>
</a>
    
  </div>
</div>
<article class="row card component mb-4 post">
  <div class="card-header ">
    <div class="bgcover" style="background-image:url(https://unsplash.it/1920/1080)" alt="Tiktok Real Time Recommendation">
      <div class="bgtrans">
          <h1>Tiktok Real Time Recommendation
</h1>
      </div>
  </div>
</div>
  <div class="card-body"><div class="post-meta">
  <span class="post-date" title="created on 2022-12-01 04:19:00 &#43;0700 &#43;07.">
    Dec 1, 2022
  </span><span class="post-reading-time">
    25 min read
  </span><span class="post-taxonomies"><a href="/tags/machine-learning/" class="badge post-taxonomy">Machine learning</a><a href="/tags/tikok/" class="badge post-taxonomy">Tikok</a><a href="/tags/deep-learning/" class="badge post-taxonomy">Deep learning</a><a href="/tags/bytedance/" class="badge post-taxonomy">ByteDance</a><a href="/tags/recommendation/" class="badge post-taxonomy">Recommendation</a></span>
</div>
<div class="post-content mb-3"><p>Như các bạn đã biết, tiktok hiện nay là một ứng dụng giải trí phổ biến và đứng top 1 trong số lượt tải xuống từ CH play và AppStore. Thành công của tiktok là do họ đã xây dựng khá thành công thuật toán gợi ý video cho người dùng, làm cho người dùng &ldquo;cuốn&rdquo; vào các video họ đề xuất, mà không biết chán. Ngày 27/09/2022, họ đã công bố bài báo có tự đề Monolith: Real Time Recommendation System With Collisionless Embedding Table tại địa chỉ <a href="https://arxiv.org/pdf/2209.07663.pdf" target="_blank" rel="noopener noreferrer">https://arxiv.org/pdf/2209.07663.pdf</a>. Chủ đề này khá nặng về khả năng xây dựng hệ thống để làm sao đạt được mô hình chất lượng với thời gian near-realtime. Để có thể hiểu sâu bài này, các bạn có nên có kiến thức về Recurrent Neural Networks for Recommendations.</p>
<div class="toc">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#phần-dẫn-nhập---chào-đầu">Phần dẫn nhập - Chào đầu</a></li>
    <li><a href="#1-phần-giới-thiệu">1. Phần giới thiệu</a>
      <ul>
        <li><a href="#11-sparsity-và-dynamism">1.1 Sparsity và Dynamism</a></li>
        <li><a href="#12-non-stationary-distribution">1.2 Non-stationary Distribution</a></li>
      </ul>
    </li>
    <li><a href="#2-design-colisionless-hash-table-và-online-training">2. Design colisionless Hash Table và Online Training</a>
      <ul>
        <li><a href="#21-xây-dựng-hash-table">2.1 Xây dựng Hash Table</a></li>
        <li><a href="#22-online-training">2.2 Online training</a>
          <ul>
            <li><a href="#221-streaming-engine">2.2.1 Streaming Engine</a></li>
            <li><a href="#22-2-online-joiner">2.2 .2 Online Joiner</a></li>
          </ul>
        </li>
        <li><a href="#223-parameter-synchronization">2.2.3 Parameter Synchronization</a>
          <ul>
            <li><a href="#23-fault-tolerance">2.3 Fault Tolerance</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#3-đánh-giá----evaluation">3. Đánh giá  - EVALUATION</a>
      <ul>
        <li><a href="#31-thiết-lập-thí-nghiệm">3.1 Thiết lập thí nghiệm</a>
          <ul>
            <li><a href="#311-xây-dựng-embedding-table">3.1.1 Xây dựng embedding table</a></li>
            <li><a href="#312--online-training">3.1.2  Online training</a></li>
          </ul>
        </li>
        <li><a href="#32-kết-quả-và-phân-tích">3.2 Kết quả và phân tích</a>
          <ul>
            <li><a href="#321-hiệu-quả-của-embedding-collision">3.2.1 Hiệu quả của embedding collision</a></li>
            <li><a href="#322-online-training-trading-off-reliability-for-realtime">3.2.2 Online Training: Trading-off Reliability For Realtime.</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#tài-liệu-tham-khảo-của-paper">Tài liệu tham khảo của paper</a></li>
    <li><a href="#tham-khảo">Tham khảo</a></li>
  </ul>
</nav>
  </div>
<h1 id="phần-dẫn-nhập---chào-đầu">Phần dẫn nhập - Chào đầu<a class="anchor ms-1" href="#phần-dẫn-nhập---chào-đầu"><i class="fas fa-link"></i></a></h1>
<p>Các doanh nghiệp có nhu cầu xây dựng real-time recommendation để phục vụ khách hàng tốt hơn.</p>
<p>Các framwork deep-learning được sử dụng trong production thường không đáp ứng được nhu cầu recommend của doanh nghiệp, lý do là:</p>
<ol>
<li>
<p>Tinh chỉnh hệ thống dựa trên các tham số tĩnh và thực hiện nhiều phép tính toán trên feature thưa (sparse) và động (dinamic) làm giảm chất lượng mô hình.</p>
</li>
<li>
<p>Việc training và serving tách bạch nhau, không có online training (model không thể retrain ngay lập tức khi có feedback của người dùng)</p>
</li>
</ol>
<p>Vì những nguyên nhân trên, nhóm tác giả của ByteDance đã thiết kế một mô hình online training mới, đặt tên là Monolith.</p>
<p>Mô hình mới có 2 thành tố mới:</p>
<ul>
<li>
<p>Đề xuất <em>collisionless embedding table</em> với các tối ưu như expirable embeddings và frequency filtering để giảm lượng bộ nhớ tiêu thụ.</p>
</li>
<li>
<p>Đề xuất một mô hình kiến trúc production-ready online training với high fault-tolerance.</p>
</li>
<li>
<p>Cuối cùng, chứng minh rằng độ tin cậy của hệ thống có thể đánh đổi bằng việc học theo thời gian thực.</p>
</li>
</ul>
<h1 id="1-phần-giới-thiệu">1. Phần giới thiệu<a class="anchor ms-1" href="#1-phần-giới-thiệu"><i class="fas fa-link"></i></a></h1>
<p><img class="img-fluid" alt="Hình 1: Monolith Online Training Architecture - Hình ảnh được cắt từ paper" src="/blog/2022-12-01-tiktok-recommendation/images/figure1.png" loading="lazy"  title="Hình 1: Monolith Online Training Architecture - Hình ảnh được cắt từ paper"
  
   />


<strong>&ldquo;Hình 1: Monolith Online Training Architecture - Hình ảnh được cắt từ paper</strong></p>
<p>Data của recommendation khác xa data của language modeling hoặc  computer vision ở 2 khía cạnh:</p>
<ol>
<li>
<p>Hầu hết các đặc trưng rất thưa, có tính phân loại và thay đổi linh hoạt.</p>
</li>
<li>
<p>Phân phối của data là không dừng (non-stationary) , vd Concept Drift. [8]</p>
</li>
</ol>
<h2 id="11-sparsity-và-dynamism">1.1 Sparsity và Dynamism<a class="anchor ms-1" href="#11-sparsity-và-dynamism"><i class="fas fa-link"></i></a></h2>
<p>Nhắc lại, dữ liệu cho  recommendation hầu hết là các đặc trưng category dạng thưa, một vài trong số đó có tầng suất xuất hiện rất thấp. Việc mapping chúng lên không gian đặc trưng cao chiều hơn sẽ gặp các vấn đề:</p>
<ul>
<li>
<p>Không giống như các mô hình ngôn ngữ có số lượng từ hạn chế, data user ranking item thường rất rất lớn. Khả năng cao là 1 máy chủ siêu mạnh hiện nay của các doanh nghiệp không chứa nổi Embedding table trên bộ nhớ chính.</p>
</li>
<li>
<p>Trường hợp tệ nhất,kích thước của Embedding table sẽ tiếp tục tăng theo thời gian do người dùng và sản phẩm mới liên tục được thêm vào hệ thống. Trong khi đó, một số frameword recommendation sử dụng fixed-size dense variables để biểu diễn embedding table. Ví dụ framework [1,17]</p>
</li>
</ul>
<p>Trong thực tế, nhiều thuật toán đã dùng vài &ldquo;mẹo&rdquo;, như xài hashing như bài báo [3] và bài báo [6] , để giảm lượng memory tiêu thụ và cho phép tăng ID. Ý tưởng này dựa trên giả định là ID trong Embedding table phân phối đều và việc collisions thì vô hại. Giả định này không đúng trong hiện thực, khi mà một nhóm nhỏ user hoặc item có tầng suất xuất hiện cao hơn. Với sự tăng trưởng tự nhiên của embedding table, xác suất hash key đụng độ sẽ càng cao, dẫn đến giảm chất lượng mô hình.</p>
<p>Do đó, nhu cầu tự nhiên của một hệ thống gợi ý là có khả năng capture càng nhiều đặc trưng trong chính các tham số của mô hình, và có khả năng điều chỉnh linh hoạt số user và số item mà nó có khả năng lưu giữ.</p>
<h2 id="12-non-stationary-distribution">1.2 Non-stationary Distribution<a class="anchor ms-1" href="#12-non-stationary-distribution"><i class="fas fa-link"></i></a></h2>
<p>Các pattern mới về hình ảnh và ngôn ngữ trong bài toán xử lý ảnh và xử lý ngôn ngữ thường không thay đổi nhiều trong hàng thế kỷ. Trong khi đó, sự quan tâm của người dùng về một chủ đề nào đó có thể thay đổi từng phút một. Kết quả là, phân phối của dữ liệu người dùng là không cố định, và hiện tượng này thường được gọi với tên là Concept Drift.</p>
<p>Thông thường, thông tin lịch sử gần nhất thường có đóng góp hiệu quả nhất cho việc dự đoán việc thay đổi hành vi người dùng. Để giảm thiểu tác động của Concept Drift, các mô hình &ldquo;serving&rdquo; cần phải cập nhật thường xuyên từ những phản hồi của người dùng, càng real-time càng tốt, để phản ánh tốt nhất xu hướng quan tâm của người dùng.</p>
<p>Dựa trên các phân tích trên, nhóm tác giả đã xây dựng nên monolith, có khả năng:</p>
<ol>
<li>
<p>Cung cấp đầy đủ năng lực xử lý cho các đặc trưng thưa bằng cách thiết kế một collisionless hash table và cơ chế loại bỏ các dynamic feature.</p>
</li>
<li>
<p>Đưa thông tin feedback của người dùng vào training realtime với online training</p>
</li>
</ol>
<p>Dựa vào kiến trúc này, mô hình monolith vượt trội hơn so với các hệ thống sử dụng collisions hash table với dung lượng bộ nhớ sử dụng là tương đương nhau</p>
<h1 id="2-design-colisionless-hash-table-và-online-training">2. Design colisionless Hash Table và Online Training<a class="anchor ms-1" href="#2-design-colisionless-hash-table-và-online-training"><i class="fas fa-link"></i></a></h1>
<p><img class="img-fluid" alt="Hình 2: Worker-PS Architecture - Hình ảnh được cắt từ paper" src="/blog/2022-12-01-tiktok-recommendation/images/figure2.png" loading="lazy"  title="Hình 2: Worker-PS Architecture - Hình ảnh được cắt từ paper"
  
   />


<strong>Hình 2: Worker-PS Architecture - Hình ảnh được cắt từ paper</strong></p>
<p>Kiến trúc của Monolith sử dụng TensorFlow’s distributed Worker-ParameterServer (Worker-PS) như hình trên.  Trong mô hình, các máy được phân công với các nhiệm vụ khác nhau. Worker machine chịu trách nhiệm tính toán  theo định nghĩa trước, PS machine lưu trữ các tham số và cập nhật kết quả tham số theo workers.</p>
<p>Trong mô hình recommendation, các tham số được phân loại làm hai nhóm: nhóm dense và nhóm sparse.  Các tham số Dense là các trọng số của mô hình DNN, các tham số sparse tham chiếu tới embedding table tương ứng với các sparse feature. Cả Dense parameter và sparse parameter đều là các phần của TensorFlow Graph, và được lưu trữ trên parameters servers.</p>
<h2 id="21-xây-dựng-hash-table">2.1 Xây dựng Hash Table<a class="anchor ms-1" href="#21-xây-dựng-hash-table"><i class="fas fa-link"></i></a></h2>
<p><img class="img-fluid" alt="Hình 3: Cuckoo HashMap. - Hình ảnh được cắt từ paper" src="/blog/2022-12-01-tiktok-recommendation/images/figure3.png" loading="lazy"  title="Hình 3: Cuckoo HashMap. - Hình ảnh được cắt từ paper"
  
   />


<strong>Hình 3: Cuckoo HashMap. - Hình ảnh được cắt từ paper</strong></p>
<p>Nguyên tắc đầu tiên để xây dựng các tham số biểu diễn tính thưa là tránh thu gọn thông tin từ các IDs khác nhau về cùng một fixed-sze embedding.</p>
<p>Việc xây dựng một embedding table sử dụng TensorFlow Variable sẽ dẫn đến việc đụng độ ID khi số lượng ID mới và table tăng lênh. Do đó, thay vì xây embedding table dựa trên Variable, tác giả đã phát triển một key-value HashTable cho các tham số thưa.</p>
<p>HashTable này sử dụng Cuckoo Hashmap  [16], hỗ trợ việc thêm một key mới mà không đụng độ với key cũ. Cuckoo Hashing trong trường hợp xấu nhất có độ phức tạp O(1) trong việc tìm kiếm và xoá, và O(1) cho việc thêm mới. Như trong hình 3, nó sử dụng hai bảng T0 và T1 với hai hàm hash khác nhau có tên là h0(x) và h1(x), và một phần tử sẽ được lưu trữ trong một trong hai bảng trên. Khi cố gán thêm một phần tử A vào T0, đầu tiên, nó cố gán đặt A vào h0(A). Nếu h0(A) đã hold 1 phần tử B nào đó, nó sẽ xoá B từ T0 và gán B vào T1 với logic tương tự. Quá trình này được lặp đi lặp lại đến khi  ổn định.</p>
<p>Việc giảm bộ nhớ lưu trữ cũng là một yếu tố quang trọng trong thiết kế hệ thống. Một cách tự nhiên, việc mỗi lần thêm 1 phần tử mới vào HashTable sẽ làm cho bộ nhớ nhanh chóng đầy. Có 2 kết luận có thể được rút ra:</p>
<ol>
<li>
<p>Các ID xuất hiện vài lần có đóng góp rất hạn chế đối với việc cải thiện chất lượng mô hình. Các quan sát quan trọng là các quan sát mà các IDs ở dạng long-tail distributed, khi các ID phổ biến có số lần xuất hiện hàng triệu lần, trong khi đó, các ID không phổ biến xuất hiện không quá mười lần. Các ID tầng suất thấp làm mô hình underfit do thiếu data training và model sẽ không có khả năng đưa ra dự đoán tốt dưa trên những thông tin mà chúng cung cấp. Hơn hết, các thông tin của các ID trên thường ít ảnh hưởng đến kết quả của mô hình, do đó, việc xoá đi các ID có tầng suất thấp không ảnh hưởng nhiều đến chất lượng mô hình.</p>
</li>
<li>
<p>Lịch sử từ thời napoleon có đóng góp rất thấp vào mô hình hiện tại. Do người dùng ngừng hoạt động, hoặc là video đã lỗi thời. Việc lưu trữ embedding cho các ID này không giúp ích cho mô hình, ngược lại chúng còn góp phần làm tăng chi phí lưu trữ và chi phí tính toán.</p>
</li>
</ol>
<p>Dựa trên những điều trên, nhóm kỹ sư đề xuất thiết kế ID filtering heuristic để giúp tối ưu hoá bộ nhớ lưu trữ:</p>
<ol>
<li>Các ID được lọc trước khi được đưa vào trong hệ thống embedding table. Có 2 phương pháp lọc</li>
</ol>
<ul>
<li>Lọc theo tầng xuất xuất hiện trước khi ID được thêm vào. Giá trị ngưỡng là siêu tham số và được turning.</li>
<li>Lọc theo xác xuất, giúp cho giảm bộ nhớ tiêu thụ.</li>
</ul>
<ol start="2">
<li>ID được gán thời gian và bị expire sau một khoảng thời gian inactive.</li>
</ol>
<p>HashTable được implement dưới dạng Tensorflow resource operation.</p>
<h2 id="22-online-training">2.2 Online training<a class="anchor ms-1" href="#22-online-training"><i class="fas fa-link"></i></a></h2>
<p>Việc trainnig được chia làm 2 giai đoạn:</p>
<ol>
<li>
<p><em>Giai đoạn Batch training.</em> Giai đoạn này hoạt động như việc training mô hình TF bình thường. Trong mỗi bước training, các worker đọc một mini-batch data training từ storage,  lấy tham số từ PS, tính lan truyền xuôi, lan truyền ngược, và cập nhật tham số vào PS. Dataset được train 1 lần duy nhất.</p>
</li>
<li>
<p><em>Giai đoạn training online.</em> Sau khi model được deploy vào online serving, việc traning không có dừng hẵng, mà chuyển qua giai đoạn online training. Thay vì đọc các mini-batch data từ storage, training worker sẽ lấy realtime data để train và cập nhật lại PS. Training PS sẽ định kỳ cập nhật các tham số vào serving PS.</p>
</li>
</ol>
<h3 id="221-streaming-engine">2.2.1 Streaming Engine<a class="anchor ms-1" href="#221-streaming-engine"><i class="fas fa-link"></i></a></h3>
<p><img class="img-fluid" alt="Hình 4: Streaming Engine. The information feedback loop from [User → Model Server → Training Worker → Model Server → User] would spend a long time when taking the Batch Training path, while the Online Training will close the loop more instantly - Hình ảnh được cắt từ paper" src="/blog/2022-12-01-tiktok-recommendation/images/figure4.png" loading="lazy"  title="Hình 4: Streaming Engine. The information feedback loop from [User → Model Server → Training Worker → Model Server → User] would spend a long time when taking the Batch Training path, while the Online Training will close the loop more instantly - Hình ảnh được cắt từ paper"
  
   />


<strong>Hình 4: Streaming Engine. The information feedback loop from [User → Model Server → Training Worker → Model Server → User] would spend a long time when taking the Batch Training path, while the Online Training will close the loop more instantly - Hình ảnh được cắt từ paper</strong></p>
<p>Hình 4 phía trên mô tả việc chuyển đổi liền mạch giữa batch training và online training.</p>
<p>Mô hình sử dụng Kafka Queue [13] để log lại các hành động của user ( click item, like item, thả tim&hellip;. ) và một Kafka queue khác lưu lại các đặc trưng. Core engine là Flink  [4] stream job cho online feature joiner. Online joiner kết hợp các đặc trưng với nhãn từ user action tạo thành training example, sau đó đẩy vào kafka queue. Queue cho training example được consumer bới online training và batch training.</p>
<ul>
<li>
<p>Với online training, training worker trực tiếp đọc dữ liệu từ kafka Queue.</p>
</li>
<li>
<p>Với batch training, data sẽ được đóng gói vào file HDFS (dump job handle việc này). Sau khi data trong HDFS tích luỹ với số lượng đủ dùng, training worker sẽ load data từ HDFS và thực hiện batch training.</p>
</li>
</ul>
<h3 id="22-2-online-joiner">2.2 .2 Online Joiner<a class="anchor ms-1" href="#22-2-online-joiner"><i class="fas fa-link"></i></a></h3>
<p><img class="img-fluid" alt="Hình 5: : Online Joiner - Hình ảnh được cắt từ paper" src="/blog/2022-12-01-tiktok-recommendation/images/figure5.png" loading="lazy"  title="Hình 5: : Online Joiner - Hình ảnh được cắt từ paper"
  
   />


<strong>Hình 5: : Online Joiner - Hình ảnh được cắt từ paper</strong></p>
<p>Trong ứng dụng thực tế, hành động của user và feature của user được stream vào online joiner mà không đảm bảo thứ tự về thời gian. Do đó, cần phát sinh một unique key cho mỗi request để đảm bảo pair được chúng với nhau.</p>
<p>Việc user bị lag cũng là một vấn đề cần được xem xét. Ví dụ, một user có khả năng mất vài ngày mới ra quyết định mua một sản phẩm mà họ đã xem vài ngày trước đó. Đây là một thách thức thật sự, bởi vì nếu toàn bộ các đặc trưng được lưu trữ trong bộ nhớ chính, thì chúng ta sẽ không đủ bộ nhớ để lưu trữ. Nhóm tác giả đã sử dụng on-disk key-value storage để lưu trữ các đặc trưng của người dùng ở quá khứ. Khi log của người dùng được đẩy vào hệ thống, trước hết nó sẽ được tìm kiếm trong memory cache, trong trường hợp mising cache, nó sẽ tìm trong key-value storage.</p>
<p>Một vấn đề nữa là phân bố mẫu âm và mẫu dương trong data không đồng đều. Trong đó, lượng mẫu dương thường cao hơn rất nhiều so với mẫu âm. Để ngăn chặng thằng mẫu dương thống trị, một chiến lược thường hay được sử dụng là sampling mẫu âm.  Tất nhiên việc này sẽ làm thay đổi phân bố của mô hình huấn luyện. Và sử dụng log odds corection trong quá trình serving [19]</p>
<h2 id="223-parameter-synchronization">2.2.3 Parameter Synchronization<a class="anchor ms-1" href="#223-parameter-synchronization"><i class="fas fa-link"></i></a></h2>
<p>Trong suốt quá trình training, dữ liệu sẽ liên tục đổ về online serving module và cập nhật tham số trên PS. Trong môi trường thật, sẽ có một vài thách thức:</p>
<ol>
<li>
<p>Model trên online serving PS bắt buộc phải hoạt động khi update. Kích thước model khá lớn, và việc update toàn bộ tham số sẽ tốn kha khá thời gian (lưu ý ở đây là không thể thực hiện update từng phần, mà phải update toàn bộ tham số). Nên phải tìm cách thức nào đó để việc update không ảnh hưởng tới việc infer của model.</p>
</li>
<li>
<p>Việc tranfer model có kích thước lớn từ training PS tới online server PS sẽ gây áp lực lớn đến băng thông mạng và bộ nhớ trên PS. Một yêu cầu tối thiểu là bộ nhớ phải có kích thước ít nhất là gấp 2 lần kích thước của model (trên RAM)</p>
</li>
</ol>
<p>Để scale up model cho phù hợp với nghiệp vụ kinh doanh, nhóm tác giả đã thiết kế riêng một cơ chế đồng bộ hoá, dựa trên các quan sát sau:</p>
<ol>
<li>
<p>Các tham số thưa thì thường thống trị kích thước của mô hình gợi ý.</p>
</li>
<li>
<p>Trong một khoảng thời gian ngắn (short range of time window), chỉ một nhóm nhỏ các ID được training, và chỉ những embedding của những ID đó được cập nhật.</p>
</li>
<li>
<p>Các biến Dense tranfer chậm hơn so với spare embeddings. Bởi vì size của Dense variable rất lớn.</p>
</li>
</ol>
<p>Nhận định 1 và 2 ở nhận cho phép chúng ta tránh cập nhật sparse của toàn bộ các đặc trưng của ID. Trong mô hình, các ID chưa được huấn luyện kể từ lần huấn luyện cuối cùng sẽ được đẩy vào touched key. Sau khi training xong, chúng ta sẽ đẩy các sparse parameter trong  touched key vào online serving PS với tần suất tính bằng phút. Gói cập nhật này khá nhỏ (so với toàn bộ ), nên chúng ít sẽ sử dụng băng thông mạng rất thấp, và sẽ không tạo mô hình răng cưa cho bộ nhớ RAM trong quá trình đồng bộ.</p>
<p>Với nhận định (3), chúng ta sẽ giảm I/O mạng và bộ nhớ sử dụng bằng cách đặt lịch đồng bộ hoá dày hơn cho các tham số thưa, trong khi đó sẽ có tầng xuất cập nhật tham số dense ít hơn. Việc này cũng gây ra tình huống là các tham số thưa sẽ mới hơn rất nhiều so với tham số dense, do đó sẽ có mất mát xảy ra. Mất mát này được chấp nhận do nó không quá nghiêm trọng. Trong phần cuối có thí nghiệm về vấn đề này.</p>
<h3 id="23-fault-tolerance">2.3 Fault Tolerance<a class="anchor ms-1" href="#23-fault-tolerance"><i class="fas fa-link"></i></a></h3>
<p>Đối với hệ thống thực, kiến trúc của hệ thống phải đảm bảo khả năng phục hồi trong trường hợp có lỗi xảy ra. Một lựa chọn phổ biến thường được hay dùng là snapshot trạng thái của model định kỳ, và phục hồi dữ liệu từ lần snapshot cuối cùng khi nhận thấy có lỗi. Việc lựa chọn tầng suất snapshot dựa vào hai yếu tố chính:</p>
<ol>
<li>
<p>Chất lượng model. Dĩ nhiên rằng model snapshot ở càng gần phiên bản cuối càng tốt, do đó tầng suất snapshot phải tăng lên.</p>
</li>
<li>
<p>Chi phí sử dụng hệ thống. Việc snapshot một model có kích thước lớn sẽ tốn kha khá cpu và bộ nhớ để copy data, ngoài ra còng tăng disk I/O</p>
</li>
</ol>
<p>Để cân bằng giữa 2 cái trên, Monolith snapshot toàn bộ training PS mỗi ngày. Chúng ta sẽ mất 1 ngày update data khi lỗi xảy ra. Nhưng qua các thử nghiệm của nhóm kỹ sư ByteDance, thì hiệu năng suy giảm vẫn ở mức chấp nhận được.</p>
<h1 id="3-đánh-giá----evaluation">3. Đánh giá  - EVALUATION<a class="anchor ms-1" href="#3-đánh-giá----evaluation"><i class="fas fa-link"></i></a></h1>
<p>Để hiểu hơn về lợi ích và sự đánh đổi của mô hình được đề xuất,chúng ta xây dựng một vài thí nghiệm và A/B testing trên môi trường thực. Mục tiêu là trả lời các câu hỏi sau:</p>
<ol>
<li>
<p>Lợi ích của collisionless hashtable là bao nhiêu?</p>
</li>
<li>
<p>Mức độ quang trọng của realtime training online?</p>
</li>
<li>
<p>Liệu rằng mô hình thiết kế của Monolith với các tham số được đồng bộ như trên đã đủ tốt trong môi trường thực tế?</p>
</li>
</ol>
<h2 id="31-thiết-lập-thí-nghiệm">3.1 Thiết lập thí nghiệm<a class="anchor ms-1" href="#31-thiết-lập-thí-nghiệm"><i class="fas fa-link"></i></a></h2>
<h3 id="311-xây-dựng-embedding-table">3.1.1 Xây dựng embedding table<a class="anchor ms-1" href="#311-xây-dựng-embedding-table"><i class="fas fa-link"></i></a></h3>
<p>Như mô tả ở mục 2.1, embedding table trong monolith là collisionless hashtable. Để chứng minh sự cần thiết của việc tránh đụng độ trong việc thiết kế embedding table và lợi ích nhận được từ phiên bản collisionless mà mô hình đề xuất, chúng ta thực hiện hai nhóm thí nghiệm trên tập Movielens và  trong tập internal production dataset của ByteDance.</p>
<p><img class="img-fluid" alt="Hình 6: DeepFM model architecture - Hình ảnh được cắt từ paper" src="/blog/2022-12-01-tiktok-recommendation/images/figure6.png" loading="lazy"  title="Hình 6: DeepFM model architecture - Hình ảnh được cắt từ paper"
  
   />


<strong>Hình 6: DeepFM model architecture - Hình ảnh được cắt từ paper</strong></p>
<ol>
<li>MovieLens. Là tập dataset chuẩn , mở, bao gồm 25 triệu đánh giá từ xấp xỉ 162000 user và 62000 bộ phim:</li>
</ol>
<ul>
<li>
<p><em>Tiền xử lý label.</em> Label gốc của tập có giá trị từ 0.5 đến 5, trong khi đó, mô hình monolith nhận giá trị binary từ user. Chúng ta sẽ chuyển giá trị từ scale label sang binary label bằng việc đặt ngưỡng &gt;=3.5 là positive sample và bé hơn 3.5 là negative sample</p>
</li>
<li>
<p><em>Đánh giá Model và metrics.</em> Chúng ta sẽ implement DeepFM model, một kiến trúc model phổ biến cho bài toán recommend. Nó bao gồm thành phần FM và thành phần dense (xem kỹ hình 6).Sử dụng AUC để đánh giá giá trị predict.</p>
</li>
<li>
<p><em>Đánh giá Embedding collisions</em>. Dataset này có gần 160k user và 60k movie. Để so sánh, chúng ta sẽ sử dụng MD5 làm quân đỏ và mapping vào một nhóm nhỏ ID space, mục đích là làm cho một vài ID sẽ dùng chung embedding với nhau. Bảng bên dưới sẽ hiển thị chi tiết thống kê của user và movie trước và sau hash</p>
</li>
</ul>
<table>
  <thead>
      <tr>
          <th style="text-align: center">VPB</th>
          <th style="text-align: center">User IDs</th>
          <th style="text-align: center">Movie IDs</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center"># Before Hashing</td>
          <td style="text-align: center">162541</td>
          <td style="text-align: center">59047</td>
      </tr>
      <tr>
          <td style="text-align: center"># After Hashing</td>
          <td style="text-align: center">149970</td>
          <td style="text-align: center">57361</td>
      </tr>
      <tr>
          <td style="text-align: center">Collision rate</td>
          <td style="text-align: center">7.73%</td>
          <td style="text-align: center">2.86%</td>
      </tr>
  </tbody>
</table>
<p>Bảng 1: Thống kê ID trước và sau khi hash</p>
<h3 id="312--online-training">3.1.2  Online training<a class="anchor ms-1" href="#312--online-training"><i class="fas fa-link"></i></a></h3>
<p>Trong quá trình online training, chúng ta sẽ cập nhật tham số từ training PS sang online PS với tần suất theo phút. Chúng ta thiết kế hai nhóm thí nghiệm để đánh giá chất lượng của mô hình và độ tải của hệ thống.</p>
<ol>
<li><em>Update frequency.</em> Để đánh giá sự cần thiết của việc update theo phút, chúng ta xây dựng thí nghiệm với tầng xuất  update khác nhau và xem sự hiệu quả.</li>
</ol>
<p>Chúng ta sử dụng Criteo Display Ads Challenge
dataset (<a href="https://www.kaggle.com/competitions/criteo-display-ad-challenge/data%29" target="_blank" rel="noopener noreferrer">https://www.kaggle.com/competitions/criteo-display-ad-challenge/data)</a>, đây là dataset được sử dụng để benchmarking CTR model. Data bao gồm 7 ngày dữ liệu, ghi nhận feature và hành động click của người dùng. Trong thí nghiệm này, chúng ta xài mô hình DeepFM mô tả trong hình 6.  Để mô phỏng online training, chúng ta sẽ chia tập dữ liệu thành 2 phần. Phần đầu tiên là 5 ngày, dùng để train, phần thứ 2 là 2 ngày còn lại, dùng cho online training. Trong 2 ngày dữ liệu của phần 2, chúng ta sẽ chia thành N shard. Thí nghiệm với N =10, 50, 100, tương ứng 5h (2 ngày = 48 tiếng / 10 = 4.8 tiếng ~ 5 tiếng), 1h ( 48/50 ) và 30 phút cập nhật dữ liệu một lần.</p>
<ol start="2">
<li><em>Live experiment.</em> Thêm nữa, chúng ta sẽ thực hiện thí nghiệm thực thế với real serving traffice để mô phỏng sự quang trọng của online training trong ứng dụng thực. Thí nghiệm A/B testing này so online training (A) vs batch training (B).</li>
</ol>
<h2 id="32-kết-quả-và-phân-tích">3.2 Kết quả và phân tích<a class="anchor ms-1" href="#32-kết-quả-và-phân-tích"><i class="fas fa-link"></i></a></h2>
<h3 id="321-hiệu-quả-của-embedding-collision">3.2.1 Hiệu quả của embedding collision<a class="anchor ms-1" href="#321-hiệu-quả-của-embedding-collision"><i class="fas fa-link"></i></a></h3>
<p><img class="img-fluid" alt="Hình 7: Effect of Embedding Collision On DeepFM, MovieLens" src="/blog/2022-12-01-tiktok-recommendation/images/figure7.png" loading="lazy"  title="Hình 7: Effect of Embedding Collision On DeepFM, MovieLens"
  
   />


<strong>Hình 7: Effect of Embedding Collision On DeepFM, MovieLens</strong></p>
<p>Cả hai kết quả từ MovieLens dataset và Internal recommedation dataset đều chỉ ra rằng  collisions embedding gây tổn hại cho chất lượng của mô hình.</p>
<ol>
<li>Mô hình với collisionless HashTable cho kết quả tốt hơn, luôn có đồ thị nằm ở ngoài so với mô hình collision. Kết luận này luôn luôn đúng, cho dù:</li>
</ol>
<ul>
<li>
<p><em>Tăng số lượng training epoch.</em> Như kết quả ở hình 7. Mô hình  collisionless embedding table có AUC cao hơn ở epoch đầu tiên, và hội tụ với giá trị cao hơn.</p>
</li>
<li>
<p><em>Thay đổi phân phối theo thời gian (Concept Drift).</em> Như hiển thị trong hình 8, mô hình với collisionless embedding table cũng cho kết quả rất tốt trong ngữ cảnh user/items thay đổi.</p>
</li>
</ul>
<ol start="2">
<li>Tính thưa của data được sinh ra bởi collisionless embedding table sẽ không làm cho mô hình bị overfit. Như kết quả ở hình 7, mô hình không bị overfit sau khi nó đã hội tụ</li>
</ol>
<h3 id="322-online-training-trading-off-reliability-for-realtime">3.2.2 Online Training: Trading-off Reliability For Realtime.<a class="anchor ms-1" href="#322-online-training-trading-off-reliability-for-realtime"><i class="fas fa-link"></i></a></h3>
<p><img class="img-fluid" alt="Hình 8: Effect of Embedding Collision On A Recommendation Model In Production." src="/blog/2022-12-01-tiktok-recommendation/images/figure8.png" loading="lazy"  title="Hình 8: Effect of Embedding Collision On A Recommendation Model In Production."
  
   />


<strong>Hình 8: Effect of Embedding Collision On A Recommendation Model In Production.</strong></p>
<p>Chúng ta khám phá ra rằng việc đồng bộ các tham số với tầng suất cao thì luôn luôn cải tiến online serving AUC, và mô hình tốt hơn so với kỳ vọng.</p>
<ol>
<li><em>The Effect of Parameter Synchronization Frequency.</em> Trong thí nghiệm về online stream training với  Criteo Display Ads Challenge dataset, chất lượng model sẽ tốt hơn nếu tăng tầng suất đồng bộ hoá mô hình, chứng minh bằng hai khía cạnh sau:</li>
</ol>
<ul>
<li>
<p>Model có online training sẽ tốt hơn so với mô hình không có online training. Xem hình 9</p>
</li>
<li>
<p>Model có tần suất cập nhật cao sẽ tốt hơn so với mô hình có tuần suất cập nhật thấp. Xem hình 10 và bảng 2</p>
</li>
</ul>
<p><img class="img-fluid" alt="Hình 9: : Online training v.s. Batch training on Criteo dataset. Blue lines: AUC of models with online training; Yellow lines: AUC of batch training models evaluated against streaming data." src="/blog/2022-12-01-tiktok-recommendation/images/figure9.png" loading="lazy"  title="Hình 9: : Online training v.s. Batch training on Criteo dataset. Blue lines: AUC of models with online training; Yellow lines: AUC of batch training models evaluated against streaming data."
  
   />


<strong>Hình 9: : Online training v.s. Batch training on Criteo dataset. Blue lines: AUC of models with online training; Yellow lines: AUC of batch training models evaluated against streaming data.</strong></p>
<table>
  <thead>
      <tr>
          <th style="text-align: center">Sync Interval</th>
          <th style="text-align: center">Average AUC (online)</th>
          <th style="text-align: center">Average AUC (batch)</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center">5 hr</td>
          <td style="text-align: center">79.66 ± 0.020</td>
          <td style="text-align: center">79.42 ± 0.026</td>
      </tr>
      <tr>
          <td style="text-align: center">1 hr</td>
          <td style="text-align: center">79.78 ± 0.005</td>
          <td style="text-align: center">79.44 ± 0.030</td>
      </tr>
      <tr>
          <td style="text-align: center">30 min</td>
          <td style="text-align: center">79.80 ± 0.008</td>
          <td style="text-align: center">79.43 ± 0.025</td>
      </tr>
  </tbody>
</table>
<p>Bảng 2: Average AUC comparison for DeepFM model on
Criteo dataset</p>
<p><img class="img-fluid" alt="Hình 10: Comparison of different sync intervals for online training." src="/blog/2022-12-01-tiktok-recommendation/images/figure10.png" loading="lazy"  title="Hình 10: Comparison of different sync intervals for online training."
  
   />


<strong>Hình 10: Comparison of different sync intervals for online training.</strong></p>
<p>Bên cạnh các quan sát này, chúng ta thực hiện đồng bộ sparse parameter vào serving PS với tầng suất càng sớm càng tốt (theo phút) để mở rộng khả năng tính toán và độ tin cậy của hệ thống.</p>
<p>Giả sử rằng các dense parameter yêu cầu  tầng suất cập nhật ít hơn như thảo luận ở mục 2.2.3, chúng ta sẽ cập nhật chúng ở mức ngày, và xác xuất hệ thống bị quá tải sẽ rất thấp. Ví dụ chúng ta có 100k ID được cập nhật trong 1 phút, embedding có kích thước 1024, tổng kích thước của data cần để chuyển 4KB x 100000 = 40000 MB một phút. Với dense parameter, nếu chúng ta thực hiện daily sync, chúng ta sẽ chọn thời điểm sync mà traffice là thấp nhất ( gần sáng chẳng hạn)</p>
<ol start="2">
<li><em>The effect of PS reliability</em></li>
</ol>
<p>Với việc đồng bộ hoá các tham số ở mức phút, chúng ta tự nhiên suy nghĩ trong đầu rằng tầng suất snapshot cũng nên phải tương đương như vậy. Tuy nhiên trong thực tế, khi chúng ta sử dụng snapshot với tầng suất 1 ngày delay, chất lượng mô hình cũng không giảm quá nhiều.</p>
<p>Việc tìm kiếm điểm cân bằng giữa chất lượng mô hình và năng lực tính toán là rất khó trong bành toán personalized ranking. Khi user cực kỳ nhạy cảm với chất lượng recommendation. Theo truyền thống, các hệ thống lớn thường có xu hướng đặt tầng xuất retrain theo hướng hi sinh năng lực tính toán (chạy ì ạch, lâu cũng được)  và đánh đổi bởi cực tiểu hoá độ lỗi.</p>
<p>Ví dụ với tỷ lệ lỗi 0.01 của PS machine / day, chúng ta sẽ snapshot lại tham số của ngày hôm trước, Giả sử dúng ta sharding parameter vào 1000PS, chúng snapshot mỗi ngày.  Tỷ lệ lỗi 0.01%, mỗi một máy sẽ bị lỗi sau 10 ngày , và chúng ta sẽ mất toàn bộ data của 1 ngày cập nhật. Giả sử DAU của 10 triệu và chúng ta mất 1 ngày dữ liệu của 5k user mỗi 10 ngày. Điều này có thể được chấp nhận bởi vì</p>
<p>a. Với các đặc trưng thưa của user, nó  tương đương với tỷ lệ mất 0.01% DAU</p>
<p>b. Với các đặc trưng Dense, chúng ta cập nhật khá chậm, như thảo luận ở mục 2.2.3, việc mất 1 ngày update của 1000 PS là không đáng kể.</p>
<p>Qua những quan sát và tính toán ở trên, chúng ta có thể kết luận rằng tầng xuất snapshot thấp không ảnh hưởng nhiều đến khả năng chịu lỗi, và giảm khả năng xử lý của hệ thống.</p>
<p>Cảm ơn nhóm kỹ sư ByteDance đã cung cấp rất nhiều thông tin hữu ích trong bài viết. Hi vọng lần sau sẽ đọc được nhiều bài chất lượng hơn thế nữa.</p>
<h1 id="tài-liệu-tham-khảo-của-paper">Tài liệu tham khảo của paper<a class="anchor ms-1" href="#tài-liệu-tham-khảo-của-paper"><i class="fas fa-link"></i></a></h1>
<p>[1] &ldquo;Martín Abadi, Paul Barham, Jianmin Chen, Z. Chen, Andy Davis, Jeffrey Dean, Matthieu Devin, Sanjay Ghemawat, Geoffrey Irving, Michael Isard, Manjunath Kudlur, Josh Levenberg, Rajat Monga, Sherry Moore, Derek Gordon Murray, Benoit Steiner, Paul A. Tucker, Vijay Vasudevan, Pete Warden, Martin Wicke, Yuan Yu, and Xiaoqiang Zhang. 2016. TensorFlow: A system for large-scale machine learning. ArXiv abs/1605.08695 (2016).&rdquo;</p>
<p>[2] Andrew P. Bradley. 1997. The use of the area under the ROC curve in the evaluation of machine learning algorithms. Pattern Recognit. 30 (1997), 1145–1159.</p>
<p>[3] Thomas Bredillet. 2019. Core modeling at Instagram. https://instagramengineering.com/core-modeling-at-instagram-a51e0158aa48</p>
<p>[4] Paris Carbone, Asterios Katsifodimos, Stephan Ewen, Volker Markl, Seif Haridi, and Kostas Tzoumas. 2015. Apache Flink™: Stream and Batch Processing in a Single Engine. IEEE Data Eng. Bull. 38 (2015), 28–38.</p>
<p>[5] Heng-Tze Cheng, Levent Koc, Jeremiah Harmsen, Tal Shaked, Tushar Chandra, Hrishikesh B. Aradhye, Glen Anderson, Gregory S. Corrado, Wei Chai, Mustafa Ispir, Rohan Anil, Zakaria Haque, Lichan Hong, Vihan Jain, Xiaobing Liu, and Hemal Shah. 2016. Wide &amp; Deep Learning for Recommender Systems. Proceedings of the 1st Workshop on Deep Learning for Recommender Systems (2016).</p>
<p>[6] Paul Covington, Jay K. Adams, and Emre Sargin. 2016. Deep Neural Networks for YouTube Recommendations. Proceedings of the 10th ACM Conference on Recommender Systems (2016).</p>
<p>[7] Alexandra Egg. 2021. Online Learning for Recommendations at Grubhub. Fifteenth ACM Conference on Recommender Systems (2021).</p>
<p>[8] João Gama, Indre Žliobait ˙ e, Albert Bifet, Mykola Pechenizkiy, and A. Bouchachia. 2014. A survey on concept drift adaptation. ACM Computing Surveys (CSUR) 46 (2014), 1 – 37.</p>
<p>[9] Huifeng Guo, Ruiming Tang, Yunming Ye, Zhenguo Li, and Xiuqiang He. 2017.
DeepFM: A Factorization-Machine based Neural Network for CTR Prediction. In
IJCAI.</p>
<p>[10] Udit Gupta, Xiaodong Wang, Maxim Naumov, Carole-Jean Wu, Brandon Reagen, David M. Brooks, Bradford Cottel, Kim M. Hazelwood, Bill Jia, Hsien-Hsin S. Lee, Andrey Malevich, Dheevatsa Mudigere, Mikhail Smelyanskiy, Liang Xiong, and Xuan Zhang. 2020. The Architectural Implications of Facebook’s DNN-Based Personalized Recommendation. 2020 IEEE International Symposium on High Performance Computer Architecture (HPCA) (2020), 488–501.</p>
<p>[11] F. Maxwell Harper and Joseph A. Konstan. 2015. The MovieLens Datasets: History and Context. ACM Trans. Interact. Intell. Syst. 5 (2015), 19:1–19:19.</p>
<p>[12] Biye Jiang, Chao Deng, Huimin Yi, Zelin Hu, Guorui Zhou, Yang Zheng, Sui Huang, Xinyang Guo, Dongyue Wang, Yue Song, Liqin Zhao, Zhi Wang, PengSun, Yu Zhang, Di Zhang, Jinhui Li, Jian Xu, Xiaoqiang Zhu, and Kun Gai. 2019 XDL: an industrial deep learning framework for high-dimensional sparse data. Proceedings of the 1st International Workshop on Deep Learning Practice for HighDimensional Sparse Data (2019).</p>
<p>[13] Jay Kreps. 2011. Kafka : a Distributed Messaging System for Log Processing.</p>
<p>[14] Xiangru Lian, Binhang Yuan, Xuefeng Zhu, Yulong Wang, Yongjun He, Honghuan Wu, Lei Sun, Haodong Lyu, Chengjun Liu, Xing Dong, Yiqiao Liao, Mingnan Luo, Congfei Zhang, Jingru Xie, Haonan Li, Lei Chen, Renjie Huang, Jianying Lin, Chengchun Shu, Xue-Bo Qiu, Zhishan Liu, Dongying Kong, Lei Yuan, Haibo Yu, Sen Yang, Ce Zhang, and Ji Liu. 2021. Persia: An Open, Hybrid System Scaling Deep Learning-based Recommenders up to 100 Trillion Parameters. ArXivabs/2111.05897 (2021).</p>
<p>[15] Meituan. 2021. Distributed Training Optimization for TensorFlow in Recommender Systems (in Chinese). <a href="https://tech.meituan.com/202112/09/meituantensorflow-in-recommender-systems.html" target="_blank" rel="noopener noreferrer">https://tech.meituan.com/202112/09/meituantensorflow-in-recommender-systems.html</a></p>
<p>[16] R. Pagh and Flemming Friche Rodler. 2001. Cuckoo Hashing. In ESA.</p>
<p>[17] Adam Paszke, Sam Gross, Francisco Massa, Adam Lerer, James Bradbury, Gregory Chanan, Trevor Killeen, Zeming Lin, Natalia Gimelshein, Luca Antiga, Alban Desmaison, Andreas Köpf, Edward Yang, Zach DeVito, Martin Raison, Alykhan Tejani, Sasank Chilamkurthy, Benoit Steiner, Lu Fang, Junjie Bai, and Soumith Chintala. 2019. PyTorch: An Imperative Style, High-Performance Deep Learning Library. In NeurIPS.</p>
<p>[18] Konstantin V. Shvachko, Hairong Kuang, Sanjay R. Radia, and Robert J. Chansler. 2010. The Hadoop Distributed File System. 2010 IEEE 26th Symposium on Mass Storage Systems and Technologies (MSST) (2010), 1–10.</p>
<p>[19] HaiYing Wang, Aonan Zhang, and Chong Wang. 2021. Nonuniform Negative Sampling and Log Odds Correction with Rare Events Data. In Advances in Neural Information Processing Systems.</p>
<p>[20] Minhui Xie, Kai Ren, Youyou Lu, Guangxu Yang, Qingxing Xu, Bihai Wu, Jiazhen Lin, Hongbo Ao, Wanhong Xu, and Jiwu Shu. 2020. Kraken: Memory-Efficient Continual Learning for Large-Scale Real-Time Recommendations. SC20: International Conference for High Performance Computing, Networking, Storage and Analysis (2020), 1–17.</p>
<p>[21] Weijie Zhao, Jingyuan Zhang, Deping Xie, Yulei Qian, Ronglai Jia, and Ping Li.2019. AIBox: CTR Prediction Model Training on a Single Node. Proceedings of the 28th ACM International Conference on Information and Knowledge Management (2019).</p>
<h1 id="tham-khảo">Tham khảo<a class="anchor ms-1" href="#tham-khảo"><i class="fas fa-link"></i></a></h1>
<p><a href="https://arxiv.org/pdf/2209.07663.pdf" target="_blank" rel="noopener noreferrer">https://arxiv.org/pdf/2209.07663.pdf</a></p>
<p>Cảm ơn các bạn đã dành thời gian đọc bài tóm tắt này của mình. Nếu có bất kỳ vấn đề gì, hãy để lại comment bên dưới hoặc email cho mình qua địa chỉ <a href="mailto:alexblack2202@gmail.com">alexblack2202@gmail.com</a>. Hẹn gặp lại các bạn ở bài viết tiếp theo.</p>
</div></div>
  <div class="card-footer"><div class="post-navs d-flex justify-content-evenly"><div class="post-nav post-prev">
    <i class="fas fa-fw fa-chevron-left"></i>
    <a href="/blog/2022-08-02-data-exploration-and-data-visualization/">Data Visualization - Phần 1 - Phân Tích Dữ Liệu Netflix
</a>
  </div><div class="post-nav post-next">
    <a href="/blog/2022-12-03-marketing-with-python/">Marketing Thực Chiến - Phân Loại Khách Hàng Sử Dụng RFM Analysis
</a>
    <i class="fas fa-fw fa-chevron-right"></i>
  </div></div></div>
</article><div class="card component row post-comments" id="post-comments">
  <div class="card-header">
    <h2 class="card-title">Comments</h2>
  </div>
  <div class="card-body"><script src="https://utteranc.es/client.js"
  repo="AlexBlack2202/utterances"
  issue-term="pathname"
  label="comment"
  theme="github-dark"
  crossorigin="anonymous"
  async>
</script></div>
</div></div>
</div><aside class="col-lg-3 col-md-4 sidebar d-flex">
  <div class="container d-flex flex-column">
    
    <div class="post-toc row mb-4 card component" id="postTOC">
  <div class="card-header">
    <h2 class="card-title">Contents</h2>
  </div>
  <div class="card-body">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#phần-dẫn-nhập---chào-đầu">Phần dẫn nhập - Chào đầu</a></li>
    <li><a href="#1-phần-giới-thiệu">1. Phần giới thiệu</a>
      <ul>
        <li><a href="#11-sparsity-và-dynamism">1.1 Sparsity và Dynamism</a></li>
        <li><a href="#12-non-stationary-distribution">1.2 Non-stationary Distribution</a></li>
      </ul>
    </li>
    <li><a href="#2-design-colisionless-hash-table-và-online-training">2. Design colisionless Hash Table và Online Training</a>
      <ul>
        <li><a href="#21-xây-dựng-hash-table">2.1 Xây dựng Hash Table</a></li>
        <li><a href="#22-online-training">2.2 Online training</a>
          <ul>
            <li><a href="#221-streaming-engine">2.2.1 Streaming Engine</a></li>
            <li><a href="#22-2-online-joiner">2.2 .2 Online Joiner</a></li>
          </ul>
        </li>
        <li><a href="#223-parameter-synchronization">2.2.3 Parameter Synchronization</a>
          <ul>
            <li><a href="#23-fault-tolerance">2.3 Fault Tolerance</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#3-đánh-giá----evaluation">3. Đánh giá  - EVALUATION</a>
      <ul>
        <li><a href="#31-thiết-lập-thí-nghiệm">3.1 Thiết lập thí nghiệm</a>
          <ul>
            <li><a href="#311-xây-dựng-embedding-table">3.1.1 Xây dựng embedding table</a></li>
            <li><a href="#312--online-training">3.1.2  Online training</a></li>
          </ul>
        </li>
        <li><a href="#32-kết-quả-và-phân-tích">3.2 Kết quả và phân tích</a>
          <ul>
            <li><a href="#321-hiệu-quả-của-embedding-collision">3.2.1 Hiệu quả của embedding collision</a></li>
            <li><a href="#322-online-training-trading-off-reliability-for-realtime">3.2.2 Online Training: Trading-off Reliability For Realtime.</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#tài-liệu-tham-khảo-của-paper">Tài liệu tham khảo của paper</a></li>
    <li><a href="#tham-khảo">Tham khảo</a></li>
  </ul>
</nav>
  </div>
</div><section class="recent-posts row card component">
  <div class="card-header">
    <h2 class="card-title">Recent Posts</h2>
  </div>
  <div class="card-body">
    <ul class="post-list"><li>
        <a href="/blog/2025-04-28-structured-prompt-outputs/">Machine Learning - Sử Dụng Structured Prompt Outputs Để Tối Ưu Hóa Kết Quả Từ LLMs
</a>
      </li><li>
        <a href="/blog/2025-04-26-phishing-email/">Machine Learning - Train Mô Hình Nhận Dạng Email Lừa Đảo
</a>
      </li><li>
        <a href="/blog/2025-04-26-how-brands-grow/">Khám Phá Bí Mật Đằng Sau Sự Thành Công Của Các Thương Hiệu
</a>
      </li><li>
        <a href="/blog/2025-04-20-ai-viet-truyen-tuyet-giac-truc-lam/">Tuyết Giác Trúc Lâm - Truyện AI
</a>
      </li><li>
        <a href="/blog/2025-04-11-hash-equilibrium/">Cân Bằng Nash - Nash Equilibrium
</a>
      </li></ul>
  </div>
</section><section class="series-taxonomies row card component">
      <div class="card-header">
        <h2 class="card-title">
          <a href="/series">series</a>
        </h2>
      </div>
      <div class="card-body">
        <div class="py-2"><a href="/series/kh%C3%B3a-h%E1%BB%8Dc-python-c%C4%83n-b%E1%BA%A3n/" class="badge rounded post-taxonomy" title="Khóa Học Python Căn Bản">
            Khóa Học Python Căn Bản<span class="badge badge-sm text-white bg-accent ms-1">5</span></a><a href="/series/kh%C3%B3a-h%E1%BB%8Dc-c&#43;&#43;-c%C4%83n-b%E1%BA%A3n/" class="badge rounded post-taxonomy" title="Khóa Học C&#43;&#43; Căn Bản">
            Khóa Học C&#43;&#43; Căn Bản<span class="badge badge-sm text-white bg-accent ms-1">3</span></a><a href="/series/machine-learning-dataset/" class="badge rounded post-taxonomy" title="Machine Learning Dataset">
            Machine Learning Dataset<span class="badge badge-sm text-white bg-accent ms-1">2</span></a><a href="/series/ch%E1%BB%A9ng-kho%C3%A1n-c%C4%83n-b%E1%BA%A3n/" class="badge rounded post-taxonomy" title="Chứng Khoán Căn Bản">
            Chứng Khoán Căn Bản<span class="badge badge-sm text-white bg-accent ms-1">1</span></a></div>
      </div>
    </section><section class="tools-taxonomies row card component">
      <div class="card-header">
        <h2 class="card-title">
          <a href="/tools">tools</a>
        </h2>
      </div>
      <div class="card-body">
        <div class="py-2"><a href="/tools/tool-random/" class="badge rounded post-taxonomy" title="Tool Random">
            Tool Random<span class="badge badge-sm text-white bg-accent ms-1">2</span></a></div>
      </div>
    </section><section class="categories-taxonomies row card component">
      <div class="card-header">
        <h2 class="card-title">
          <a href="/categories">categories</a>
        </h2>
      </div>
      <div class="card-body">
        <div class="py-2"><a href="/categories/python/" class="badge rounded post-taxonomy" title="Python">
            Python<span class="badge badge-sm text-white bg-accent ms-1">5</span></a><a href="/categories/c&#43;&#43;/" class="badge rounded post-taxonomy" title="C&#43;&#43;">
            C&#43;&#43;<span class="badge badge-sm text-white bg-accent ms-1">3</span></a><a href="/categories/dataset/" class="badge rounded post-taxonomy" title="Dataset">
            Dataset<span class="badge badge-sm text-white bg-accent ms-1">2</span></a></div>
      </div>
    </section><section class="tags-taxonomies row card component">
      <div class="card-header">
        <h2 class="card-title">
          <a href="/tags">tags</a>
        </h2>
      </div>
      <div class="card-body">
        <div class="py-2"><a href="/tags/machine-learning/" class="badge rounded post-taxonomy" title="Machine Learning">
            Machine Learning<span class="badge badge-sm text-white bg-accent ms-1">45</span></a><a href="/tags/deep-learning/" class="badge rounded post-taxonomy" title="Deep Learning">
            Deep Learning<span class="badge badge-sm text-white bg-accent ms-1">21</span></a><a href="/tags/deeplearning/" class="badge rounded post-taxonomy" title="DeepLearning">
            DeepLearning<span class="badge badge-sm text-white bg-accent ms-1">21</span></a><a href="/tags/python/" class="badge rounded post-taxonomy" title="Python">
            Python<span class="badge badge-sm text-white bg-accent ms-1">11</span></a><a href="/tags/opencv/" class="badge rounded post-taxonomy" title="Opencv">
            Opencv<span class="badge badge-sm text-white bg-accent ms-1">5</span></a><a href="/tags/c&#43;&#43;/" class="badge rounded post-taxonomy" title="C&#43;&#43;">
            C&#43;&#43;<span class="badge badge-sm text-white bg-accent ms-1">4</span></a><a href="/tags/marketing/" class="badge rounded post-taxonomy" title="Marketing">
            Marketing<span class="badge badge-sm text-white bg-accent ms-1">4</span></a><a href="/tags/normalization/" class="badge rounded post-taxonomy" title="Normalization">
            Normalization<span class="badge badge-sm text-white bg-accent ms-1">4</span></a><a href="/tags/object-detector/" class="badge rounded post-taxonomy" title="Object Detector">
            Object Detector<span class="badge badge-sm text-white bg-accent ms-1">4</span></a><a href="/tags/recommendation/" class="badge rounded post-taxonomy" title="Recommendation">
            Recommendation<span class="badge badge-sm text-white bg-accent ms-1">4</span></a></div>
      </div>
    </section>
    
  </div>
</aside>
</div>
    </main><footer class="footer mt-auto py-3 text-center container"><ul class="nav justify-content-between footer-memu mb-3"><li class="nav-item"><ul class="nav flex-column align-items-start">
      <li class="nav-item">
        <a class="nav-link fw-bold" target="_blank" rel="noopener noreferrer">Support
</a>
      </li><li class="nav-item">
            <a class="nav-link" href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer"><i class="fab fa-fw fa-github"></i>Repository
</a>
        </li><li class="nav-item">
            <a class="nav-link" href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer"><i class="fas fa-fw fa-comments"></i>Discussions
</a>
        </li><li class="nav-item">
            <a class="nav-link" href="/contact/"><i class="fas fa-fw fa-info-circle"></i>Contact Us
</a>
        </li><li class="nav-item">
            <a class="nav-link" href="/faq/"><i class="fas fa-fw fa-question-circle"></i>FAQs
</a>
        </li></ul></li><li class="nav-item"><ul class="nav flex-column align-items-start">
      <li class="nav-item">
        <a class="nav-link fw-bold" target="_blank" rel="noopener noreferrer">Docs
</a>
      </li><li class="nav-item">
            <a class="nav-link" href="/team_of_services" target="_blank" rel="noopener noreferrer"><i class="fas fa-fw fa-users"></i>Điều khoản sử dụng
</a>
        </li><li class="nav-item">
            <a class="nav-link" href="/privacy" target="_blank" rel="noopener noreferrer"><i class="fas fa-fw fa-lock"></i>Chính sách bảo mật
</a>
        </li></ul></li><li class="nav-item"><ul class="nav flex-column align-items-start">
      <li class="nav-item">
        <a class="nav-link fw-bold" target="_blank" rel="noopener noreferrer">Features
</a>
      </li><li class="nav-item">
            <a class="nav-link" href="https://www.phamduytung.com/utils/gen_paswords/" target="_blank" rel="noopener noreferrer"><i class="fas fa-fw fa-paw"></i>Tạo password ngẫu nhiên
</a>
        </li></ul></li><li class="nav-item"><ul class="nav flex-column align-items-start">
      <li class="nav-item">
        <a class="nav-link fw-bold" target="_blank" rel="noopener noreferrer">Liên kết khác
</a>
      </li><li class="nav-item">
            <a class="nav-link" href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer">Netlify
</a>
        </li><li class="nav-item">
            <a class="nav-link" href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer">facebook
</a>
        </li></ul></li></ul>
<div class="copyright mb-2">
  Copyright © 2016-2025 Phạm Duy Tùng. All Rights Reserved.
</div>
<div class="powered-by mb-2">
  Website chia sẻ kiến thức của Phạm Duy Tùng và Đặng Thị Hằng. Vui lòng liên hệ email alexblack2202@gmail.com nếu bạn có thông tin cần trao đổi.
</div></footer>
<script src="/js/main.ed2053ad82a243b263761567b5c1aaf974487aa84adacb89ae3ddf803ecc248a.js" integrity="sha256-7SBTrYKiQ7JjdhVntcGq&#43;XRIeqhK2suJrj3fgD7MJIo=" crossorigin="anonymous" defer></script><script src="/js/icons.min.8ff200851002b8138e6b35314683092e02edc155465d9dbfb7d115460f8f1fbe.js" integrity="sha256-j/IAhRACuBOOazUxRoMJLgLtwVVGXZ2/t9EVRg&#43;PH74=" crossorigin="anonymous" defer></script>
<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('\/service-worker.js').then(function(reg) {
      console.log('Successfully registered service worker', reg);
    }).catch(function(err) {
      console.warn('Error whilst registering service worker', err);
    });
  });
}
</script><script src="/js/viewer.min.ec58d2aa1a8916addf393be975fdf0070e8c872b0caef1673cb9f7eea067ce57.js" integrity="sha256-7FjSqhqJFq3fOTvpdf3wBw6MhysMrvFnPLn37qBnzlc=" crossorigin="anonymous" defer></script><script defer src="/js/katex.min.d5052035160facae59b60000106771baf2eb7671123813d21f1097a5a9218b6e.js" integrity="sha256-1QUgNRYPrK5ZtgAAEGdxuvLrdnESOBPSHxCXpakhi24=" crossorigin="anonymous"></script>

<script  data-ad-client="ca-pub-4644989745435991"  async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4644989745435991"
     crossorigin="anonymous"></script><script data-cfasync="false" type="text/javascript" data-adel="atag" src="//acscdn.com/script/atg.js" czid="eul3gyjdmm"></script>
  </body>
</html>
