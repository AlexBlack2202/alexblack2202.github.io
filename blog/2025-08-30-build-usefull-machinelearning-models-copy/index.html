<!doctype html><html lang="en" data-palette="blue"
   data-mode="dark">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>PostgreSQL 18 - Phạm Duy Tùng Machine Learning Blog</title>
    <meta name="a.validate.02" content="1QZXZ8oi7g57H-GxBrBPkTYBydwii-Ic9iJu" /><link rel="apple-touch-icon" href="/images/icons/icon-180x180.png" sizes="180x180">
<link rel="icon" href="/images/icons/icon-32x32.png" sizes="32x32" type="image/png">
<link rel="icon" href="/images/icons/icon-16x16.png" sizes="16x16" type="image/png">
<link rel="icon" href="/images/icons/favicon.ico">
<link rel="manifest" href="/manifest.json">
<meta name="keywords" content="" />
<meta name="description" content="Kể từ ngay từ những năm ngồi trên ghế nhà trường, mình đã tiếp xúc với csdl PostgreSQL, thay cho mysql. Combo PostgreSQL &#43; JAVA , lúc đó cũng cũng hơi khó khăn xíu. Giờ đi làm, hơn chục năm, vẫn xài PostgreSQL như là một default RDBMS database. Theo dự kiến từ trang chủ , PostgreSQL sẽ được release vào ngày 25/09/2025, với rất nhiều tính năng nổi bật." /><meta name="robots" content="index, follow" />
  <meta itemprop="name" content="PostgreSQL 18">
  <meta itemprop="description" content="Kể từ ngay từ những năm ngồi trên ghế nhà trường, mình đã tiếp xúc với csdl PostgreSQL, thay cho mysql. Combo PostgreSQL &#43; JAVA , lúc đó cũng cũng hơi khó khăn xíu. Giờ đi làm, hơn chục năm, vẫn xài PostgreSQL như là một default RDBMS database. Theo dự kiến từ trang chủ , PostgreSQL sẽ được release vào ngày 25/09/2025, với rất nhiều tính năng nổi bật.">
  <meta itemprop="datePublished" content="2025-09-13T00:10:00+04:00">
  <meta itemprop="dateModified" content="2025-09-13T00:10:00+04:00">
  <meta itemprop="wordCount" content="1140">
  <meta itemprop="image" content="https://unsplash.it/1920/1080?image=6">
  <meta itemprop="keywords" content="Machine Learning"><meta property="og:url" content="/blog/2025-08-30-build-usefull-machinelearning-models-copy/">
  <meta property="og:site_name" content="Phạm Duy Tùng Machine Learning Blog">
  <meta property="og:title" content="PostgreSQL 18">
  <meta property="og:description" content="Kể từ ngay từ những năm ngồi trên ghế nhà trường, mình đã tiếp xúc với csdl PostgreSQL, thay cho mysql. Combo PostgreSQL &#43; JAVA , lúc đó cũng cũng hơi khó khăn xíu. Giờ đi làm, hơn chục năm, vẫn xài PostgreSQL như là một default RDBMS database. Theo dự kiến từ trang chủ , PostgreSQL sẽ được release vào ngày 25/09/2025, với rất nhiều tính năng nổi bật.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="blog">
    <meta property="article:published_time" content="2025-09-13T00:10:00+04:00">
    <meta property="article:modified_time" content="2025-09-13T00:10:00+04:00">
    <meta property="article:tag" content="Machine Learning">
    <meta property="og:image" content="https://unsplash.it/1920/1080?image=6">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://unsplash.it/1920/1080?image=6">
  <meta name="twitter:title" content="PostgreSQL 18">
  <meta name="twitter:description" content="Kể từ ngay từ những năm ngồi trên ghế nhà trường, mình đã tiếp xúc với csdl PostgreSQL, thay cho mysql. Combo PostgreSQL &#43; JAVA , lúc đó cũng cũng hơi khó khăn xíu. Giờ đi làm, hơn chục năm, vẫn xài PostgreSQL như là một default RDBMS database. Theo dự kiến từ trang chủ , PostgreSQL sẽ được release vào ngày 25/09/2025, với rất nhiều tính năng nổi bật.">
<link rel="stylesheet" href="/css/main.min.c06cf34535ee1f60ba08893b4d57e76b2bbd5e11c17ab12ef976f02983a51b54.css" integrity="sha256-wGzzRTXuH2C6CIk7TVfnayu9XhHBerEu&#43;XbwKYOlG1Q=" crossorigin="anonymous"><link rel="stylesheet" href="/css/katex.min.d080a89e03e1eb850f547d835c186b4273f69879aa497eb8b0e88c1578bf1f0b.css" integrity="sha256-0ICongPh64UPVH2DXBhrQnP2mHmqSX64sOiMFXi/Hws=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/viewer.min.3d228794bcedbbfa0412beb8fbc1ec6973202945e42af7004f742a4d7bd620ab.css" integrity="sha256-PSKHlLztu/oEEr64&#43;8HsaXMgKUXkKvcAT3QqTXvWIKs=" crossorigin="anonymous"><style>
    .bgcover {
        display: block;
        overflow: hidden;
        height: 450px;
        background: no-repeat center center;
        -webkit-background-size: cover;
        -moz-background-size: cover;
        -o-background-size: cover;
        background-size: cover;
        position: relative;
        margin-bottom: -65px;
    }
    .bgcover {
        margin-bottom: 0 !important;
    }

    .bgcover .bgtrans {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        display: block;
        overflow: hidden;
        height: inherit;
        background: rgba(0,0,0,.8);
        background: -webkit-gradient(linear,0% 0%,0% 100%,from(rgba(0,0,0,.8)),to (rgba(0,0,0,.6)),to(rgba(255,255,255,0)));
        background: -webkit-linear-gradient(top,rgba(255,255,255,0),rgba(0,0,0,.6),rgba(0,0,0,.8));
        background: -moz-linear-gradient(top,rgba(255,255,255,0),rgba(0,0,0,.6),rgba(0,0,0,.8));
        background: -ms-linear-gradient(top,rgba(255,255,255,0),rgba(0,0,0,.6),rgba(0,0,0,.8));
        background: -o-linear-gradient(top,rgba(255,255,255,0),rgba(0,0,0,.6),rgba(0,0,0,.8));
    }

    .bgcover .bgtrans h1 {
        display: block;
        overflow: hidden;
        font-size: 45px;
        line-height: 55px;
        color: #fff;
        width: 800px;
        margin: auto;
        position: absolute;
        left: 0;
        right: 0;
        bottom: 50px;
        font-family: 'Roboto Condensed',sans-serif;
        font-weight: 600;
    }
</style></head>
  <body><script>const items=["mode","palette"];items.forEach(function(e){const t=localStorage.getItem("hbs-"+e);t&&document.body.parentElement.setAttribute("data-"+e,t)})</script><header><nav class="navbar top-app-bar top-app-bar-expand-lg fixed-top">
  <div class="container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <i class="fas fa-bars"></i>
    </button><a class="navbar-brand flex-grow-1 flex-lg-grow-0 text-center text-lg-start mx-auto me-lg-3" href="/"><img class="logo" alt="Logo" src="/images/logo.webp" loading="lazy"  title="Logo"
   width="32" height="32"
   />
HOME
    </a>
    <div class="offcanvas offcanvas-bottom surface" tabindex="-1" id="offcanvasSocialShare" aria-labelledby="offcanvasSocialShare">
  <div class="offcanvas-header">
    <h3 class="offcanvas-title">Share</h3>
    <button type="button" class="btn btn-sm btn-outline-primary" data-bs-dismiss="offcanvas" aria-label="Close">
      <i class="fas fa-times"></i>
    </button>
  </div>
  <div class="offcanvas-body">
    <a class="btn btn-sm btn-outline-primary social-share-button" rel="noopener noreferrer" aria-label="Twitter Share Button"
      target="_blank" href="https://twitter.com/intent/tweet?title=PostgreSQL%2018&url=%2fblog%2f2025-08-30-build-usefull-machinelearning-models-copy%2f">
      <i class="fab fa-fw fa-twitter"></i> Twitter
    </a>
    <a class="btn btn-sm btn-outline-primary social-share-button" rel="noopener noreferrer" aria-label="Facebook Share Button"
      target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=%2fblog%2f2025-08-30-build-usefull-machinelearning-models-copy%2f">
      <i class="fab fa-fw fa-facebook-f"></i> Facebook
    </a>
  </div>
</div>
    <button class="navbar-settings" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasSettings"
  aria-controls="offcanvasSettings" aria-label="Toggle settings">
  <i class="fas fa-ellipsis-v"></i>
</button>

<div class="offcanvas offcanvas-end surface h-100" tabindex="-1" id="offcanvasSettings" aria-labelledby="offcanvasSettings">
  <div class="offcanvas-header">
    <h3 class="offcanvas-title">Settings</h3>
    <button type="button" class="btn btn-sm btn-outline-primary" data-bs-dismiss="offcanvas" aria-label="Close">
      <i class="fas fa-times"></i>
    </button>
  </div>
  <div class="offcanvas-body d-flex flex-column">



<section class="setting">
  <form class="font-size-switcher-form row">
    <div class="col-auto">
      <label for="fontSize" class="form-label"><i class="fas fa-fw fa-font"></i> Font Size</label>
    </div>
    <div class="col-auto ms-auto">
      <input type="range" class="form-range" min="-2" max="2" id="fontSize">
    </div>
  </form>
</section>


<section class="setting palettes">
  <form class="row">
    <div class="col-auto">
      <label><i class="fas fa-fw fa-palette"></i> Palette</label>
    </div>
    <div class="col-auto ms-auto">
      <a id="btnPalette" class="btn btn-sm btn-outline-primary" role="button" aria-label="palettePicker">
        <i class="fas fa-eye-dropper"></i>
      </a>
    </div>
  </form>
  <div class="mt-2 d-flex justify-content-between visually-hidden" id="palettePicker"><button type="button" id="palette-blue" aria-label="Blue"
        class="btn btn-sm w-100 palette" data-palette="blue">
      </button><button type="button" id="palette-blue-gray" aria-label="Blue Gray"
        class="btn btn-sm w-100 palette" data-palette="blue-gray">
      </button><button type="button" id="palette-brown" aria-label="Brown"
        class="btn btn-sm w-100 palette" data-palette="brown">
      </button><button type="button" id="palette-cyan" aria-label="Cyan"
        class="btn btn-sm w-100 palette" data-palette="cyan">
      </button><button type="button" id="palette-green" aria-label="Green"
        class="btn btn-sm w-100 palette" data-palette="green">
      </button><button type="button" id="palette-indigo" aria-label="Indigo"
        class="btn btn-sm w-100 palette" data-palette="indigo">
      </button><button type="button" id="palette-orange" aria-label="Orange"
        class="btn btn-sm w-100 palette" data-palette="orange">
      </button><button type="button" id="palette-pink" aria-label="Pink"
        class="btn btn-sm w-100 palette" data-palette="pink">
      </button><button type="button" id="palette-purple" aria-label="Purple"
        class="btn btn-sm w-100 palette" data-palette="purple">
      </button><button type="button" id="palette-red" aria-label="Red"
        class="btn btn-sm w-100 palette" data-palette="red">
      </button><button type="button" id="palette-teal" aria-label="Teal"
        class="btn btn-sm w-100 palette" data-palette="teal">
      </button><button type="button" id="palette-yellow" aria-label="Yellow"
        class="btn btn-sm w-100 palette" data-palette="yellow">
      </button></div>
</section>
<section class="setting actions d-flex justify-content-around mt-auto overflow-auto">
  <a role="button" class="action action-go-back" href="javascript: window.history.back();">
    <span class="action-icon"><i class="fas fa-2x fa-arrow-left"></i></span> Go back
  </a>
  <a role="button" class="action action-reload-page">
    <span class="action-icon"><i class="fas fa-2x fa-redo-alt"></i></span> Reload
  </a>
  <a role="button" class="action action-copy-url">
    <span class="action-icon"><i class="fas fa-2x fa-link"></i></span> Copy URL
  </a><a class="action action-social-share" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasSocialShare"
    aria-controls="offcanvasSocialShare" aria-label="Toggle social share">
    <span class="action-icon"><i class="fas fa-2x fa-share-alt"></i></span> Share
  </a></section>

</div>
</div>

    <div class="collapse navbar-collapse" tabindex="-1" id="navbarSupportedContent" aria-labelledby="navbarSupportedContent">
      <form class="search-bar my-1" action="/search">
  <div class="input-group input-group-sm">
    <span class="btn btn-search disabled position-absolute left-0"><i class="fas fa-fw fa-search"></i></span>
    <input class="form-control rounded-pill" name="q" type="search" aria-label="Search">
  </div>
</form>
      <ul class="navbar-nav ms-auto"><li class="nav-item">
          <a class="nav-link" href="/series/">
            <i class="fas fa-fw fa-columns"></i>Courses
          </a>
        </li><li class="nav-item">
          <a class="nav-link" href="/tools/">
            <i class="fas fa-fw fa-folder"></i>Tools
          </a>
        </li><li class="nav-item">
          <a class="nav-link" href="/categories/">
            <i class="fas fa-fw fa-folder"></i>Categories
          </a>
        </li><li class="nav-item">
          <a class="nav-link" href="/archives/">
            <i class="fas fa-fw fa-file-archive"></i>Archives
          </a>
        </li><li class="nav-item">
          <a class="nav-link" href="/tags/">
            <i class="fas fa-fw fa-tags"></i>Tags
          </a>
        </li><li class="nav-item dropdown">
          <a class="nav-link" id="navbarDropdownSupport" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="fas fa-fw fa-chevron-circle-down"></i>Support
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdownSupport"><li>
              <a class="dropdown-item"
                href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer">
                Repository
              </a>
            </li><li>
              <a class="dropdown-item"
                href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer">
                Discussions
              </a>
            </li><li>
              <a class="dropdown-item"
                href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer">
                Features Request
              </a>
            </li><li><hr class="dropdown-divider"></li><li>
              <a class="dropdown-item"
                href="/faq/">
                FAQs
              </a>
            </li></ul>
        </li></ul>
    </div>
  </div>
</nav>
</header>
<main role="main" class="container" style="line-height:1.7em">
      <div class="row content">
<div class="col-lg-9 col-md-8">
  <div class="container"><nav class="row card component" aria-label="breadcrumb">
  <div class="card-body">
    <ol class="breadcrumb "><li class="breadcrumb-item"><a href="/">Home</a></li><li class="breadcrumb-item"><a href="/blog/">Blogs</a></li><li class="breadcrumb-item active">PostgreSQL 18</li></ol>
  </div>
</nav>
<div class="post-panel-wrapper">
  <div class="d-flex flex-column component rounded post-panel">
    
    <a class="action action-panel-toggler" role="button" title="Panel toggler">
      <i class="fas fa-fw fa-chevron-circle-down"></i>
    </a>
    <a id="sidebarToggler" class="action d-none d-lg-block" role="button" title="Sidebar toggler">
  <i class="fas fa-fw fa-expand-alt" data-fa-transform="rotate-45"></i>
</a>

    

    
    
    <a class="action" href="#post-comments" role="button" aria-label="Comments" title="Comments">
  <i class="fas fa-fw fa-comments"></i>
</a>
    <a class="action" href="#postTOC" aria-controls="Table of contents" role="button" title="Table of contents">
  <i class="fas fa-fw fa-list-alt"></i>
</a>
    
  </div>
</div>
<article class="row card component mb-4 post">
  <div class="card-header ">
    <div class="bgcover" style="background-image:url(https://unsplash.it/1920/1080)" alt="PostgreSQL 18">
      <div class="bgtrans">
          <h1>PostgreSQL 18
</h1>
      </div>
  </div>
</div>
  <div class="card-body"><div class="post-meta">
  <span class="post-date" title="created on 2025-09-13 03:10:00 &#43;0700 &#43;07.">
    Sep 13, 2025
  </span><span class="post-reading-time">
    6 min read
  </span><span class="post-taxonomies"><a href="/tags/machine-learning/" class="badge post-taxonomy">Machine learning</a></span>
</div>
<div class="post-content mb-3"><div class="toc">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#asynchronous-io">Asynchronous i/o</a></li>
    <li><a href="#uuidv7">UUIDv7</a></li>
    <li><a href="#b-tree-skip-scans">B-tree skip scans</a></li>
    <li><a href="#virtual-generated-columns">Virtual generated columns</a></li>
    <li><a href="#oauth-20">OAuth 2.0</a></li>
  </ul>
</nav>
  </div>
<p>Toàn bộ tính năng mới của postgresql 18 có trong link này <a href="https://www.postgresql.org/docs/18/release-18.html" target="_blank" rel="noopener noreferrer">https://www.postgresql.org/docs/18/release-18.html</a>. Ở bài viết này, mình chỉ lấy những tính năng mà mình thấy khá ok đối với mình.</p>
<h1 id="asynchronous-io">Asynchronous i/o<a class="anchor ms-1" href="#asynchronous-io"><i class="fas fa-link"></i></a></h1>
<p>Đây là một cải tiến mới trong cách đọc dữ liệu từ đĩa cứng, thay vì đợi disk đọc xong rồi trả về, thì pg sẽ giao nhiệm vụ đọc cho các worker, trong quá trình worker chạy đi đọc dữ liệu, pg sẽ xử lý công việc khác, không có đứng đợi. Cơ chế này kết hợp với io_uring của linux 5.1+ , giúp tốc độ đọc như bay.</p>
<p>Default sẽ có 3 thằng worker chịu trách nhiệm đọc dữ liệu. Nếu bạn host pg trên con máy chủ khỏe, ví dụ 512 nhân, 1024 luồng, bạn có thể tăng số lượng worker lên (256 , chẳng hạn)</p>
<p>Các worker có cơ chế gom cục các lệnh đọc ( batch reads), giúp tiết kiệm thời gian.</p>
<p>Để đảm bảo tính ACID, thì lệnh write vẫn là synchronous</p>
<p>Việc chia worker cho read ảnh hưởng mạnh tới các tác vụ sau</p>
<ul>
<li>
<p>Quét toàn bộ bảng</p>
</li>
<li>
<p>Duyệt dữ liệu qua index (bitmap heap scan)</p>
</li>
<li>
<p>Database VACUUM ( nhiều ae làm data chắc cũng gặp khốn khổ với thằng ông nội này)</p>
</li>
</ul>
<p>Để theo dõi các worker làm việc có hiệu quả không, đang làm cái gì, pg sinh ra thằng pg_aios. Đây là là một bảng thông tin chi tiết, giúp người quảng trị viên monitor thằng pg và điều chỉnh số lượng worker cho hợp lý mà không cần đoán mò. Ví dụ thấy trong hàng đợi toàn 100s, nghĩa là có vẻ như cần tăng worker lên.</p>
<p>ngoài ra, một vũ khí tối thường được hỗ trợ là posix_fadvise, posix_fadvise có nhiệm vụ báo trước, xi nhanh trước cho os là sắp đọc toàn bộ bảng, hãy load nó lên trên ram và để giành trước đi. Vũ khí này cực kỳ lợi hại khi chúng ta đọc tuần tự, pg sẽ tự nhắn os trước là sắp đọc đến batch tiếp theo, chuẩn bị trước đi.</p>
<p>Rõ ràng các vũ khí này là sân chơi cho các tay to, nơi thừa cpu, thừa ram, thậm chí ổ cứng hỗ trợ tốc độ đọc cao gấp rất nhiều lần so với các ổ cứng cá nhân chúng ta sở hữu. Người quản trị viên không thiếu phần cứng, chỉ thiếu vũ khí giúp tận dụng tối ta phần cứng.</p>
<p>Còn, với cá nhân học tập yêu khoa học, hoặc mấy máy chủ be bé, chắc bỏ qua đi hen.</p>
<h1 id="uuidv7">UUIDv7<a class="anchor ms-1" href="#uuidv7"><i class="fas fa-link"></i></a></h1>
<p>Rất nhiều dev sử dụng UUIDv4 làm khóa chính, UUIDv4 đảm bảo khóa gần như duy nhất , ngẫu nhiên. Điểm yếu cố hữu của UUIDv4 là không có tính tuần tự, làm cho phân mảnh chỉ mục. Kết quả là việc update hoặc insert chậm hơn so với các khóa tự tăng khác như serial int, Snowflake ID, tốn thời gian reindex lại.</p>
<p>UUIDv7 ra đời, ịn thêm 60 bit đầu tiên, là thời gian tính bằng mini giây kể từ năm 1970, 6 bit meta, phần còn lại ngẫu nhiên hoặc sequence . Vừa unique, vừa nhanh, vừa bảo mật, đã giải quyết các vấn đề của UUIDv4</p>
<p>Cá nhân mình thì thích Snowflake ID hơn, chỉ tốn 64 bit (8B), so với uuidv7 128 bit (16B), giúp nhẹ database hơn (he he)</p>
<h1 id="b-tree-skip-scans">B-tree skip scans<a class="anchor ms-1" href="#b-tree-skip-scans"><i class="fas fa-link"></i></a></h1>
<p>Đặt tình huống như thế này , thường tháy</p>
<p>Ta có bảng đơng hàng, có nhiều cột, mà có 2 cột được index là ngày và trạng thái, công ty bán hàng hơn 10 năm, nghĩa là có &gt; 3650 giá trị ngày khác nhau. Còn trạng thái đơn hàng thì chỉ có lèo tèo vài cái là lên đơn, đã thanh toán, kết thúc thành công, hủy đơn &hellip;</p>
<p>Với các phiên bản postgresql &lt;18 , nếu ta truy vấn dữ liệu theo ngày mà không có status, có khi sẽ table scan, hoặc index scan để tìm ra đơn hàng ngày mà chúng ta truy vấn.</p>
<p>Với pg 18, pg sẽ liệt kê các status của chúng ta, sau đó nhảy vào từng status, nhảy vào cái dữ liệu date của status đó. Ví dụ chúng ta có 4 trạng thái status là lên đơn, đã thanh toán, kết thúc thành công, hủy đơn, và kiếm dữ liệu ngày 2025-09-14, pg sẽ nhảy cóc vào status lên đơn, nhảy vào ngày 2025-09-14, sau đó sẽ nhảy vào status đã thanh toán, nhảy vào ngày 2025-09-14, làm tương tự cho  kết thúc thành công, hủy đơn.</p>
<p>Điều kiện cho B-tree skip scans xảy ra là</p>
<ul>
<li>
<p>Chúng ta có 1 cột nhiều, 1 cột siêu ít, trong index ( nếu cái status có tầm 100 status thì cái B-tree skip scans không xảy ra đâu, nhảy cóc gì lắm thế)</p>
</li>
<li>
<p>Dùng toán tử  = ở cột nhiều ( ở đây là chúng ta kiếm đơn hàng trong ngày 2025-09-14, chứ nếu kiếm &gt;= 2025-09-14 hoặc &lt;2025-09-14 , gì đó, thì thua)</p>
</li>
<li>
<p>Cái nữa là pg sẽ tự làm cái này cho chúng ta, tự phân chia sau khi chúng ta tạo index, tự tái cấu trúc index lại dựa trên dữ liệu.</p>
</li>
</ul>
<p>Thật tuyệt vời phải không các bạn.</p>
<h1 id="virtual-generated-columns">Virtual generated columns<a class="anchor ms-1" href="#virtual-generated-columns"><i class="fas fa-link"></i></a></h1>
<p>Từ phiên bản pg 12, pg có hỗ trợ generated columns</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="ln">1</span><span class="cl"><span class="n">colname</span><span class="w"> </span><span class="n">datatype</span><span class="w"> </span><span class="k">GENERATED</span><span class="w"> </span><span class="n">ALWAYS</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span><span class="n">expression</span><span class="p">)</span><span class="w"> </span><span class="n">STORED</span><span class="w">
</span></span></span></code></pre></div><p>Nhưng ở dạng STORED, không có ở dạng Virtual như mysql. Ngoài ra, expression phải là immutable expression. Vấn đề là chúng ta phải tốn disk để lưu cột column name này. Và không đảm bảo value của colname thay đổi khi giá trị của expression thay đổi.</p>
<p>Với pg18, có hỗ trợ onfly column. Nghĩa là chúng ta sẽ được cột ảo thực sự, truy xuất dữ liệu vào source, không tốn disk lưu dữ liệu. Thật tuyệt với phải không nào.</p>
<p>Tưởng tưởng, chúng ta có bảng user, có trường json info -&gt; username , giờ chỉ cần lôi cái username ra ngoài, truy vấn vẫn là user.username , okela.</p>
<h1 id="oauth-20">OAuth 2.0<a class="anchor ms-1" href="#oauth-20"><i class="fas fa-link"></i></a></h1>
<p>PG bản 18 hỗ trợ OAuth 2.0, okta, Keycloak, giờ cấp quyền cho ông dev cực dễ. Dev vào công ty, đăng nhập, Keycloak cấp key quyền, có quyền access db, cứ cầm key quyền đi vào db. Hè Hè, khỏi phải tình trạng user pg dev được share cho chục ông dev, rồi sự cố không biết ông nào làm. Mà tạo cho 1 ngàn tài khoảng dev thì quản lý mệt.</p>
<p>Còn nhiều cái mới, hay ho, xịn sò , bà con đọc ở  <a href="https://www.postgresql.org/docs/18/release-18.html" target="_blank" rel="noopener noreferrer">https://www.postgresql.org/docs/18/release-18.html</a> đi</p>
<p>Hy vọng cách chia mục rõ ràng này sẽ giúp bạn dễ dàng nắm bắt nội dung và sử dụng cho bài viết của mình!</p>
</div></div>
  <div class="card-footer"><div class="post-navs d-flex justify-content-evenly"><div class="post-nav post-prev">
    <i class="fas fa-fw fa-chevron-left"></i>
    <a href="/blog/2025-08-30-a-snare-of-emotions-woven-with-intent-copy/">Nghị Luận Xã Hội - Chiếc Bẫy Tình Cảm Được Dựng Lên Có Chủ Đích
</a>
  </div></div></div>
</article><div class="card component row post-comments" id="post-comments">
  <div class="card-header">
    <h2 class="card-title">Comments</h2>
  </div>
  <div class="card-body"><script src="https://utteranc.es/client.js"
  repo="AlexBlack2202/utterances"
  issue-term="pathname"
  label="comment"
  theme="github-dark"
  crossorigin="anonymous"
  async>
</script></div>
</div></div>
</div><aside class="col-lg-3 col-md-4 sidebar d-flex">
  <div class="container d-flex flex-column">
    
    <a href="https://www.buymeacoffee.com/alexblack28"><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&emoji=🍎&slug=alexblack28&button_colour=FFDD00&font_colour=000000&font_family=Cookie&outline_colour=000000&coffee_colour=ffffff" /></a><div class="post-toc row mb-4 card component" id="postTOC">
  <div class="card-header">
    <h2 class="card-title">Contents</h2>
  </div>
  <div class="card-body">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#asynchronous-io">Asynchronous i/o</a></li>
    <li><a href="#uuidv7">UUIDv7</a></li>
    <li><a href="#b-tree-skip-scans">B-tree skip scans</a></li>
    <li><a href="#virtual-generated-columns">Virtual generated columns</a></li>
    <li><a href="#oauth-20">OAuth 2.0</a></li>
  </ul>
</nav>
  </div>
</div><section class="recent-posts row card component">
  <div class="card-header">
    <h2 class="card-title">Recent Posts</h2>
  </div>
  <div class="card-body">
    <ul class="post-list"><li>
        <a href="/blog/2025-08-30-build-usefull-machinelearning-models-copy/">PostgreSQL 18
</a>
      </li><li>
        <a href="/blog/2025-08-30-a-snare-of-emotions-woven-with-intent/">Nghị Luận Xã Hội - Chiếc Bẫy Tình Cảm Được Dựng Lên Có Chủ Đích
</a>
      </li><li>
        <a href="/blog/2025-08-30-a-snare-of-emotions-woven-with-intent-copy/">Nghị Luận Xã Hội - Chiếc Bẫy Tình Cảm Được Dựng Lên Có Chủ Đích
</a>
      </li><li>
        <a href="/blog/2025-08-30-build-usefull-machinelearning-models/">Mẹo Xây Dựng Mô Hình Machine Learning Hữu Ích Trong Thực Tế
</a>
      </li><li>
        <a href="/blog/2025-06-15-vllm-introduce/">Giới Thiệu VLLM -  Công Cụ Phục Vụ LLM Hiệu Suất Cao Cho Ứng Dụng AI
</a>
      </li></ul>
  </div>
</section><section class="series-taxonomies row card component">
      <div class="card-header">
        <h2 class="card-title">
          <a href="/series">series</a>
        </h2>
      </div>
      <div class="card-body">
        <div class="py-2"><a href="/series/kh%C3%B3a-h%E1%BB%8Dc-python-c%C4%83n-b%E1%BA%A3n/" class="badge rounded post-taxonomy" title="Khóa Học Python Căn Bản">
            Khóa Học Python Căn Bản<span class="badge badge-sm text-white bg-accent ms-1">5</span></a><a href="/series/kh%C3%B3a-h%E1%BB%8Dc-c&#43;&#43;-c%C4%83n-b%E1%BA%A3n/" class="badge rounded post-taxonomy" title="Khóa Học C&#43;&#43; Căn Bản">
            Khóa Học C&#43;&#43; Căn Bản<span class="badge badge-sm text-white bg-accent ms-1">3</span></a><a href="/series/machine-learning-dataset/" class="badge rounded post-taxonomy" title="Machine Learning Dataset">
            Machine Learning Dataset<span class="badge badge-sm text-white bg-accent ms-1">2</span></a><a href="/series/ch%E1%BB%A9ng-kho%C3%A1n-c%C4%83n-b%E1%BA%A3n/" class="badge rounded post-taxonomy" title="Chứng Khoán Căn Bản">
            Chứng Khoán Căn Bản<span class="badge badge-sm text-white bg-accent ms-1">1</span></a></div>
      </div>
    </section><section class="tools-taxonomies row card component">
      <div class="card-header">
        <h2 class="card-title">
          <a href="/tools">tools</a>
        </h2>
      </div>
      <div class="card-body">
        <div class="py-2"><a href="/tools/tool-random/" class="badge rounded post-taxonomy" title="Tool Random">
            Tool Random<span class="badge badge-sm text-white bg-accent ms-1">2</span></a></div>
      </div>
    </section><section class="categories-taxonomies row card component">
      <div class="card-header">
        <h2 class="card-title">
          <a href="/categories">categories</a>
        </h2>
      </div>
      <div class="card-body">
        <div class="py-2"><a href="/categories/python/" class="badge rounded post-taxonomy" title="Python">
            Python<span class="badge badge-sm text-white bg-accent ms-1">5</span></a><a href="/categories/c&#43;&#43;/" class="badge rounded post-taxonomy" title="C&#43;&#43;">
            C&#43;&#43;<span class="badge badge-sm text-white bg-accent ms-1">3</span></a><a href="/categories/dataset/" class="badge rounded post-taxonomy" title="Dataset">
            Dataset<span class="badge badge-sm text-white bg-accent ms-1">2</span></a></div>
      </div>
    </section><section class="tags-taxonomies row card component">
      <div class="card-header">
        <h2 class="card-title">
          <a href="/tags">tags</a>
        </h2>
      </div>
      <div class="card-body">
        <div class="py-2"><a href="/tags/machine-learning/" class="badge rounded post-taxonomy" title="Machine Learning">
            Machine Learning<span class="badge badge-sm text-white bg-accent ms-1">47</span></a><a href="/tags/deep-learning/" class="badge rounded post-taxonomy" title="Deep Learning">
            Deep Learning<span class="badge badge-sm text-white bg-accent ms-1">21</span></a><a href="/tags/deeplearning/" class="badge rounded post-taxonomy" title="DeepLearning">
            DeepLearning<span class="badge badge-sm text-white bg-accent ms-1">21</span></a><a href="/tags/python/" class="badge rounded post-taxonomy" title="Python">
            Python<span class="badge badge-sm text-white bg-accent ms-1">11</span></a><a href="/tags/opencv/" class="badge rounded post-taxonomy" title="Opencv">
            Opencv<span class="badge badge-sm text-white bg-accent ms-1">5</span></a><a href="/tags/c&#43;&#43;/" class="badge rounded post-taxonomy" title="C&#43;&#43;">
            C&#43;&#43;<span class="badge badge-sm text-white bg-accent ms-1">4</span></a><a href="/tags/marketing/" class="badge rounded post-taxonomy" title="Marketing">
            Marketing<span class="badge badge-sm text-white bg-accent ms-1">4</span></a><a href="/tags/normalization/" class="badge rounded post-taxonomy" title="Normalization">
            Normalization<span class="badge badge-sm text-white bg-accent ms-1">4</span></a><a href="/tags/object-detector/" class="badge rounded post-taxonomy" title="Object Detector">
            Object Detector<span class="badge badge-sm text-white bg-accent ms-1">4</span></a><a href="/tags/recommendation/" class="badge rounded post-taxonomy" title="Recommendation">
            Recommendation<span class="badge badge-sm text-white bg-accent ms-1">4</span></a></div>
      </div>
    </section>
    
  </div>
</aside>
</div>
    </main><footer class="footer mt-auto py-3 text-center container"><ul class="nav justify-content-between footer-memu mb-3"><li class="nav-item"><ul class="nav flex-column align-items-start">
      <li class="nav-item">
        <a class="nav-link fw-bold" target="_blank" rel="noopener noreferrer">Support
</a>
      </li><li class="nav-item">
            <a class="nav-link" href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer"><i class="fab fa-fw fa-github"></i>Repository
</a>
        </li><li class="nav-item">
            <a class="nav-link" href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer"><i class="fas fa-fw fa-comments"></i>Discussions
</a>
        </li><li class="nav-item">
            <a class="nav-link" href="/contact/"><i class="fas fa-fw fa-info-circle"></i>Contact Us
</a>
        </li><li class="nav-item">
            <a class="nav-link" href="/faq/"><i class="fas fa-fw fa-question-circle"></i>FAQs
</a>
        </li></ul></li><li class="nav-item"><ul class="nav flex-column align-items-start">
      <li class="nav-item">
        <a class="nav-link fw-bold" target="_blank" rel="noopener noreferrer">Docs
</a>
      </li><li class="nav-item">
            <a class="nav-link" href="/team_of_services" target="_blank" rel="noopener noreferrer"><i class="fas fa-fw fa-users"></i>Điều khoản sử dụng
</a>
        </li><li class="nav-item">
            <a class="nav-link" href="/privacy" target="_blank" rel="noopener noreferrer"><i class="fas fa-fw fa-lock"></i>Chính sách bảo mật
</a>
        </li></ul></li><li class="nav-item"><ul class="nav flex-column align-items-start">
      <li class="nav-item">
        <a class="nav-link fw-bold" target="_blank" rel="noopener noreferrer">Features
</a>
      </li><li class="nav-item">
            <a class="nav-link" href="https://www.phamduytung.com/utils/gen_paswords/" target="_blank" rel="noopener noreferrer"><i class="fas fa-fw fa-paw"></i>Tạo password ngẫu nhiên
</a>
        </li></ul></li><li class="nav-item"><ul class="nav flex-column align-items-start">
      <li class="nav-item">
        <a class="nav-link fw-bold" target="_blank" rel="noopener noreferrer">Liên kết khác
</a>
      </li><li class="nav-item">
            <a class="nav-link" href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer">Netlify
</a>
        </li><li class="nav-item">
            <a class="nav-link" href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer">facebook
</a>
        </li></ul></li></ul>
<div class="copyright mb-2">
  Copyright © 2016-2025 Phạm Duy Tùng. All Rights Reserved.
</div>
<div class="powered-by mb-2">
  Website chia sẻ kiến thức của Phạm Duy Tùng và Đặng Thị Hằng. Vui lòng liên hệ email alexblack2202@gmail.com nếu bạn có thông tin cần trao đổi.
</div></footer>
<script src="/js/main.ed2053ad82a243b263761567b5c1aaf974487aa84adacb89ae3ddf803ecc248a.js" integrity="sha256-7SBTrYKiQ7JjdhVntcGq&#43;XRIeqhK2suJrj3fgD7MJIo=" crossorigin="anonymous" defer></script><script src="/js/icons.min.8ff200851002b8138e6b35314683092e02edc155465d9dbfb7d115460f8f1fbe.js" integrity="sha256-j/IAhRACuBOOazUxRoMJLgLtwVVGXZ2/t9EVRg&#43;PH74=" crossorigin="anonymous" defer></script>
<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('\/service-worker.js').then(function(reg) {
      console.log('Successfully registered service worker', reg);
    }).catch(function(err) {
      console.warn('Error whilst registering service worker', err);
    });
  });
}
</script><script src="/js/viewer.min.ec58d2aa1a8916addf393be975fdf0070e8c872b0caef1673cb9f7eea067ce57.js" integrity="sha256-7FjSqhqJFq3fOTvpdf3wBw6MhysMrvFnPLn37qBnzlc=" crossorigin="anonymous" defer></script><script defer src="/js/katex.min.d5052035160facae59b60000106771baf2eb7671123813d21f1097a5a9218b6e.js" integrity="sha256-1QUgNRYPrK5ZtgAAEGdxuvLrdnESOBPSHxCXpakhi24=" crossorigin="anonymous"></script>

<script  data-ad-client="ca-pub-4644989745435991"  async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4644989745435991"
     crossorigin="anonymous"></script><script data-cfasync="false" type="text/javascript" data-adel="atag" src="//acscdn.com/script/atg.js" czid="eul3gyjdmm"></script>
  </body>
</html>
