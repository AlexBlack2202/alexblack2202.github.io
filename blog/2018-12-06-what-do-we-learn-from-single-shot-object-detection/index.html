<!doctype html><html lang="en" data-palette="blue"
   data-mode="dark">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>TÃ¬m hiá»ƒu single shot object detectors - Pháº¡m Duy TÃ¹ng Machine Learning Blog</title>
    <meta name="a.validate.02" content="1QZXZ8oi7g57H-GxBrBPkTYBydwii-Ic9iJu" /><link rel="apple-touch-icon" href="/images/icons/icon-180x180.png" sizes="180x180">
<link rel="icon" href="/images/icons/icon-32x32.png" sizes="32x32" type="image/png">
<link rel="icon" href="/images/icons/icon-16x16.png" sizes="16x16" type="image/png">
<link rel="icon" href="/images/icons/favicon.ico">
<link rel="manifest" href="/manifest.json">
<meta name="keywords" content="" />
<meta name="description" content="á» bÃ i viáº¿t nÃ y, chÃºng ta sáº½ tÃ¬m hiá»ƒu single shot object detectors vÃ  á»©ng dá»¥ng cá»§a nÃ³ trÃªn cÃ¡c thuáº­t toÃ¡n SSD, Yollov3, FPN vÃ  RetinaNet." /><meta name="robots" content="index, follow" />
  <meta itemprop="name" content="TÃ¬m hiá»ƒu single shot object detectors">
  <meta itemprop="description" content="á» bÃ i viáº¿t nÃ y, chÃºng ta sáº½ tÃ¬m hiá»ƒu single shot object detectors vÃ  á»©ng dá»¥ng cá»§a nÃ³ trÃªn cÃ¡c thuáº­t toÃ¡n SSD, Yollov3, FPN vÃ  RetinaNet.">
  <meta itemprop="datePublished" content="2018-12-06T00:19:00+03:00">
  <meta itemprop="dateModified" content="2018-12-06T00:19:00+03:00">
  <meta itemprop="wordCount" content="2427">
  <meta itemprop="image" content="/blog/2018-12-06-what-do-we-learn-from-single-shot-object-detection/feature-pyramid-network-model1.jpg">
  <meta itemprop="keywords" content="Machine Learning,DeepLearning,Object Detector,Single Shot"><meta property="og:url" content="/blog/2018-12-06-what-do-we-learn-from-single-shot-object-detection/">
  <meta property="og:site_name" content="Pháº¡m Duy TÃ¹ng Machine Learning Blog">
  <meta property="og:title" content="TÃ¬m hiá»ƒu single shot object detectors">
  <meta property="og:description" content="á» bÃ i viáº¿t nÃ y, chÃºng ta sáº½ tÃ¬m hiá»ƒu single shot object detectors vÃ  á»©ng dá»¥ng cá»§a nÃ³ trÃªn cÃ¡c thuáº­t toÃ¡n SSD, Yollov3, FPN vÃ  RetinaNet.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="blog">
    <meta property="article:published_time" content="2018-12-06T00:19:00+03:00">
    <meta property="article:modified_time" content="2018-12-06T00:19:00+03:00">
    <meta property="article:tag" content="Machine Learning">
    <meta property="article:tag" content="DeepLearning">
    <meta property="article:tag" content="Object Detector">
    <meta property="article:tag" content="Single Shot">
    <meta property="og:image" content="/blog/2018-12-06-what-do-we-learn-from-single-shot-object-detection/feature-pyramid-network-model1.jpg">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="/blog/2018-12-06-what-do-we-learn-from-single-shot-object-detection/feature-pyramid-network-model1.jpg">
  <meta name="twitter:title" content="TÃ¬m hiá»ƒu single shot object detectors">
  <meta name="twitter:description" content="á» bÃ i viáº¿t nÃ y, chÃºng ta sáº½ tÃ¬m hiá»ƒu single shot object detectors vÃ  á»©ng dá»¥ng cá»§a nÃ³ trÃªn cÃ¡c thuáº­t toÃ¡n SSD, Yollov3, FPN vÃ  RetinaNet.">
<link rel="stylesheet" href="/css/main.min.c06cf34535ee1f60ba08893b4d57e76b2bbd5e11c17ab12ef976f02983a51b54.css" integrity="sha256-wGzzRTXuH2C6CIk7TVfnayu9XhHBerEu&#43;XbwKYOlG1Q=" crossorigin="anonymous"><link rel="stylesheet" href="/css/katex.min.d080a89e03e1eb850f547d835c186b4273f69879aa497eb8b0e88c1578bf1f0b.css" integrity="sha256-0ICongPh64UPVH2DXBhrQnP2mHmqSX64sOiMFXi/Hws=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/viewer.min.3d228794bcedbbfa0412beb8fbc1ec6973202945e42af7004f742a4d7bd620ab.css" integrity="sha256-PSKHlLztu/oEEr64&#43;8HsaXMgKUXkKvcAT3QqTXvWIKs=" crossorigin="anonymous"><style>
    .bgcover {
        display: block;
        overflow: hidden;
        height: 450px;
        background: no-repeat center center;
        -webkit-background-size: cover;
        -moz-background-size: cover;
        -o-background-size: cover;
        background-size: cover;
        position: relative;
        margin-bottom: -65px;
    }
    .bgcover {
        margin-bottom: 0 !important;
    }

    .bgcover .bgtrans {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        display: block;
        overflow: hidden;
        height: inherit;
        background: rgba(0,0,0,.8);
        background: -webkit-gradient(linear,0% 0%,0% 100%,from(rgba(0,0,0,.8)),to (rgba(0,0,0,.6)),to(rgba(255,255,255,0)));
        background: -webkit-linear-gradient(top,rgba(255,255,255,0),rgba(0,0,0,.6),rgba(0,0,0,.8));
        background: -moz-linear-gradient(top,rgba(255,255,255,0),rgba(0,0,0,.6),rgba(0,0,0,.8));
        background: -ms-linear-gradient(top,rgba(255,255,255,0),rgba(0,0,0,.6),rgba(0,0,0,.8));
        background: -o-linear-gradient(top,rgba(255,255,255,0),rgba(0,0,0,.6),rgba(0,0,0,.8));
    }

    .bgcover .bgtrans h1 {
        display: block;
        overflow: hidden;
        font-size: 45px;
        line-height: 55px;
        color: #fff;
        width: 800px;
        margin: auto;
        position: absolute;
        left: 0;
        right: 0;
        bottom: 50px;
        font-family: 'Roboto Condensed',sans-serif;
        font-weight: 600;
    }
</style></head>
  <body><script>const items=["mode","palette"];items.forEach(function(e){const t=localStorage.getItem("hbs-"+e);t&&document.body.parentElement.setAttribute("data-"+e,t)})</script><header><nav class="navbar top-app-bar top-app-bar-expand-lg fixed-top">
  <div class="container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <i class="fas fa-bars"></i>
    </button><a class="navbar-brand flex-grow-1 flex-lg-grow-0 text-center text-lg-start mx-auto me-lg-3" href="/"><img class="logo" alt="Logo" src="/images/logo.webp" loading="lazy"  title="Logo"
   width="32" height="32"
   />
HOME
    </a>
    <div class="offcanvas offcanvas-bottom surface" tabindex="-1" id="offcanvasSocialShare" aria-labelledby="offcanvasSocialShare">
  <div class="offcanvas-header">
    <h3 class="offcanvas-title">Share</h3>
    <button type="button" class="btn btn-sm btn-outline-primary" data-bs-dismiss="offcanvas" aria-label="Close">
      <i class="fas fa-times"></i>
    </button>
  </div>
  <div class="offcanvas-body">
    <a class="btn btn-sm btn-outline-primary social-share-button" rel="noopener noreferrer" aria-label="Twitter Share Button"
      target="_blank" href="https://twitter.com/intent/tweet?title=T%c3%acm%20hi%e1%bb%83u%20single%20shot%20object%20detectors&url=%2fblog%2f2018-12-06-what-do-we-learn-from-single-shot-object-detection%2f">
      <i class="fab fa-fw fa-twitter"></i> Twitter
    </a>
    <a class="btn btn-sm btn-outline-primary social-share-button" rel="noopener noreferrer" aria-label="Facebook Share Button"
      target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=%2fblog%2f2018-12-06-what-do-we-learn-from-single-shot-object-detection%2f">
      <i class="fab fa-fw fa-facebook-f"></i> Facebook
    </a>
  </div>
</div>
    <button class="navbar-settings" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasSettings"
  aria-controls="offcanvasSettings" aria-label="Toggle settings">
  <i class="fas fa-ellipsis-v"></i>
</button>

<div class="offcanvas offcanvas-end surface h-100" tabindex="-1" id="offcanvasSettings" aria-labelledby="offcanvasSettings">
  <div class="offcanvas-header">
    <h3 class="offcanvas-title">Settings</h3>
    <button type="button" class="btn btn-sm btn-outline-primary" data-bs-dismiss="offcanvas" aria-label="Close">
      <i class="fas fa-times"></i>
    </button>
  </div>
  <div class="offcanvas-body d-flex flex-column">



<section class="setting">
  <form class="font-size-switcher-form row">
    <div class="col-auto">
      <label for="fontSize" class="form-label"><i class="fas fa-fw fa-font"></i> Font Size</label>
    </div>
    <div class="col-auto ms-auto">
      <input type="range" class="form-range" min="-2" max="2" id="fontSize">
    </div>
  </form>
</section>


<section class="setting palettes">
  <form class="row">
    <div class="col-auto">
      <label><i class="fas fa-fw fa-palette"></i> Palette</label>
    </div>
    <div class="col-auto ms-auto">
      <a id="btnPalette" class="btn btn-sm btn-outline-primary" role="button" aria-label="palettePicker">
        <i class="fas fa-eye-dropper"></i>
      </a>
    </div>
  </form>
  <div class="mt-2 d-flex justify-content-between visually-hidden" id="palettePicker"><button type="button" id="palette-blue" aria-label="Blue"
        class="btn btn-sm w-100 palette" data-palette="blue">
      </button><button type="button" id="palette-blue-gray" aria-label="Blue Gray"
        class="btn btn-sm w-100 palette" data-palette="blue-gray">
      </button><button type="button" id="palette-brown" aria-label="Brown"
        class="btn btn-sm w-100 palette" data-palette="brown">
      </button><button type="button" id="palette-cyan" aria-label="Cyan"
        class="btn btn-sm w-100 palette" data-palette="cyan">
      </button><button type="button" id="palette-green" aria-label="Green"
        class="btn btn-sm w-100 palette" data-palette="green">
      </button><button type="button" id="palette-indigo" aria-label="Indigo"
        class="btn btn-sm w-100 palette" data-palette="indigo">
      </button><button type="button" id="palette-orange" aria-label="Orange"
        class="btn btn-sm w-100 palette" data-palette="orange">
      </button><button type="button" id="palette-pink" aria-label="Pink"
        class="btn btn-sm w-100 palette" data-palette="pink">
      </button><button type="button" id="palette-purple" aria-label="Purple"
        class="btn btn-sm w-100 palette" data-palette="purple">
      </button><button type="button" id="palette-red" aria-label="Red"
        class="btn btn-sm w-100 palette" data-palette="red">
      </button><button type="button" id="palette-teal" aria-label="Teal"
        class="btn btn-sm w-100 palette" data-palette="teal">
      </button><button type="button" id="palette-yellow" aria-label="Yellow"
        class="btn btn-sm w-100 palette" data-palette="yellow">
      </button></div>
</section>
<section class="setting actions d-flex justify-content-around mt-auto overflow-auto">
  <a role="button" class="action action-go-back" href="javascript: window.history.back();">
    <span class="action-icon"><i class="fas fa-2x fa-arrow-left"></i></span> Go back
  </a>
  <a role="button" class="action action-reload-page">
    <span class="action-icon"><i class="fas fa-2x fa-redo-alt"></i></span> Reload
  </a>
  <a role="button" class="action action-copy-url">
    <span class="action-icon"><i class="fas fa-2x fa-link"></i></span> Copy URL
  </a><a class="action action-social-share" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasSocialShare"
    aria-controls="offcanvasSocialShare" aria-label="Toggle social share">
    <span class="action-icon"><i class="fas fa-2x fa-share-alt"></i></span> Share
  </a></section>

</div>
</div>

    <div class="collapse navbar-collapse" tabindex="-1" id="navbarSupportedContent" aria-labelledby="navbarSupportedContent">
      <form class="search-bar my-1" action="/search">
  <div class="input-group input-group-sm">
    <span class="btn btn-search disabled position-absolute left-0"><i class="fas fa-fw fa-search"></i></span>
    <input class="form-control rounded-pill" name="q" type="search" aria-label="Search">
  </div>
</form>
      <ul class="navbar-nav ms-auto"><li class="nav-item">
          <a class="nav-link" href="/series/">
            <i class="fas fa-fw fa-columns"></i>Courses
          </a>
        </li><li class="nav-item">
          <a class="nav-link" href="/tools/">
            <i class="fas fa-fw fa-folder"></i>Tools
          </a>
        </li><li class="nav-item">
          <a class="nav-link" href="/categories/">
            <i class="fas fa-fw fa-folder"></i>Categories
          </a>
        </li><li class="nav-item">
          <a class="nav-link" href="/archives/">
            <i class="fas fa-fw fa-file-archive"></i>Archives
          </a>
        </li><li class="nav-item">
          <a class="nav-link" href="/tags/">
            <i class="fas fa-fw fa-tags"></i>Tags
          </a>
        </li><li class="nav-item dropdown">
          <a class="nav-link" id="navbarDropdownSupport" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="fas fa-fw fa-chevron-circle-down"></i>Support
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdownSupport"><li>
              <a class="dropdown-item"
                href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer">
                Repository
              </a>
            </li><li>
              <a class="dropdown-item"
                href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer">
                Discussions
              </a>
            </li><li>
              <a class="dropdown-item"
                href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer">
                Features Request
              </a>
            </li><li><hr class="dropdown-divider"></li><li>
              <a class="dropdown-item"
                href="/faq/">
                FAQs
              </a>
            </li></ul>
        </li></ul>
    </div>
  </div>
</nav>
</header>
<main role="main" class="container" style="line-height:1.7em">
      <div class="row content">
<div class="col-lg-9 col-md-8">
  <div class="container"><nav class="row card component" aria-label="breadcrumb">
  <div class="card-body">
    <ol class="breadcrumb "><li class="breadcrumb-item"><a href="/">Home</a></li><li class="breadcrumb-item"><a href="/blog/">Blogs</a></li><li class="breadcrumb-item active">TÃ¬m Hiá»ƒu Single Shot Object Detectors</li></ol>
  </div>
</nav>
<div class="post-panel-wrapper">
  <div class="d-flex flex-column component rounded post-panel">
    
    <a class="action action-panel-toggler" role="button" title="Panel toggler">
      <i class="fas fa-fw fa-chevron-circle-down"></i>
    </a>
    <a id="sidebarToggler" class="action d-none d-lg-block" role="button" title="Sidebar toggler">
  <i class="fas fa-fw fa-expand-alt" data-fa-transform="rotate-45"></i>
</a>

    

    
    
    <a class="action" href="#post-comments" role="button" aria-label="Comments" title="Comments">
  <i class="fas fa-fw fa-comments"></i>
</a>
    <a class="action" href="#postTOC" aria-controls="Table of contents" role="button" title="Table of contents">
  <i class="fas fa-fw fa-list-alt"></i>
</a>
    
  </div>
</div>
<article class="row card component mb-4 post">
  <div class="card-header ">
    <div class="bgcover" style="background-image:url(https://unsplash.it/1920/1080)" alt="TÃ¬m hiá»ƒu single shot object detectors">
      <div class="bgtrans">
          <h1>TÃ¬m Hiá»ƒu Single Shot Object Detectors
</h1>
      </div>
  </div>
</div>
  <div class="card-body"><div class="post-meta">
  <span class="post-date" title="created on 2018-12-06 04:19:00 &#43;0700 &#43;07.">
    Dec 6, 2018
  </span><span class="post-reading-time">
    12 min read
  </span><span class="post-taxonomies"><a href="/tags/machine-learning/" class="badge post-taxonomy">Machine learning</a><a href="/tags/deeplearning/" class="badge post-taxonomy">Deeplearning</a><a href="/tags/object-detector/" class="badge post-taxonomy">object detector</a><a href="/tags/single-shot/" class="badge post-taxonomy">single shot</a></span>
</div>
<div class="post-content mb-3"><div class="toc">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#single-shot-detectors">Single Shot detectors</a></li>
    <li><a href="#ssd">SSD</a></li>
    <li><a href="#yolo">YOLO</a></li>
    <li><a href="#yolov3">YOLOv3</a></li>
    <li><a href="#feature-pyramid-networks-fpn">Feature Pyramid Networks (FPN)</a></li>
    <li><a href="#so-sÃ¡nh-feature-pyramid-networks-vá»›i-region-proposal-network">So sÃ¡nh Feature Pyramid Networks vá»›i Region Proposal Network</a></li>
    <li><a href="#sá»­-dá»¥ng-feature-pyramid-networks-trong-fast-r-cnn-vÃ -faster-r-cnn">Sá»­ dá»¥ng Feature Pyramid Networks trong Fast R-CNN vÃ  Faster R-CNN</a></li>
    <li><a href="#focal-loss-retinanet">Focal loss (RetinaNet)</a></li>
  </ul>
</nav>
  </div>
<h1 id="single-shot-detectors">Single Shot detectors<a class="anchor ms-1" href="#single-shot-detectors"><i class="fas fa-link"></i></a></h1>
<p>á» bÃ i trÆ°á»›c, chÃºng ta Ä‘Ã£ tÃ¬m hiá»ƒu vá» region proposal vÃ  á»©ng dá»¥ng cá»§a nÃ³ vÃ o Faster R-CNN. CÃ¡c thuáº­t toÃ¡n thuá»™c nhÃ³m region proposal tuy cho káº¿t quáº£ cÃ³ Ä‘á»™ chÃ­nh xÃ¡c cao, nhÆ°ng chÃºng cÃ³ má»™t nhÆ°á»£c Ä‘iá»ƒm ráº¥t lá»›n lÃ  thá»i gian huáº¥n luyá»‡n vÃ  Ä‘Æ°a quyáº¿t Ä‘á»‹nh ráº¥t cháº­m. Faster R-CNN xá»­ lÃ½ khoáº£ng 7 <em>FPS</em> trÃªn táº­p dá»¯ liá»‡u PASCAL VOC 2007. Má»™t cÃ¡ch Ä‘á»ƒ tÄƒng tá»‘c quÃ¡ trÃ¬nh tÃ­nh toÃ¡n lÃ  giáº£m sá»‘ lÆ°á»£ng tÃ­nh toÃ¡n trÃªn má»—i ROI.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="ln">1</span><span class="cl"><span class="n">feature_maps</span> <span class="o">=</span> <span class="n">process</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="n">ROIs</span> <span class="o">=</span> <span class="n">region_proposal</span><span class="p">(</span><span class="n">feature_maps</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="k">for</span> <span class="n">ROI</span> <span class="ow">in</span> <span class="n">ROIs</span>
</span></span><span class="line"><span class="ln">4</span><span class="cl">    <span class="n">patch</span> <span class="o">=</span> <span class="n">roi_align</span><span class="p">(</span><span class="n">feature_maps</span><span class="p">,</span> <span class="n">ROI</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">5</span><span class="cl">    <span class="n">results</span> <span class="o">=</span> <span class="n">detector2</span><span class="p">(</span><span class="n">patch</span><span class="p">)</span>    <span class="c1"># Giáº£m khá»‘i lÆ°á»£ng tÃ­nh toÃ¡n á»Ÿ Ä‘Ã¢y</span>
</span></span></code></pre></div><p>Má»™t Ã½ tÆ°á»Ÿng khÃ¡c, lÃ  chÃºng ta sáº½ bá» qua bÆ°á»›c tÃ¬m region proposal, mÃ  trá»±c tiáº¿p rÃºt trÃ­ch boundary boxes vÃ  classes trá»±c tiáº¿p tá»« feature map.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="ln">1</span><span class="cl"><span class="n">feature_maps</span> <span class="o">=</span> <span class="n">process</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="n">results</span> <span class="o">=</span> <span class="n">detector3</span><span class="p">(</span><span class="n">feature_maps</span><span class="p">)</span> <span class="c1"># KhÃ´ng cáº§n tÃ¬m ROI</span>
</span></span></code></pre></div><p>Dá»±a trÃªn Ã½ tÆ°á»Ÿng sá»­ dá»¥ng cá»­a sá»• trÆ°á»£t. ChÃºng ta sáº½ trÆ°á»£t trÃªn feature mÃ¡p Ä‘á»ƒ nháº­n diá»‡n cÃ¡c Ä‘á»‘i tÆ°á»£ng. Vá»›i má»—i loáº¡i Ä‘á»‘i tÆ°á»£ng khÃ¡c nhau, chÃºng ta sá»­a dá»¥ng cÃ¡c cá»­a sá»• trÆ°á»£t cÃ³ kÃ­ch thÆ°á»›c khÃ¡c nhau. CÃ¡ch nÃ y thoáº¡t Ä‘áº§u trÃ´ng cÃ³ váº» khÃ¡ tá»‘t, nhÆ°ng Ä‘iá»ƒm yáº¿u cá»§a nÃ³ lÃ  Ä‘Ã£ sá»­ dá»¥ng cá»­a sá»• trÆ°á»£t lÃ m final boundary box. Do Ä‘Ã³, giáº£ sá»­ chÃºng ta cÃ³ nhiá»u Ä‘á»‘i tÆ°á»£ng, vÃ  má»—i Ä‘á»‘i tÆ°á»£ng cÃ³ kÃ­ch thÆ°á»›c khÃ¡c nhau, chÃºng ta sáº½ cÃ³ ráº¥t nhiá»u cá»­a sá»• trÆ°á»£t Ä‘á»ƒ bao phá»§ háº¿t toÃ n bá»™ Ä‘á»‘i tÆ°á»£ng.</p>
<p>Má»™t Ã½ tÆ°á»Ÿng cáº£i tiáº¿n lÃ  chÃºng ta sáº½ Ä‘á»‹nh nghÄ©a trÆ°á»›c cÃ¡c cá»­a sá»• trÆ°á»£t, sau Ä‘Ã³ sáº½ tiáº¿n hÃ nh dá»± Ä‘oÃ¡n lá»›p vÃ  boundary box ( vÃ  Ã tÆ°á»Ÿng nÃ y, nhÃ³m nghiÃªn cá»©u phÃ¡t triá»ƒn thuáº­t toÃ¡n vÃ  Ä‘áº·t tÃªn thuáº­t toÃ¡n lÃ  single shot detectors). Ã tÆ°á»Ÿng nÃ y tÆ°Æ¡ng tá»± nhÆ° viá»‡c sá»­ dá»¥ng anchors trong Faster R-CNN, nhÆ°ng single shot detectors thá»±c hiá»‡n dá»± Ä‘oÃ¡n boundary box vÃ  class Ä‘á»“ng thá»i cÃ¹ng nhau.</p>
<p>VÃ­ dá»¥, giáº£ sá»­ chÃºng ta cÃ³ má»™t feature map 8x8 vÃ  chÃºng ta Ä‘Æ°a ra k = 4 dá»± Ä‘oÃ¡n.  Váº­y ta cÃ³ tá»•ng cá»™ng 8x8x4 = 256 dá»± Ä‘oÃ¡n.</p>
<p><img class="img-fluid" alt="HÃ¬nh áº£nh" src="/blog/2018-12-06-what-do-we-learn-from-single-shot-object-detection/single-shot-object-detectors-img-1.jpg" loading="lazy"  title="HÃ¬nh áº£nh"
  
   />

</p>
<p>XÃ©t hÃ¬nh bÃªn trÃªn, ta cÃ³ 4 anchors Ä‘Ã£ Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trÆ°á»›c ( mÃ u xanh lÃ¡ cÃ¢y), vÃ  cÃ³ 4 prediction( mÃ u xanh nÆ°á»›c biá»ƒn) tÆ°Æ¡ng á»©ng vá»›i tá»«ng anchor trÃªn.</p>
<p>Vá»›i thuáº­t toÃ¡n Faster R-CNN, chÃºng ta sá»­ dá»¥ng má»™t convolution filter tráº£ ra 5 káº¿t quáº£ dá»± Ä‘oÃ¡n: 4 giÃ¡ trá»‹ lÃ  toáº¡ Ä‘á»™ cá»§a boundary box, vÃ  giÃ¡ trá»‹ cÃ²n láº¡i lÃ  xÃ¡c suáº¥t xuáº¥t hiá»‡n Ä‘á»‘i tÆ°á»£ng. Tá»•ng quÃ¡t hÆ¡n, ta cÃ³ input lÃ  D feature map 8x8, output lÃ  8x8x5, sá»‘ convolution filter trong Faster R-CNN lÃ  3x3xDx8.</p>
<p>Vá»›i single shot detector, input cá»§a ta cÅ©ng tÆ°Æ¡ng tá»± lÃ  8x8xD, output lÃ  8x8x (4 + C) ( vá»›i 4 tÆ°Æ¡ng á»©ng vá»›i 4 Ä‘iá»ƒm boundary box, vÃ  C lÃ  sá»‘ lÆ°á»£ng lá»›p Ä‘á»‘i tÆ°á»£ng), váº­y ta cáº§n má»™t convolution filter lÃ  3x3xDx(4+C)</p>
<p><img class="img-fluid" alt="HÃ¬nh áº£nh" src="/blog/2018-12-06-what-do-we-learn-from-single-shot-object-detection/single-shot-object-detectors-architech.png" loading="lazy"  title="HÃ¬nh áº£nh"
  
   />

</p>
<p>Thuáº­t toÃ¡n Single shot detect cháº¡y khÃ¡ nhanh, nhÆ°ng Ä‘á»™ chÃ­nh xÃ¡c cá»§a nÃ³ khÃ´ng cao láº¯m (khÃ´ng báº±ng region proposal). Thuáº­t toÃ¡n cÃ³ váº¥n Ä‘á» vá» viá»‡c nháº­n dáº¡ng cÃ¡c Ä‘á»‘i tÆ°á»£ng cÃ³ kÃ­ch thÆ°á»›c nhá». VÃ­ dá»¥ nhÆ° hÃ¬nh bÃªn dÆ°á»›i, chÃºng ta cÃ³ tá»•ng cá»™ng 9 Ã´ng giÃ  noel, nhÆ°ng thuáº­t toÃ¡n chá»‰ nháº­n diá»‡n Ä‘Æ°á»£c cÃ³ 5 Ã´ng.</p>
<p><img class="img-fluid" alt="HÃ¬nh áº£nh" src="/blog/2018-12-06-what-do-we-learn-from-single-shot-object-detection/single-shot-object-detectors-img-2.jpg" loading="lazy"  title="HÃ¬nh áº£nh"
  
   />

</p>
<h1 id="ssd">SSD<a class="anchor ms-1" href="#ssd"><i class="fas fa-link"></i></a></h1>
<p>SSD lÃ  mÃ´ hÃ¬nh single shot detector sá»­ dá»¥ng máº¡ng VGG16 Ä‘á»ƒ rÃºt trÃ­ch Ä‘áº·c trÆ°ng. MÃ´ hÃ¬nh nhÆ° hÃ¬nh bÃªn dÆ°á»›i. Trong Ä‘Ã³, nhá»¯ng conv cÃ³ mÃ u xanh nÆ°á»›c biá»ƒn nháº¡t lÃ  nhá»¯ng custom convolution layter (ta cÃ³ thá»ƒ thÃªm bá»›t bao nhiÃªu tuá»³ thÃ­ch). Convolutional filter layter (lÃ  cá»¥c mÃ u xanh lÃ¡ cÃ¢y) cÃ³ nhiá»‡m vá»¥ tá»•ng há»£p cÃ¡c thÃ´ng tin láº¡i Ä‘á»ƒ Ä‘Æ°a quyáº¿t Ä‘á»‹nh.</p>
<p><img class="img-fluid" alt="HÃ¬nh áº£nh" src="/blog/2018-12-06-what-do-we-learn-from-single-shot-object-detection/single-shot-object-detectors-vgg19-model.jpg" loading="lazy"  title="HÃ¬nh áº£nh"
  
   />

</p>
<p>Khi sá»­ dá»¥ng mÃ´ hÃ¬nh nhÆ° hÃ¬nh á»Ÿ trÃªn, chÃºng ta tháº¥y ráº±ng cÃ¡c custom convolution layter cÃ³ nhiá»‡m vá»¥ lÃ m giáº£m chiá»u vÃ  giáº£m Ä‘á»™ phÃ¢n giáº£i cá»§a bá»©c áº£nh. Cho nÃªn, mÃ´ hÃ¬nh chá»‰ cÃ³ kháº£ nÄƒng nháº­n ra cÃ¡c Ä‘á»‘i tÆ°á»£ng cÃ³ kÃ­ch thÆ°á»›c lá»›n. Äá»ƒ giáº£i quyáº¿t váº¥n Ä‘á» nÃ y, chÃºng ta sáº½ sá»­ dá»¥ng cÃ¡c object detector khÃ¡c nhau trÃªn má»—i feature maps (xem output cá»§a má»—i custom convolution lÃ  má»™t feature map).</p>
<p><img class="img-fluid" alt="HÃ¬nh áº£nh" src="/blog/2018-12-06-what-do-we-learn-from-single-shot-object-detection/single-shot-object-detectors-vgg19-model1.jpg" loading="lazy"  title="HÃ¬nh áº£nh"
  
   />

</p>
<p>áº¢nh bÃªn dÆ°á»›i lÃ  sÆ¡ Ä‘á»“ sá»‘ chiá»u cá»§a cÃ¡c feature maps.</p>
<p><img class="img-fluid" alt="HÃ¬nh áº£nh" src="/blog/2018-12-06-what-do-we-learn-from-single-shot-object-detection/single-shot-object-detectors-vgg19-diagram.jpg" loading="lazy"  title="HÃ¬nh áº£nh"
  
   />

</p>
<p>SSD sá»­ dá»¥ng cÃ¡c layter cÃ³ kÃ­ch thÆ°á»›c giáº£m dáº§n theo Ä‘á»™ sÃ¢u Ä‘á»ƒ nháº­n dáº¡ng Ä‘á»‘i tÆ°á»£ng. NhÃ¬n vÃ o hÃ¬nh váº½ sÆ¡ Ä‘á»“ bÃªn dÆ°á»›i cá»§a SSD, chÃºng ra dá»… dÃ ng nháº­n tháº¥y ráº±ng Ä‘á»™ phÃ¢n giáº£i giáº£m Ä‘Ã¡ng ká»ƒ qua má»—i layer vÃ  cÃ³ láº½ (cháº¯c cháº¯n) sáº½ bá» sÃ³t nhá»¯ng Ä‘á»‘i tÆ°á»£ng cÃ³ kÃ­ch thÆ°á»›c nhá» á»Ÿ nhá»¯ng lá»›p cÃ³ Ä‘á»™ phÃ¢n giáº£i tháº¥p. Náº¿u trong dá»± Ã¡n thá»±c táº¿ cá»§a báº¡n cÃ³ xáº£y ra váº¥n Ä‘á» nÃ y, báº¡n nÃªn tÄƒng Ä‘á»™ phÃ¢n giáº£i cá»§a áº£nh Ä‘áº§u vÃ o.</p>
<p><img class="img-fluid" alt="HÃ¬nh áº£nh" src="/blog/2018-12-06-what-do-we-learn-from-single-shot-object-detection/single-shot-object-detectors-SSD1-diagram.jpg" loading="lazy"  title="HÃ¬nh áº£nh"
  
   />

</p>
<h1 id="yolo">YOLO<a class="anchor ms-1" href="#yolo"><i class="fas fa-link"></i></a></h1>
<p>YOLO cÅ©ng lÃ  má»™t thuáº­t toÃ¡n sá»­ dá»¥ng single shot detector Ä‘á»ƒ dÃ² tÃ¬m vá»‹ trÃ­ cá»§a cÃ¡c Ä‘á»‘i tÆ°á»£ng trong áº£nh. YOLO sá»­ dá»¥ng DarkNet Ä‘á»ƒ táº¡o cÃ¡c feature cho bá»©c áº£nh (SSD sá»­ dá»¥ng VGG16). MÃ´ hÃ¬nh cá»§a YOLLO nhÆ° áº£nh á»Ÿ bÃªn dÆ°á»›i.</p>
<p><img class="img-fluid" alt="HÃ¬nh áº£nh" src="/blog/2018-12-06-what-do-we-learn-from-single-shot-object-detection/single-shot-object-detectors-darknet-diagram.jpg" loading="lazy"  title="HÃ¬nh áº£nh"
  
   />

</p>
<p>KhÃ¡c vá»›i kiáº¿n trÃºc máº¡ng SSD á»Ÿ trÃªn, YOLLO khÃ´ng sá»­ dá»¥ng multiple scale feature map (SSD sá»­ dá»¥ng cÃ¡c custom convolution layter, qua má»—i layter thÃ¬ feature maps sáº½ cÃ³ kÃ­ch thÆ°á»›c giáº£m xuá»‘ng - cÃ¡c output cá»§a custom convolution layer chÃ­nh lÃ  cÃ¡c feature map chÃºng ta thu Ä‘Æ°á»£c). Thay vÃ o Ä‘Ã³, YOLLO sáº½ lÃ m pháº³ng hoÃ¡ (flatten - vd ma tráº­n 3x3  sáº½ biáº¿n thÃ nh vector 1x9, ma tráº­n 4x5 sáº½ biáº¿n thÃ nh vector 1x20 &hellip;, lÃ m pháº³ng nghÄ©a lÃ  chÃºng ta sáº½ khÃ´ng dÃ¹ng bá»™ lá»c nÃ o háº¿t, mÃ  sá»­ dá»¥ng cÃ¡c phÃ©p biáº¿n Ä‘á»•i, nÃªn khÃ´ng lÃ m thay Ä‘á»•i giÃ¡ trá»‹, chá»‰ lÃ m thay Ä‘á»•i hÃ¬nh dáº¡ng) má»™t pháº§n output cá»§a convolution layer vÃ  káº¿t há»£p vá»›i  convolution layer á»Ÿ trong DarkNet táº¡o thÃ nh feature map (Xem hÃ¬nh á»Ÿ trÃªn sáº½ rÃµ hÆ¡n). VÃ­ dá»¥ á»Ÿ custom convolution layer chÃºng ta thu Ä‘Æ°á»£c output cÃ³ kÃ­ch thÆ°á»›c 28x28x512, chÃºng ta sáº½ flatten thÃ nh layter cÃ³ kÃ­ch thÆ°á»›c 14x14x2048, káº¿t há»£p vá»›i 1 layter cÃ³ kÃ­ch thÆ°á»›c 14x14x1024 á»Ÿ trong darknet, chÃºng ta thu Ä‘Æ°á»£c feature maps cÃ³ kÃ­ch thÆ°á»›c lÃ  14x14x3072. Äem feature maps nÃ y Ä‘i Ä‘á»± Ä‘oÃ¡n.</p>
<p>YOLOv2 Ä‘Ã£ thÃªm vÃ o ráº¥t nhiá»u cÃ¡c cáº£i tiá»n Ä‘á»ƒ cáº£i tÄƒng mAP tá»« 63.4 trong mÃ´ hÃ¬nh Ä‘áº§u tiÃªn (YOLOv1) lÃªn 78.6. CÃ¡c cáº£i tiá»n bao gá»“m thÃªm batch norm, anchor boxes,  hi-res classifier &hellip; CÃ¡c báº¡n cÃ³ thá»ƒ xem á»Ÿ hÃ¬nh bÃªn dÆ°á»›i. YOLO9000 cÃ³ thá»ƒ nháº­n dáº¡ng 9000 Ä‘á»‘i tÆ°á»£ng khÃ¡c nhau.</p>
<p><img class="img-fluid" alt="HÃ¬nh áº£nh" src="/blog/2018-12-06-what-do-we-learn-from-single-shot-object-detection/yollo-v2-improment.jpg" loading="lazy"  title="HÃ¬nh áº£nh"
  
   />

</p>
<p>YOLOv2 cÃ³ thá»ƒ nháº­n diá»‡n cÃ¡c Ä‘á»‘i tÆ°á»£ng vá»›i áº£nh Ä‘áº§u vÃ o cÃ³ Ä‘á»™ phÃ¢n giáº£i báº¥t ká»³. Vá»›i áº£nh cÃ³ Ä‘á»™ phÃ¢n giáº£i tháº¥p thÃ¬ mÃ´ hÃ¬nh cháº¡y khÃ¡ nhanh, cÃ³ FPS cao nhÆ°ng mAP láº¡i tháº¥p (tradeoff giá»¯a FPS vÃ  mAP).</p>
<p><img class="img-fluid" alt="HÃ¬nh áº£nh" src="/blog/2018-12-06-what-do-we-learn-from-single-shot-object-detection/yollo-v2-acc.jpg" loading="lazy"  title="HÃ¬nh áº£nh"
  
   />

</p>
<h1 id="yolov3">YOLOv3<a class="anchor ms-1" href="#yolov3"><i class="fas fa-link"></i></a></h1>
<p>YOLOv3 sá»­ dá»¥ng darknet vá»›i kiáº¿n trÃºc phá»©c hÆ¡n Ä‘á»ƒ rÃºt trÃ­ch Ä‘áº·c trÆ°ng cá»§a bá»©c áº£nh. YOLOv3 thÃªm vÃ o Ä‘áº·c trÆ°ng Pyramid Ä‘á»ƒ dÃ² tÃ¬m cÃ¡c Ä‘á»‘i tÆ°á»£ng cÃ³ kÃ­ch thÆ°á»›c nhá».</p>
<p>HÃ¬nh bÃªn dÆ°á»›i so sÃ¡nh tradeoff giá»¯a thá»i gian thá»±c thi vÃ  Ä‘á»™ chÃ­nh xÃ¡c giá»¯a cÃ¡c mÃ´ hÃ¬nh. Ta tháº¥y ráº±ng thá»i gian thá»±c thi cá»§a YOLOv3 ráº¥t nhanh, cÃ¹ng phÃ¢n má»©c mAP 28.8, thá»i gian YOLOv3 thá»±c thi chá»‰ tá»‘n 22ms, trong khi Ä‘Ã³ SSD321 tá»‘n Ä‘áº¿n 61ms - gáº¥p 3 láº§n.</p>
<p><img class="img-fluid" alt="HÃ¬nh áº£nh" src="/blog/2018-12-06-what-do-we-learn-from-single-shot-object-detection/single-shot-object-detectors-compare.jpg" loading="lazy"  title="HÃ¬nh áº£nh"
  
   />

</p>
<h1 id="feature-pyramid-networks-fpn">Feature Pyramid Networks (FPN)<a class="anchor ms-1" href="#feature-pyramid-networks-fpn"><i class="fas fa-link"></i></a></h1>
<p>DÃ² tÃ¬m cÃ¡c Ä‘á»‘i tÆ°á»£ng cÃ³ kÃ­ch thÆ°á»›c nhá» lÃ  má»™t váº¥n Ä‘á» Ä‘Ã¡ng Ä‘Æ°á»£c giáº£i quyáº¿t Ä‘á»ƒ nÃ¢ng cao Ä‘á»™ chÃ­nh xÃ¡c. VÃ  FPN lÃ  mÃ´ hÃ¬nh máº¡ng Ä‘Æ°á»£c thiáº¿t káº¿ ra dá»±a trÃªn khÃ¡i niá»‡m pyramid Ä‘á»ƒ giáº£i quyáº¿t váº¥n Ä‘á» nÃ y.</p>
<p><img class="img-fluid" alt="HÃ¬nh áº£nh" src="/blog/2018-12-06-what-do-we-learn-from-single-shot-object-detection/feature-pyramid-network-model1.jpg" loading="lazy"  title="HÃ¬nh áº£nh"
  
   />

</p>
<p>MÃ´ hÃ¬nh FPN káº¿t há»£p thÃ´ng tin cá»§a mÃ´ hÃ¬nh theo hÆ°á»›ng <em>bottom-up</em> káº¿t há»£p vá»›i <em>top-down</em> Ä‘á»ƒ dÃ² tÃ¬m Ä‘á»‘i tÆ°á»£ng (trong khi Ä‘Ã³, cÃ¡c thuáº­t toÃ¡n khÃ¡c chá»‰ thÆ°á»ng sá»­ dá»¥ng <em>bottom-up</em>). Khi chÃºng ta á»Ÿ bottom vÃ  Ä‘i lÃªn (up), Ä‘á»™ phÃ¢n giáº£i sáº½ giáº£m, nhÆ°ng giÃ¡ trá»‹ ngá»¯ nghÄ©a sáº½ tÄƒng lÃªn. Xem hÃ¬nh mÃ´ phá»ng bÃªn dÆ°á»›i.</p>
<p><img class="img-fluid" alt="HÃ¬nh áº£nh" src="/blog/2018-12-06-what-do-we-learn-from-single-shot-object-detection/feature-pyramid-network-model2.jpg" loading="lazy"  title="HÃ¬nh áº£nh"
  
   />

</p>
<p>SSD Ä‘Æ°a ra quyáº¿t Ä‘á»‹nh dá»±a vÃ o nhiá»u feature map. NhÆ°ng layer á»Ÿ bottom khÃ´ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ nháº­n dáº¡ng Ä‘á»‘i tÆ°á»£ng. VÃ¬ nhá»¯ng layter nÃ y cÃ³ Ä‘á»™ phÃ¢n giáº£i cao nhÆ°ng giÃ¡ trá»‹ ngá»¯ nghÄ©a cá»§a chÃºng láº¡i khÃ´ng Ä‘á»§ cao (tháº¥p) nÃªn nhá»¯ng nhÃ  nghiÃªn cá»©u bá» chÃºng Ä‘i Ä‘á»ƒ tÄƒng tá»‘c Ä‘á»™ xá»­ lÃ½. CÃ¡c nhÃ  nghiÃªng cá»©u biá»‡n minh ráº±ng cÃ¡c layer á»Ÿ bottom chÆ°a Ä‘á»§ má»©c Ã½ nghÄ©a cáº§n thiáº¿t Ä‘á»ƒ nÃ¢ng cao Ä‘á»™ chÃ­nh xÃ¡c, thÃªm cÃ¡c layer Ä‘Ã³ vÃ o sáº½ khÃ´ng nÃ¢ng Ä‘á»™ chÃ­nh xÃ¡c cao thÃªm bao nhiÃªu vÃ  há» bá» chÃºng Ä‘i Ä‘á»ƒ cÃ³ tá»‘c Ä‘á»™ tá»‘t hÆ¡n. Cho nÃªn, SSD chá»‰ sá»­ dá»¥ng cÃ¡c layer á»Ÿ lá»›p trÃªn , vÃ  do Ä‘Ã³ sáº½ khÃ´ng nháº­n dáº¡ng Ä‘Æ°á»£c cÃ¡c Ä‘á»‘i tÆ°á»£ng cÃ³ kÃ­ch thÆ°á»›c nhá».</p>
<p><img class="img-fluid" alt="HÃ¬nh áº£nh" src="/blog/2018-12-06-what-do-we-learn-from-single-shot-object-detection/ssd-model-bottom-up.jpg" loading="lazy"  title="HÃ¬nh áº£nh"
  
   />

</p>
<p>Trong khi Ä‘Ã³, FPN xÃ¢y dá»±ng thÃªm mÃ´ hÃ¬nh top-down, nháº±m má»¥c Ä‘Ã­ch xÃ¢y dá»±ng cÃ¡c layer cÃ³ Ä‘á»™ phÃ¢n giáº£i cao tá»« cÃ¡c layer cÃ³ ngá»¯ nghÄ©a cao.</p>
<p><img class="img-fluid" alt="HÃ¬nh áº£nh" src="/blog/2018-12-06-what-do-we-learn-from-single-shot-object-detection/fpn-top-down-model.jpg" loading="lazy"  title="HÃ¬nh áº£nh"
  
   />

</p>
<p>Trong quÃ¡ trÃ¬nh xÃ¢y dá»±ng láº¡i cÃ¡c layer tá»« top xuá»‘ng bottom, chÃºng ta sáº½ gáº·p má»™t váº¥n Ä‘á» khÃ¡ nghiÃªm trá»ng lÃ  bá»‹ máº¥t mÃ¡t thÃ´ng tin cá»§a cÃ¡c Ä‘á»‘i tÆ°á»£ng. VÃ­ dá»¥ má»™t Ä‘á»‘i tÆ°á»£ng nhá» khi lÃªn top sáº½ khÃ´ng tháº¥y nÃ³, vÃ  tá»« top Ä‘i ngÆ°á»£c láº¡i sáº½ khÃ´ng thá»ƒ tÃ¡i táº¡o láº¡i Ä‘á»‘i tÆ°á»£ng nhá» Ä‘Ã³. Äá»ƒ giáº£i quyáº¿t váº¥n Ä‘á» nÃ y, chÃºng ta sáº½ táº¡o cÃ¡c káº¿t ná»‘i (skip connection) giá»¯a cÃ¡c reconstruction layter vÃ  cÃ¡c feature map Ä‘á»ƒ giÃºp quÃ¡ trÃ¬nh detector dá»± Ä‘oÃ¡n cÃ¡c vá»‹ trÃ­ cá»§a Ä‘á»‘i tÆ°á»£ng thá»±c hiá»‡n tá»‘t hÆ¡n (háº¡n cháº¿ tá»‘t nháº¥t viá»‡c máº¥t mÃ¡t thÃ´ng tin).</p>
<p><img class="img-fluid" alt="HÃ¬nh áº£nh" src="/blog/2018-12-06-what-do-we-learn-from-single-shot-object-detection/fpn-top-down-model-with-skip-connection.jpg" loading="lazy"  title="HÃ¬nh áº£nh"
  
   />


<em>ThÃªm cÃ¡c skip connection giá»¯a feature map vÃ  reconstruction layer</em></p>
<p>Äá»“ hÃ¬nh bÃªn dÆ°á»›i diá»…n ta chi tiáº¿t Ä‘Æ°á»ng Ä‘i theo bottom-up vÃ  top-down. P2, P3, P4, P5 lÃ  cÃ¡c pyramid  cá»§a cÃ¡c feature map.</p>
<p><img class="img-fluid" alt="HÃ¬nh áº£nh" src="/blog/2018-12-06-what-do-we-learn-from-single-shot-object-detection/fpn-top-down-with-bottom-up.jpg" loading="lazy"  title="HÃ¬nh áº£nh"
  
   />

</p>
<h1 id="so-sÃ¡nh-feature-pyramid-networks-vá»›i-region-proposal-network">So sÃ¡nh Feature Pyramid Networks vá»›i Region Proposal Network<a class="anchor ms-1" href="#so-sÃ¡nh-feature-pyramid-networks-vá»›i-region-proposal-network"><i class="fas fa-link"></i></a></h1>
<p>FPN khÃ´ng pháº£i lÃ  mÃ´ hÃ¬nh phÃ¡t hiá»‡n Ä‘á»‘i tÆ°á»£ng. NÃ³ lÃ  mÃ´ hÃ¬nh phÃ¡t hiá»‡n Ä‘áº·c trÆ°ng vÃ  Ä‘Æ°á»£c sá»­ dá»¥ng trong phÃ¡t hiá»‡n Ä‘á»‘i tÆ°á»£ng. CÃ¡c feature map tá»« P2 Ä‘áº¿n P5 trong hÃ¬nh bÃªn dÆ°á»›i Ä‘á»™c láº­p vá»›i nhau vÃ  cÃ¡c Ä‘áº·c trÆ°ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ phÃ¡t hiá»‡n Ä‘á»‘i tÆ°á»£ng.</p>
<p><img class="img-fluid" alt="HÃ¬nh áº£nh" src="/blog/2018-12-06-what-do-we-learn-from-single-shot-object-detection/fpn-detail.jpg" loading="lazy"  title="HÃ¬nh áº£nh"
  
   />

</p>
<h1 id="sá»­-dá»¥ng-feature-pyramid-networks-trong-fast-r-cnn-vÃ -faster-r-cnn">Sá»­ dá»¥ng Feature Pyramid Networks trong Fast R-CNN vÃ  Faster R-CNN<a class="anchor ms-1" href="#sá»­-dá»¥ng-feature-pyramid-networks-trong-fast-r-cnn-vÃ -faster-r-cnn"><i class="fas fa-link"></i></a></h1>
<p>ChÃºng ta hoÃ n toÃ n cÃ³ thá»ƒ sá»­ dá»¥ng FPN trong Fast vÃ  Faster R-CNN. ChÃºng ta sáº½ táº¡o ra cÃ¡c feature map sá»­ dá»¥ng FPN, káº¿t quáº£ lÃ  ta thu Ä‘Æ°á»£c cÃ¡c puramid (feature map). Sau Ä‘Ã³, chÃºng ta sáº½ rÃºt trÃ­ch cÃ¡c ROIs trÃªn cÃ¡c feature map Ä‘Ã³. Dá»±a trÃªn kÃ­ch thÆ°á»›c cá»§a cÃ¡c ROI, chÃºng ta sáº½ chá»n feature map nÃ o tá»‘t nháº¥t Ä‘á»ƒ táº¡o cÃ¡c feature patches (cÃ¡c hÃ¬nh chá»¯ nháº­t nhá»). CÃ¡c báº¡n cÃ³ thá»ƒ xem chi tiáº¿t á»Ÿ hÃ¬nh bÃªn dÆ°á»›i.</p>
<p><img class="img-fluid" alt="HÃ¬nh áº£nh" src="/blog/2018-12-06-what-do-we-learn-from-single-shot-object-detection/fpn-in-faster-r-cnn.jpg" loading="lazy"  title="HÃ¬nh áº£nh"
  
   />

</p>
<h1 id="focal-loss-retinanet">Focal loss (RetinaNet)<a class="anchor ms-1" href="#focal-loss-retinanet"><i class="fas fa-link"></i></a></h1>
<p>Trong thá»±c táº¿, chÃºng ta sáº½ gáº·p tÃ¬nh tráº¡ng tá»· lá»‡ diá»‡n tÃ­ch cá»§a cÃ¡c Ä‘á»‘i tÆ°á»£ng trong áº£nh nhá» hÆ¡n nhiá»u so vá»›i pháº§n background cÃ²n láº¡i, vÃ­ dá»¥ chÃºng ta cáº§n nháº­n dáº¡ng má»™t quáº£ cam cÃ³ kÃ­ch thÆ°á»›c 100x100 trong áº£nh 1920x1080. VÃ¬ pháº§n background quÃ¡ lá»›n nÃªn chÃºng sáº½ lÃ  thÃ nh pháº§n &ldquo;thá»‘ng trá»‹&rdquo; vÃ  lÃ m sai lá»‡ch káº¿t quáº£. SSD sá»­ dá»¥ng phÆ°Æ¡ng phÃ¡p láº¥y máº«u tá»· lá»‡ cá»§a object class vÃ  background class trong quÃ¡ trÃ¬nh train (nÃªn background sáº½ khÃ´ng cÃ²n thá»‘ng trá»‹ ná»¯a).</p>
<p>NgoÃ i ra, chÃºng ta sáº½ cÃ²n gáº·p tÃ¬nh tráº¡ng lÃ  sá»‘ lÆ°á»£ng tá»· lá»‡ object trong áº£nh khÃ´ng Ä‘á»u nhau, vÃ­ dá»¥ trong táº­p huáº¥n luyá»‡t cÃ³ 1000 quáº£ cam vÃ  10 quáº£ tÃ¡o.</p>
<p>Focal loss (FL) Ä‘Æ°á»£c sinh ra Ä‘á»ƒ giáº£i quyáº¿t tÃ¬nh tráº¡ng nÃ y. Äá»ƒ Ä‘i vÃ o chi tiáº¿t hÆ¡n, chÃºng ta nháº¯c láº¡i hÃ m lá»—i cross entropy.</p>
<p>$$
\begin{equation}
CE(p,y) =
\begin{cases}
-\log(p) &amp; \text{if y=1} \\\\
-\log(1-p) &amp; \text{otherwise}
\end{cases}
\end{equation}
$$</p>
<p>Trong hÃ m trÃªn thÃ¬ y nháº­n giÃ¡ trá»‹ 1 hoáº·c -1. GiÃ¡ trá»‹ xÃ¡c xuáº¥t náº±m trong khoáº£ng (0,1) lÃ  xÃ¡c suáº¥t dá»± Ä‘oÃ¡n cho lá»›p cÃ³ y=1.</p>
<p>Äá»ƒ rÃµ rÃ ng hÆ¡n, ta cÃ³ thá»ƒ viáº¿t láº¡i hÃ m trÃªn nhÆ° sau:</p>
<p>$$
\begin{equation}
p_t =
\begin{cases}
p &amp; \text{if y=1} \\\\
1-p &amp; \text{otherwise}
\end{cases}
\end{equation}
$$</p>
<p>$$
\begin{equation}
CE(p,y) = CE(p_t) = -\log(p_t)
\end{equation}
$$</p>
<p>Ta cÃ³ nháº­n xÃ©t ráº±ng Ä‘á»‘i vá»›i cÃ¡c trÆ°á»ng há»£p Ä‘Æ°á»£c phÃ¢n loáº¡i tá»‘t (cÃ³ xÃ¡c suáº¥t lá»›n hÆ¡n 0.6) thÃ¬ hÃ m loss nháº­n gÃ¡i trá»‹ vá»›i Ä‘á»™ lá»›n lá»›n hÆ¡n 0. VÃ  trong trÆ°á»ng há»£p dá»¯ liá»‡u cÃ³ tá»· lá»‡ lá»‡ch cao thÃ¬ tá»•ng cÃ¡c giÃ¡ trá»‹ nÃ y sáº½ cho ra káº¿t quáº£ loss vá»›i má»™t con sá»‘ ráº¥t lá»›n so vá»›i loss cá»§a cÃ¡c trÆ°á»ng há»£p khÃ³ phÃ¢m loáº¡i. VÃ  nÃ³ áº£nh hÆ°á»Ÿng Ä‘áº¿n quÃ¡ trÃ¬nh huáº¥n luyá»‡n.</p>
<p><img class="img-fluid" alt="HÃ¬nh áº£nh" src="/blog/2018-12-06-what-do-we-learn-from-single-shot-object-detection/focal-lost.jpg" loading="lazy"  title="HÃ¬nh áº£nh"
  
   />

</p>
<p>Ã tÆ°á»Ÿng chÃ­nh cá»§a focal-lost lÃ  Ä‘á»‘i vá»›i cÃ¡c trÆ°á»ng há»£p Ä‘Æ°á»£c phÃ¢n loáº¡i tá»‘t ( xÃ¡c suáº¥t lá»›n hÆ¡n 0.5) thÃ¬ focal lost sáº½ lÃ m giáº£m giÃ¡ trá»‹ cross-entropy cá»§a nÃ³ xuá»‘ng nhá» hÆ¡n so vá»›i thÃ´ng thÆ°á»ng. Do Ä‘Ã³, ta sáº½ thÃªm trá»ng sá»‘ cho hÃ m cross-entropy Ä‘á»ƒ biáº¿n thÃ nh hÃ m focal lost.</p>
<p>$$
FL(p_t) = -(1-p_t)^\gamma\log(p_t)
$$</p>
<p>Vá»›i nhÃ¢n tá»­ Ä‘Æ°á»£c thÃªm vÃ o Ä‘Æ°á»£c gá»i lÃ  modulating factor, gamma lá»›n hÆ¡n hoáº·c báº±ng 0 Ä‘Æ°á»£c gá»i lÃ  tham sá»‘ focusing.</p>
<p>NhÃ¬n hÃ¬nh á»Ÿ trÃªn, ta tháº¥y ráº±ng khi gamma = 0 thÃ¬ hÃ m focal lost chÃ­nh lÃ  cross-entropy.</p>
<p>Äáº·c Ä‘iá»ƒm cá»§a hÃ m lost trÃªn nhÆ° sau:</p>
<p>Khi máº«u bá»‹ phÃ¢n loáº¡i sai, pt nhá», nhÃ¢n tá»‘ modulating factor gáº§n vá»›i 1 vÃ  hÃ m lost Ã­t bá»‹ áº£nh hÆ°á»Ÿng. Khi pt tiáº¿n gáº§n tá»›i 1 (máº«u phÃ¢n loáº¡i tá»‘t), moduling factor sáº½ tiáº¿n gáº§n tá»›i 0 vÃ  hÃ m loss trong trÆ°á»ng há»£p nÃ y sáº½ bá»‹ giáº£m trá»ng sá»‘ xuá»‘ng.</p>
<p>Tham sá»‘ focusing sáº½ Ä‘iá»u chá»‰nh tá»· lá»‡ cÃ¡c trÆ°á»ng há»£p Ä‘Æ°á»£c phÃ¢n loáº¡i tá»‘t Ä‘Æ°á»£c giáº£m trá»ng sá»‘. Khi gamma cÃ ng tÄƒng thÃ¬ áº£nh hÆ°á»Ÿng cá»§a modulating factor cÅ©ng tÄƒng. Trong cÃ¡c thÃ­ nghiá»‡m cho tháº¥y vá»›i gamma = 2 hÃ¬ káº¿t quáº£ Ä‘áº¡t Ä‘Æ°á»£c sáº½ tá»‘t nháº¥t.</p>
<p>HÃ¬nh bÃªn dÆ°á»›i lÃ  Ä‘á»“ hÃ¬nh cá»§a RetinaNet Ä‘Æ°á»£c xÃ¢y dá»±ng dá»±a trÃªn FPN vÃ  ResNet sá»­ dung Focal loss.</p>
<p><img class="img-fluid" alt="HÃ¬nh áº£nh" src="/blog/2018-12-06-what-do-we-learn-from-single-shot-object-detection/retina-net-fpn-resnet.jpg" loading="lazy"  title="HÃ¬nh áº£nh"
  
   />

</p>
<p>Cáº£m Æ¡n cÃ¡c báº¡n Ä‘Ã£ theo dÃµi. Háº¹n gáº·p báº¡n á»Ÿ cÃ¡c bÃ i viáº¿t tiáº¿p theo.</p>
<p>BÃ i viáº¿t Ä‘Æ°á»£c lÆ°á»£c dá»‹ch vÃ  tham kháº£o tá»« nguá»“n <a href="https://medium.com/@jonathan_hui/what-do-we-learn-from-single-shot-object-detectors-ssd-yolo-fpn-focal-loss-3888677c5f4d" target="_blank" rel="noopener noreferrer">https://medium.com/@jonathan_hui/what-do-we-learn-from-single-shot-object-detectors-ssd-yolo-fpn-focal-loss-3888677c5f4d</a></p>
</div></div>
  <div class="card-footer"><div class="post-navs d-flex justify-content-evenly"><div class="post-nav post-prev">
    <i class="fas fa-fw fa-chevron-left"></i>
    <a href="/blog/2018-12-05-what-do-we-learn-from-object-detection-p1/">TÃ¬m Hiá»ƒu Region Based Object Detectors
</a>
  </div><div class="post-nav post-next">
    <a href="/blog/2018-12-10-design-choices-lessons-learned-and-trends-for-object-detections/">Lá»±a Chá»n MÃ´ HÃ¬nh Object Detectors
</a>
    <i class="fas fa-fw fa-chevron-right"></i>
  </div></div></div>
</article><div class="card component row post-comments" id="post-comments">
  <div class="card-header">
    <h2 class="card-title">Comments</h2>
  </div>
  <div class="card-body"><script src="https://utteranc.es/client.js"
  repo="AlexBlack2202/utterances"
  issue-term="pathname"
  label="comment"
  theme="github-dark"
  crossorigin="anonymous"
  async>
</script></div>
</div></div>
</div><aside class="col-lg-3 col-md-4 sidebar d-flex">
  <div class="container d-flex flex-column">
    
    <a href="https://www.buymeacoffee.com/alexblack28"><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&emoji=ğŸ&slug=alexblack28&button_colour=FFDD00&font_colour=000000&font_family=Cookie&outline_colour=000000&coffee_colour=ffffff" /></a><div class="post-toc row mb-4 card component" id="postTOC">
  <div class="card-header">
    <h2 class="card-title">Contents</h2>
  </div>
  <div class="card-body">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#single-shot-detectors">Single Shot detectors</a></li>
    <li><a href="#ssd">SSD</a></li>
    <li><a href="#yolo">YOLO</a></li>
    <li><a href="#yolov3">YOLOv3</a></li>
    <li><a href="#feature-pyramid-networks-fpn">Feature Pyramid Networks (FPN)</a></li>
    <li><a href="#so-sÃ¡nh-feature-pyramid-networks-vá»›i-region-proposal-network">So sÃ¡nh Feature Pyramid Networks vá»›i Region Proposal Network</a></li>
    <li><a href="#sá»­-dá»¥ng-feature-pyramid-networks-trong-fast-r-cnn-vÃ -faster-r-cnn">Sá»­ dá»¥ng Feature Pyramid Networks trong Fast R-CNN vÃ  Faster R-CNN</a></li>
    <li><a href="#focal-loss-retinanet">Focal loss (RetinaNet)</a></li>
  </ul>
</nav>
  </div>
</div><section class="recent-posts row card component">
  <div class="card-header">
    <h2 class="card-title">Recent Posts</h2>
  </div>
  <div class="card-body">
    <ul class="post-list"><li>
        <a href="/blog/2025-06-15-vllm-introduce/">Giá»›i Thiá»‡u VLLM -  CÃ´ng Cá»¥ Phá»¥c Vá»¥ LLM Hiá»‡u Suáº¥t Cao Cho á»¨ng Dá»¥ng AI
</a>
      </li><li>
        <a href="/blog/2025-06-14-vram-llm-recommend/">Dung LÆ°á»£ng VRAM Cho NgÆ°á»i DÃ¹ng Phá»• ThÃ´ng Muá»‘n Tiáº¿p Cáº­n LLM Hoáº·c Machine Learning
</a>
      </li><li>
        <a href="/blog/2025-06-13-bay-tai-chinh-tuoi-tre/">Giáº¥c MÆ¡ Sá»Ÿ Há»¯u NhÃ  VÃ  CÃ¡i Báº«y TÃ i ChÃ­nh Cá»§a Tuá»•i Tráº»
</a>
      </li><li>
        <a href="/blog/2025-06-12-prevent-bedtime-procrastination/">PhÃ²ng Chá»‘ng Viá»‡c TrÃ¬ HoÃ£n Giá» Äi Ngá»§ (Prevent Bedtime Procrastination)
</a>
      </li><li>
        <a href="/blog/2025-04-29-etting-off-work-at-6-pm-is-already-quite-late/">Tan LÃ m LÃºc 6 Giá» Tá»‘i ÄÃ£ LÃ  KhÃ¡ Muá»™n Rá»“i - Quáº£n LÃ½ Thá»i Gian â€“ Sá»‘ng Trá»n Váº¹n â€“ Quyá»n ÄÆ°á»£c Nghá»‰ NgÆ¡i Cá»§a NgÆ°á»i Tráº»
</a>
      </li></ul>
  </div>
</section><section class="series-taxonomies row card component">
      <div class="card-header">
        <h2 class="card-title">
          <a href="/series">series</a>
        </h2>
      </div>
      <div class="card-body">
        <div class="py-2"><a href="/series/kh%C3%B3a-h%E1%BB%8Dc-python-c%C4%83n-b%E1%BA%A3n/" class="badge rounded post-taxonomy" title="KhÃ³a Há»c Python CÄƒn Báº£n">
            KhÃ³a Há»c Python CÄƒn Báº£n<span class="badge badge-sm text-white bg-accent ms-1">5</span></a><a href="/series/kh%C3%B3a-h%E1%BB%8Dc-c&#43;&#43;-c%C4%83n-b%E1%BA%A3n/" class="badge rounded post-taxonomy" title="KhÃ³a Há»c C&#43;&#43; CÄƒn Báº£n">
            KhÃ³a Há»c C&#43;&#43; CÄƒn Báº£n<span class="badge badge-sm text-white bg-accent ms-1">3</span></a><a href="/series/machine-learning-dataset/" class="badge rounded post-taxonomy" title="Machine Learning Dataset">
            Machine Learning Dataset<span class="badge badge-sm text-white bg-accent ms-1">2</span></a><a href="/series/ch%E1%BB%A9ng-kho%C3%A1n-c%C4%83n-b%E1%BA%A3n/" class="badge rounded post-taxonomy" title="Chá»©ng KhoÃ¡n CÄƒn Báº£n">
            Chá»©ng KhoÃ¡n CÄƒn Báº£n<span class="badge badge-sm text-white bg-accent ms-1">1</span></a></div>
      </div>
    </section><section class="tools-taxonomies row card component">
      <div class="card-header">
        <h2 class="card-title">
          <a href="/tools">tools</a>
        </h2>
      </div>
      <div class="card-body">
        <div class="py-2"><a href="/tools/tool-random/" class="badge rounded post-taxonomy" title="Tool Random">
            Tool Random<span class="badge badge-sm text-white bg-accent ms-1">2</span></a></div>
      </div>
    </section><section class="categories-taxonomies row card component">
      <div class="card-header">
        <h2 class="card-title">
          <a href="/categories">categories</a>
        </h2>
      </div>
      <div class="card-body">
        <div class="py-2"><a href="/categories/python/" class="badge rounded post-taxonomy" title="Python">
            Python<span class="badge badge-sm text-white bg-accent ms-1">5</span></a><a href="/categories/c&#43;&#43;/" class="badge rounded post-taxonomy" title="C&#43;&#43;">
            C&#43;&#43;<span class="badge badge-sm text-white bg-accent ms-1">3</span></a><a href="/categories/dataset/" class="badge rounded post-taxonomy" title="Dataset">
            Dataset<span class="badge badge-sm text-white bg-accent ms-1">2</span></a></div>
      </div>
    </section><section class="tags-taxonomies row card component">
      <div class="card-header">
        <h2 class="card-title">
          <a href="/tags">tags</a>
        </h2>
      </div>
      <div class="card-body">
        <div class="py-2"><a href="/tags/machine-learning/" class="badge rounded post-taxonomy" title="Machine Learning">
            Machine Learning<span class="badge badge-sm text-white bg-accent ms-1">45</span></a><a href="/tags/deep-learning/" class="badge rounded post-taxonomy" title="Deep Learning">
            Deep Learning<span class="badge badge-sm text-white bg-accent ms-1">21</span></a><a href="/tags/deeplearning/" class="badge rounded post-taxonomy" title="DeepLearning">
            DeepLearning<span class="badge badge-sm text-white bg-accent ms-1">21</span></a><a href="/tags/python/" class="badge rounded post-taxonomy" title="Python">
            Python<span class="badge badge-sm text-white bg-accent ms-1">11</span></a><a href="/tags/opencv/" class="badge rounded post-taxonomy" title="Opencv">
            Opencv<span class="badge badge-sm text-white bg-accent ms-1">5</span></a><a href="/tags/c&#43;&#43;/" class="badge rounded post-taxonomy" title="C&#43;&#43;">
            C&#43;&#43;<span class="badge badge-sm text-white bg-accent ms-1">4</span></a><a href="/tags/marketing/" class="badge rounded post-taxonomy" title="Marketing">
            Marketing<span class="badge badge-sm text-white bg-accent ms-1">4</span></a><a href="/tags/normalization/" class="badge rounded post-taxonomy" title="Normalization">
            Normalization<span class="badge badge-sm text-white bg-accent ms-1">4</span></a><a href="/tags/object-detector/" class="badge rounded post-taxonomy" title="Object Detector">
            Object Detector<span class="badge badge-sm text-white bg-accent ms-1">4</span></a><a href="/tags/recommendation/" class="badge rounded post-taxonomy" title="Recommendation">
            Recommendation<span class="badge badge-sm text-white bg-accent ms-1">4</span></a></div>
      </div>
    </section>
    
  </div>
</aside>
</div>
    </main><footer class="footer mt-auto py-3 text-center container"><ul class="nav justify-content-between footer-memu mb-3"><li class="nav-item"><ul class="nav flex-column align-items-start">
      <li class="nav-item">
        <a class="nav-link fw-bold" target="_blank" rel="noopener noreferrer">Support
</a>
      </li><li class="nav-item">
            <a class="nav-link" href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer"><i class="fab fa-fw fa-github"></i>Repository
</a>
        </li><li class="nav-item">
            <a class="nav-link" href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer"><i class="fas fa-fw fa-comments"></i>Discussions
</a>
        </li><li class="nav-item">
            <a class="nav-link" href="/contact/"><i class="fas fa-fw fa-info-circle"></i>Contact Us
</a>
        </li><li class="nav-item">
            <a class="nav-link" href="/faq/"><i class="fas fa-fw fa-question-circle"></i>FAQs
</a>
        </li></ul></li><li class="nav-item"><ul class="nav flex-column align-items-start">
      <li class="nav-item">
        <a class="nav-link fw-bold" target="_blank" rel="noopener noreferrer">Docs
</a>
      </li><li class="nav-item">
            <a class="nav-link" href="/team_of_services" target="_blank" rel="noopener noreferrer"><i class="fas fa-fw fa-users"></i>Äiá»u khoáº£n sá»­ dá»¥ng
</a>
        </li><li class="nav-item">
            <a class="nav-link" href="/privacy" target="_blank" rel="noopener noreferrer"><i class="fas fa-fw fa-lock"></i>ChÃ­nh sÃ¡ch báº£o máº­t
</a>
        </li></ul></li><li class="nav-item"><ul class="nav flex-column align-items-start">
      <li class="nav-item">
        <a class="nav-link fw-bold" target="_blank" rel="noopener noreferrer">Features
</a>
      </li><li class="nav-item">
            <a class="nav-link" href="https://www.phamduytung.com/utils/gen_paswords/" target="_blank" rel="noopener noreferrer"><i class="fas fa-fw fa-paw"></i>Táº¡o password ngáº«u nhiÃªn
</a>
        </li></ul></li><li class="nav-item"><ul class="nav flex-column align-items-start">
      <li class="nav-item">
        <a class="nav-link fw-bold" target="_blank" rel="noopener noreferrer">LiÃªn káº¿t khÃ¡c
</a>
      </li><li class="nav-item">
            <a class="nav-link" href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer">Netlify
</a>
        </li><li class="nav-item">
            <a class="nav-link" href="https://www.facebook.com/groups/1354425091720104" target="_blank" rel="noopener noreferrer">facebook
</a>
        </li></ul></li></ul>
<div class="copyright mb-2">
  Copyright Â© 2016-2025 Pháº¡m Duy TÃ¹ng. All Rights Reserved.
</div>
<div class="powered-by mb-2">
  Website chia sáº» kiáº¿n thá»©c cá»§a Pháº¡m Duy TÃ¹ng vÃ  Äáº·ng Thá»‹ Háº±ng. Vui lÃ²ng liÃªn há»‡ email alexblack2202@gmail.com náº¿u báº¡n cÃ³ thÃ´ng tin cáº§n trao Ä‘á»•i.
</div></footer>
<script src="/js/main.ed2053ad82a243b263761567b5c1aaf974487aa84adacb89ae3ddf803ecc248a.js" integrity="sha256-7SBTrYKiQ7JjdhVntcGq&#43;XRIeqhK2suJrj3fgD7MJIo=" crossorigin="anonymous" defer></script><script src="/js/icons.min.8ff200851002b8138e6b35314683092e02edc155465d9dbfb7d115460f8f1fbe.js" integrity="sha256-j/IAhRACuBOOazUxRoMJLgLtwVVGXZ2/t9EVRg&#43;PH74=" crossorigin="anonymous" defer></script>
<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('\/service-worker.js').then(function(reg) {
      console.log('Successfully registered service worker', reg);
    }).catch(function(err) {
      console.warn('Error whilst registering service worker', err);
    });
  });
}
</script><script src="/js/viewer.min.ec58d2aa1a8916addf393be975fdf0070e8c872b0caef1673cb9f7eea067ce57.js" integrity="sha256-7FjSqhqJFq3fOTvpdf3wBw6MhysMrvFnPLn37qBnzlc=" crossorigin="anonymous" defer></script><script defer src="/js/katex.min.d5052035160facae59b60000106771baf2eb7671123813d21f1097a5a9218b6e.js" integrity="sha256-1QUgNRYPrK5ZtgAAEGdxuvLrdnESOBPSHxCXpakhi24=" crossorigin="anonymous"></script>

<script  data-ad-client="ca-pub-4644989745435991"  async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4644989745435991"
     crossorigin="anonymous"></script><script data-cfasync="false" type="text/javascript" data-adel="atag" src="//acscdn.com/script/atg.js" czid="eul3gyjdmm"></script>
  </body>
</html>
